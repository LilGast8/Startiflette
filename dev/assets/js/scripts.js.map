{"version":3,"sources":["node_modules/browser-pack/_prelude.js","dev/assets/js/app/App.js","dev/assets/js/app/Main.js","dev/assets/js/app/desktop/abstracts/views/AbstractPageView.js","dev/assets/js/app/desktop/controllers/PagesController.js","dev/assets/js/app/desktop/models/Assets.js","dev/assets/js/app/desktop/views/MainView.js","dev/assets/js/app/desktop/views/pages/Error404.js","dev/assets/js/app/desktop/views/pages/Home.js","dev/assets/js/app/desktop/views/pages/LegalNotices.js","dev/assets/js/app/desktop/views/pages/Project.js","dev/assets/js/app/desktop/views/pages/Projects.js","dev/assets/js/app/desktop/views/statics/MainLoader.js","dev/assets/js/app/shared/abstracts/controllers/AbstractPagesController.js","dev/assets/js/app/shared/abstracts/views/AbstractMainLoader.js","dev/assets/js/app/shared/abstracts/views/AbstractMainView.js","dev/assets/js/app/shared/abstracts/views/AbstractView.js","dev/assets/js/app/shared/configs/Config.js","dev/assets/js/app/shared/configs/Device.js","dev/assets/js/app/shared/configs/Lang.js","dev/assets/js/app/shared/configs/Path.js","dev/assets/js/app/shared/configs/Props.js","dev/assets/js/app/shared/events/CustomEvent.js","dev/assets/js/app/shared/routes/Router.js","dev/assets/js/app/shared/utils/DatGUI.js","dev/assets/js/app/shared/utils/Debug.js","dev/assets/js/app/shared/utils/FPSStats.js","dev/assets/js/app/shared/utils/MemoryStats.js","dev/assets/js/app/shared/utils/String.js","dev/assets/js/vendor/dat.gui.js","dev/assets/js/vendor/memory-stats.js","dev/assets/js/vendor/signals.js","dev/assets/js/vendor/stats.js","dev/assets/js/vendor/zepto.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnsIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7bA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC/KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"scripts.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict';\n\n\nvar Config\t\t\t= require( 'shared/configs/Config' );\nvar Props\t\t\t= require( 'shared/configs/Props' );\nvar Device\t\t\t= require( 'shared/configs/Device' );\nvar Path\t\t\t= require( 'shared/configs/Path' );\nvar Lang\t\t\t= require( 'shared/configs/Lang' );\nvar Debug\t\t\t= require( 'shared/utils/Debug' );\nvar MainView\t\t= require( 'desktop/views/MainView' );\nvar PagesController\t= require( 'desktop/controllers/PagesController' );\n\n\n\n\nfunction App() {\n\t\n}\n\n\nApp.prototype.init = function() {\n\t/*var config = Config;\n\tconfig.init();\n\tconsole.log( config );\n\t\n\tvar props = Props;\n\tprops.init();\n\tconsole.log( props );\n\t\n\tvar device = Device;\n\tdevice.init();\n\tconsole.log( device );\n\t\n\tvar path = Path;\n\tpath.init();\n\tconsole.log( path );\n\t\n\tvar lang = Lang;\n\tlang.init();\n\tconsole.log( lang );*/\n\t\n\tConfig.init();\n\tProps.init();\n\tDevice.init();\n\tPath.init();\n\tLang.init();\n\tDebug.init( false, false, false );\n\tPagesController.init();\n\tMainView.init();\n\t// STF.Router.init();\n};\n\n\nmodule.exports = App;\n\n","'use strict';\n\n\nrequire( 'zepto' );\n\nvar App = require( 'App' );\n\n\n\nfunction Main() {}\n\n\n\nMain.prototype.init = function() {\n\tvar app = new App();\n\t// var ra;\n\t// var asdd;\n\t// console.log( '⚡️ SLP ⚡️' );\n\t// window.STF = app;\n\tapp.init();\n};\n\n\nvar main = new Main();\n\n$( main.init.bind( main ) );\n// $( STF.Main.init.bind( STF.Main ) );\n\n\n\n/*\nSTF.Main = ( function( window ) {\n\t'use strict';\n\t\n\t\n\tfunction Main() {\n\t\t\n\t}\n\t\n\t\n\tMain.prototype.init = function() {\n\t\tSTF.Config.init();\n\t\tSTF.Props.init();\n\t\tSTF.Device.init();\n\t\tSTF.Path.init();\n\t\tSTF.Lang.init();\n\t\t\n\t\t_initDebug.call( this );\n\t\t\n\t\tSTF.PagesController.init();\n\t\tSTF.MainView.init();\n\t\tSTF.Router.init();\n\t\t\n\t\t// this.$window.on( 'load', $.proxy( _windowLoad, this ) );\n\t};\n\t\n\t\n\tvar _initDebug = function() {\n\t\t_initFPSStats.call( this, false );\n\t\t_initMemoryStats.call( this, false );\n\t\t_initDatGUI.call( this, false );\n\t};\n\t\n\t\n\tvar _initFPSStats = function( isSet ) {\n\t\tSTF.Config.setFPSStats( isSet );\n\t\t\n\t\tif ( isSet && ( STF.Config.IS_DEV || STF.Config.IS_PREPROD_LOCAL ) )\n\t\t\tSTF.Utils.FPSStats.init();\n\t};\n\t\n\t\n\tvar _initMemoryStats = function( isSet ) {\n\t\tSTF.Config.setMemoryStats( isSet );\n\t\t\n\t\tif ( isSet && ( STF.Config.IS_DEV || STF.Config.IS_PREPROD_LOCAL ) )\n\t\t\tSTF.Utils.MemoryStats.init();\n\t};\n\t\n\t\n\tvar _initDatGUI = function( isSet ) {\n\t\tif ( isSet && ( STF.Config.IS_DEV || STF.Config.IS_PREPROD_LOCAL ) )\n\t\t\tSTF.Utils.DatGUI.init();\n\t};\n\t\n\t\n\treturn new Main();\n\t\n\t\n} ) ( window );\n\n\n$( STF.Main.init.bind( STF.Main ) );\n*/\n\n","'use strict';\n\n\nvar AbstractView = require( 'shared/abstracts/views/AbstractView' );\n\n\n\nfunction AbstractPageView() {\n\tAbstractView.call( this );\n\t\n\tthis.imgToLazyloadClassName\t= 'img-lazyload'; // class name of images to lazyload\n\tthis.lazyloadParentEl\t\t= null; // selector of parent of images to lazyload\n}\n\n\nAbstractPageView.prototype\t\t\t\t= Object.create( AbstractView.prototype );\nAbstractPageView.prototype.constructor\t= AbstractPageView;\n\n\nAbstractPageView.prototype.initDOM = function() {\n\t// console.log( 'AbstractPageView.initDOM() — ', this.constructor.name );\n\t\n\tthis.$page = $( document.getElementById( 'page' ) );\n};\n\n\nAbstractPageView.prototype.initEl = function() {\n\t// console.log( 'AbstractPageView.initEl() — ', this.constructor.name );\n\t\n\tthis.lazyLoader = new STF.LazyLoader( this.$page, this.imgToLazyloadClassName, this.lazyloadParentEl, 1, true );\n};\n\n\nAbstractPageView.prototype.initTl = function() {\n\t/* Show page */\n\tthis.tl.showPage = new TimelineLite( {\n\t\tpaused:\t\ttrue,\n\t\tonComplete:\tthis.onPageShown.bind( this )\n\t} );\n\tthis.tl.showPage.to( this.$page, 0.8, { opacity:1, ease:Quad.easeOut } );\n\t\n\t/* Hide page */\n\tthis.tl.hidePage = new TimelineLite( {\n\t\tpaused:\t\ttrue,\n\t\tonComplete:\tthis.onPageHidden.bind( this )\n\t} );\n\tthis.tl.hidePage.to( this.$page, 0.8, { opacity:0, ease:Quad.easeOut } );\n};\n\n\nAbstractPageView.prototype.show = function() {\n\t// if ( STF.PagesController.isFirstLoad )\n\t// \tthis.tl.showPage.progress(1);\n\t\t\n\t// else\n\t\tthis.tl.showPage.play(0);\n};\n\n\nAbstractPageView.prototype.hide = function() {\n\tthis.tl.hidePage.play(0);\n};\n\n\nAbstractPageView.prototype.destroy = function() {\n\tAbstractView.prototype.destroy.call( this );\n\t\n\tif ( this.lazyLoader !== undefined )\n\t\tthis.lazyLoader.destroy();\n};\n\n\nAbstractPageView.prototype.onPageShown = function() {\n\tthis.dispatch( this.E.SHOWN );\n};\n\n\nAbstractPageView.prototype.onPageHidden = function() {\n\tthis.dispatch( this.E.HIDDEN );\n};\n\n\nmodule.exports = AbstractPageView;\n\n","'use strict';\n\n\nvar AbstractPagesController = require( 'shared/abstracts/controllers/AbstractPagesController' );\n\n\n\nfunction PagesController() {\n\tAbstractPagesController.call( this );\n\t\n\t// this.LOADING_MODE\t\t\t= null;\n\t// this.DYNAMIC_IMG_TO_LOAD\t= null;\n\t// this.IS_HIDE_INIT\t\t\t= null;\n}\n\n\nPagesController.prototype\t\t\t\t= Object.create( AbstractPagesController.prototype );\nPagesController.prototype.constructor\t= PagesController;\n\n\n/*PagesController.prototype.initPages = function() {\n\t\n};*/\n\n\n/*PagesController.prototype.managePageHidingTransitions = function() {\n\t\n};*/\n\n\n/*PagesController.prototype.checkPageHiding = function() {\n\t\n};*/\n\n\n/*PagesController.prototype.managePageShowingTransitions = function() {\n\t\n};*/\n\n\n/*AbstractPagesController.prototype.checkPageShowing = function() {\n\t\n};*/\n\n\nPagesController.prototype.manageMenuLinks = function() {\n\tthis.updateMenuLinks( STF.Views.Statics.Header.$menuLink );\n\tthis.updateMenuLinks( STF.Views.Statics.Footer.$footerLink );\n};\n\n\nPagesController.prototype.manageLangLinks = function() {\n\tthis.changeLangLinks( STF.Views.Statics.Header.$headerLgLink );\n\tthis.changeLangLinks( STF.Views.Statics.Footer.$footerLgLink );\n};\n\n\nmodule.exports = new PagesController();\n\n","'use strict';\n\n\nvar AbstractAssets\t= require( 'desktop/abstracts/views/AbstractPageView' );\nvar Path\t\t\t= require( 'shared/configs/Path' );\n\n\n\nfunction Assets() {\n\tAbstractAssets.call( this );\n}\n\n\nAssets.prototype\t\t\t\t= Object.create( AbstractAssets.prototype );\nAssets.prototype.constructor\t= Assets;\n\n\nAssets.prototype.init = function() {\n\tthis.aImg = {\n\t\t'global': [\n\t\t\t/* bgs */\n\t\t\t\n\t\t\t/* btns */\n\t\t\t\n\t\t\t/* icons */\n\t\t\t\n\t\t\t/* logos */\n\t\t\t\n\t\t\t/* others */\n\t\t],\n\t\t\n\t\t'error-404': [\n\t\t\t/* temp */\n\t\t\tPath.URL.img + 'temp/404.jpg',\n\t\t],\n\t\t\n\t\t'not-available': [\n\t\t\t/* temp */\n\t\t\tPath.URL.img + 'temp/not-available.gif',\n\t\t],\n\t\t\n\t\t'home': [\n\t\t\t/* temp */\n\t\t\tPath.URL.img + 'temp/home.jpg',\n\t\t],\n\t\t\n\t\t'about': [\n\t\t\t/* temp */\n\t\t\tPath.URL.img + 'temp/about-1.jpg',\n\t\t\tPath.URL.img + 'temp/about-2.jpg',\n\t\t],\n\t\t\n\t\t'projects': [\n\t\t\t/* temp */\n\t\t\tPath.URL.img + 'temp/projects.jpg',\n\t\t]\n\t};\n\t\n\t\n\tthis.aJson = {\n\t\t'global': {\n\t\t\tglobal: Path.URL.json + 'test-global.json'\n\t\t},\n\t\t\n\t\t'home': {\n\t\t\thome: Path.URL.json + 'test-home.json'\n\t\t},\n\t\t\n\t\t'projects': {\n\t\t\tprojects: Path.URL.json + 'test-projects.json'\n\t\t}\n\t};\n};\n\n\nmodule.exports = new Assets();\n\n","'use strict';\n\n\nvar AbstractMainView = require( 'shared/abstracts/views/AbstractMainView' );\n\n// var Path\t\t\t= require( 'shared/configs/Path' );\n\n\n\nfunction MainView() {\n\tAbstractMainView.call( this );\n}\n\n\nMainView.prototype\t\t\t\t= Object.create( AbstractMainView.prototype );\nMainView.prototype.constructor\t= MainView;\n\n\n/*MainView.prototype.initDOM = function() {\n\tAbstractMainView.prototype.initDOM.call( this );\n};*/\n\n\nMainView.prototype.initEl = function() {\n\t// console.log( '🐷', this );\n\t\n\tAbstractMainView.prototype.initEl.call( this );\n\t\n\tthis.disableScrollRestoration();\n};\n\n\n/*MainView.prototype.bindEvents = function() {\n\tAbstractMainView.prototype.bindEvents.call( this );\n};*/\n\n\n/*MainView.prototype.initStaticsViews = function() {\n\tAbstractMainView.prototype.initStaticsViews.call( this );\n};*/\n\n\nmodule.exports = new MainView();\n\n","'use strict';\n\n\nvar AbstractPageView = require( 'desktop/abstracts/views/AbstractPageView' );\n\n\n\nfunction Error404() {\n\tAbstractPageView.call( this );\n}\n\n\nError404.prototype\t\t\t\t= Object.create( AbstractPageView.prototype );\nError404.prototype.constructor\t= Error404;\n\n\nError404.prototype.init = function() {\n\tAbstractPageView.prototype.init.call( this );\n};\n\n\nError404.prototype.bindEvents = function() {\n\tAbstractPageView.prototype.bindEvents.call( this );\n};\n\n\nError404.prototype.unbindEvents = function() {\n\tAbstractPageView.prototype.unbindEvents.call( this );\n};\n\n\nError404.prototype.resize = function() {\n\t\n};\n\n\nmodule.exports = Error404;\n\n","'use strict';\n\n\nvar AbstractPageView = require( 'desktop/abstracts/views/AbstractPageView' );\n\n\n\nfunction Home() {\n\tAbstractPageView.call( this );\n}\n\n\nHome.prototype\t\t\t\t= Object.create( AbstractPageView.prototype );\nHome.prototype.constructor\t= Home;\n\n\nHome.prototype.init = function() {\n\tAbstractPageView.prototype.init.call( this );\n};\n\n\nHome.prototype.bindEvents = function() {\n\tAbstractPageView.prototype.bindEvents.call( this );\n};\n\n\nHome.prototype.unbindEvents = function() {\n\tAbstractPageView.prototype.unbindEvents.call( this );\n};\n\n\nHome.prototype.resize = function() {\n\t\n};\n\n\nmodule.exports = Home;\n\n","'use strict';\n\n\nvar AbstractPageView = require( 'desktop/abstracts/views/AbstractPageView' );\n\n\n\nfunction LegalNotices() {\n\tAbstractPageView.call( this );\n}\n\n\nLegalNotices.prototype\t\t\t\t= Object.create( AbstractPageView.prototype );\nLegalNotices.prototype.constructor\t= LegalNotices;\n\n\nLegalNotices.prototype.initDOM = function() {\n\tAbstractPageView.prototype.initDOM.call( this );\n\t\n\tthis.$email\t= this.$page.find( '.email' );\n\t\n\t// STF_gl_encryptMailto( this.$.email, 'contact', 'domain', 'com', true );\n};\n\n\nLegalNotices.prototype.bindEvents = function() {\n\tAbstractPageView.prototype.bindEvents.call( this );\n};\n\n\nLegalNotices.prototype.unbindEvents = function() {\n\tAbstractPageView.prototype.unbindEvents.call( this );\n};\n\n\nLegalNotices.prototype.resize = function() {\n\t\n};\n\n\nmodule.exports = LegalNotices;\n\n","'use strict';\n\n\nvar AbstractPageView = require( 'desktop/abstracts/views/AbstractPageView' );\n\n\n\nfunction Project() {\n\tAbstractPageView.call( this );\n}\n\n\nProject.prototype\t\t\t\t= Object.create( AbstractPageView.prototype );\nProject.prototype.constructor\t= Project;\n\n\nProject.prototype.init = function() {\n\tAbstractPageView.prototype.init.call( this );\n};\n\n\nProject.prototype.bindEvents = function() {\n\tAbstractPageView.prototype.bindEvents.call( this );\n};\n\n\nProject.prototype.unbindEvents = function() {\n\tAbstractPageView.prototype.unbindEvents.call( this );\n};\n\n\nProject.prototype.resize = function() {\n\t\n};\n\n\nmodule.exports = Project;\n\n","'use strict';\n\n\nvar AbstractPageView = require( 'desktop/abstracts/views/AbstractPageView' );\n\n\n\nfunction Projects() {\n\tAbstractPageView.call( this );\n}\n\n\nProjects.prototype\t\t\t\t= Object.create( AbstractPageView.prototype );\nProjects.prototype.constructor\t= Projects;\n\n\nProjects.prototype.initDOM = function() {\n\tAbstractPageView.prototype.initDOM.call( this );\n\t\n\tthis.$projectLink = this.$page.find( '.proj-link' );\n};\n\n\nProjects.prototype.bindEvents = function() {\n\tAbstractPageView.prototype.bindEvents.call( this );\n\t\n\tthis.$projectLink.on( 'click', $.proxy( this.changeUrl, this ) );\n};\n\n\nProjects.prototype.unbindEvents = function() {\n\tAbstractPageView.prototype.unbindEvents.call( this );\n\t\n\tthis.$projectLink.off( 'click', $.proxy( this.changeUrl, this ) );\n};\n\n\nProjects.prototype.resize = function() {\n\t\n};\n\n\nmodule.exports = Projects;\n\n","'use strict';\n\n\nvar AbstractMainLoader = require( 'shared/abstracts/views/AbstractMainLoader' );\n\n\n\nfunction MainLoader() {\n\tAbstractMainLoader.call( this );\n}\n\n\nMainLoader.prototype\t\t\t\t= Object.create( AbstractMainLoader.prototype );\nMainLoader.prototype.constructor\t= MainLoader;\n\n\n/*MainLoader.prototype.init = function() {\n\tAbstractMainLoader.prototype.init.call( this );\n};*/\n\n\nMainLoader.prototype.initDOM = function() {\n\tthis.$loader\t\t= $( document.getElementById( 'main-loader' ) );\n\tthis.$loaderCont\t= this.$loader.find( '.main-loader-container' );\n\tthis.$percentage\t= this.$loader.find( '.main-loader-percentage' );\n\tthis.$progress\t\t= this.$loader.find( '.main-loader-progress' );\n\tthis.$loading\t\t= this.$loader.find( '.main-loader-loading' );\n};\n\n\nMainLoader.prototype.initTl = function() {\n\t/* Hide init */\n\tthis.tl.hideInit = new TimelineLite( { paused:true, onComplete:_onHideInitComplete.bind( this ) } );\n\t\n\tthis.tl.hideInit.to( this.$loader, 1.5, { xPercent:100, ease:Quart.easeInOut }, 0 );\n\tthis.tl.hideInit.to( this.$loaderCont, 1.5, { xPercent:-100, ease:Quart.easeInOut }, 0 );\n\t\n\t\n\t/* Show */\n\tthis.tl.show = new TimelineLite( { paused:true, onComplete:_onShowComplete.bind( this ) } );\n\t\n\tthis.tl.show.set( this.$loader, { xPercent:-100 }, 0 );\n\tthis.tl.show.set( this.$loaderCont, { xPercent:100 }, 0 );\n\tthis.tl.show.to( this.$loader, 1, { xPercent:0, ease:Quart.easeInOut }, 0 );\n\tthis.tl.show.to( this.$loaderCont, 1, { xPercent:0, ease:Quart.easeInOut }, 0 );\n\t\n\t\n\t/* Hide */\n\tthis.tl.hide = new TimelineLite( { paused:true, onComplete:_onHideComplete.bind( this ) } );\n\t\n\tthis.tl.hide.to( this.$loader, 1, { xPercent:100, ease:Quart.easeInOut }, 0 );\n\tthis.tl.hide.to( this.$loaderCont, 1, { xPercent:-100, ease:Quart.easeInOut }, 0 );\n};\n\n\nMainLoader.prototype.onProgress = function( percentage ) {\n\tvar posX = percentage - 100;\n\t\n\tthis.$percentage[0].innerHTML\t\t\t\t\t= parseInt( percentage ) + ' %';\n\tthis.$progress[0].style[ STF.Props.TRANSFORM ]\t= 'translate(' + posX + '%, 0%)';\n};\n\n\nMainLoader.prototype.hideInit = function() {\n\tthis.tl.hideInit.play();\n\t\n\t\n\t// this.$loader[0].style.display = 'none';\n\t// this.dispatch( this.E.HIDDEN );\n};\n\n\nMainLoader.prototype.show = function() {\n\tthis.$loader[0].style.display = 'block';\n\tthis.$loader[0].offsetHeight; // jshint ignore:line\n\t\n\tthis.tl.show.play(0);\n};\n\n\nMainLoader.prototype.hide = function() {\n\tthis.tl.hide.play(0);\n};\n\n\nvar _onHideInitComplete = function() {\n\tthis.killTimeline( 'hideInit' );\n\t\n\tSTF_dom_removeClass( this.$loader[0], 'init' );\n\tthis.$loader[0].style.display = 'none';\n\t\n\tthis.dispatch( this.E.HIDDEN );\n};\n\n\nvar _onShowComplete = function() {\n\tthis.dispatch( this.E.SHOWN );\n};\n\n\nvar _onHideComplete = function() {\n\t// LOADING_MODE == 'byPageStatic' && LOADING_MODE == 'byPageDynamic'\n\tthis.$percentage[0].innerHTML\t\t\t\t\t= '0 %';\n\tthis.$progress[0].style[ STF.Props.TRANSFORM ]\t= 'translate(-100%, 0%)';\n\t\n\tthis.$loader[0].style.display\t\t\t\t\t= 'none';\n\t\n\tthis.dispatch( this.E.HIDDEN );\n};\n\n\nreturn new MainLoader();\n\n","'use strict';\n\n\nvar CustomEvent\t\t= require( 'shared/events/CustomEvent' );\n\nvar Error404\t\t= require( 'desktop/views/pages/Error404' );\nvar LegalNotices\t= require( 'desktop/views/pages/LegalNotices' );\nvar Home\t\t\t= require( 'desktop/views/pages/Home' );\n// var About\t\t\t= require( 'desktop/views/pages/About' );\nvar Projects\t\t= require( 'desktop/views/pages/Projects' );\nvar Project\t\t\t= require( 'desktop/views/pages/Project' );\n\nvar AssetsModel\t\t= require( 'desktop/models/Assets' );\nvar MainLoader\t\t= require( 'desktop/views/statics/MainLoader' );\n\n\n\nfunction AbstractPagesController() {\n\tCustomEvent.call( this );\n\t\n\tthis.LOADING_MODE\t\t\t= 'byPageStatic'; // can be allStatic, byPageStatic, byPageDynamic\n\tthis.DYNAMIC_IMG_TO_LOAD\t= 'img'; // used when LOADING_MODE == 'byPageDynamic', can be img.class for selective preload\n\tthis.IS_HIDE_INIT\t\t\t= true; // set to true if need a different behavior when hide loader on init\n\t\n\tthis.pages\t\t\t\t\t= {};\n\tthis.page\t\t\t\t\t= null;\n\tthis.prevPageInfos\t\t\t= {};\n\tthis.pageInfos\t\t\t\t= {};\n\t\n\tthis.isFirstLoad\t\t\t= true;\n\tthis.isPageChange\t\t\t= true;\n\tthis.isContentLoaded\t\t= false;\n\tthis.isAssetsLoaded\t\t\t= false;\n\tthis.isPageHidden\t\t\t= false;\n\tthis.isPageShown\t\t\t= false;\n\tthis.isMainLoaderShown\t\t= false;\n\tthis.isMainLoaderHidden\t\t= false;\n\t\n\tthis.data\t\t\t\t\t= null;\n}\n\n\nAbstractPagesController.prototype\t\t\t\t= Object.create( CustomEvent.prototype );\nAbstractPagesController.prototype.constructor\t= AbstractPagesController;\n\n\nAbstractPagesController.prototype.init = function() {\n\tthis.initPages();\n\tthis.initEl();\n};\n\n\nAbstractPagesController.prototype.initPages = function() {\n\tthis.pages = {\n\t\t'error-404':\t\tError404,\n\t\t'legal-notices':\tLegalNotices,\n\t\t'home':\t\t\t\tHome,\n\t\t// 'about':\t\t\tAbout,\n\t\t'projects':\t\t\tProjects,\n\t\t'project':\t\t\tProject,\n\t};\n};\n\n\nAbstractPagesController.prototype.initEl = function() {\n\t// this.assetsModel = AssetsModel;\n\t// this.assetsModel.init();\n\tAssetsModel.init();\n\t\n\t// this.mainLoader = STF.Views.Statics.MainLoader;\n};\n\n\nAbstractPagesController.prototype.initFirstPage = function() {\n\tthis.bindEvents();\n\t_setPageInfos.call( this );\n\tthis.manageMenuLinks();\n\t_loadAssets.call( this );\n};\n\n\nAbstractPagesController.prototype.bindEvents = function() {\n\t// this.mainLoader.bind( this.mainLoader.E.FILE_LOAD, _onFileLoad, this );\n\t// this.mainLoader.bind( this.mainLoader.E.COMPLETE, _onAssetsLoaded, this );\n\tMainLoader.bind( MainLoader.E.FILE_LOAD, _onFileLoad, this );\n\tMainLoader.bind( MainLoader.E.COMPLETE, _onAssetsLoaded, this );\n};\n\n\nvar _setPageId = function( url ) {\n\tvar path\t= STF.Router.URL.path === '' ? 'index' : STF.Router.URL.path;\n\tvar id\t\t= STF.Config.JS_VIEWS_ID[ path ];\n\t\n\tif ( id === undefined )\n\t\tid = 'error-404';\n\t\n\tthis.prevPageInfos.id\t= this.pageInfos.id;\n\tthis.pageInfos.id\t\t= id;\n};\n\n\nvar _setPageInfos = function() {\n\tvar $page\t= $( document.getElementById( 'page' ) );\n\tvar id\t\t= $page[0].getAttribute( 'data-js-id' );\n\tvar title\t= $page[0].getAttribute( 'data-title' );\n\t\n\tif ( !STF.Config.NEED_PAGE_ID )\n\t\tthis.prevPageInfos.id\t= this.pageInfos.id;\n\tthis.prevPageInfos.title\t= this.pageInfos.title;\n\t\n\tthis.pageInfos.id\t\t\t= id;\n\tthis.pageInfos.title\t\t= title;\n\t\n\t_setPage.call( this );\n\t\n\tSTF.Router.setAltLangUrl( $page );\n};\n\n\nvar _setPage = function() {\n\tif ( this.pages[ this.pageInfos.id ] === undefined) {\n\t\tif ( !STF.Config.IS_PROD )\n\t\t\tconsole.warn( 'PagesController: no specific page view for the \"' + this.pageInfos.id + '\" ID. If you need one, create it and then set the view in the PagesController.pages object.' );\n\t\t\n\t\tthis.page = new STF.AbstractPageView();\n\t}\n\telse\n\t\tthis.page = new this.pages[ this.pageInfos.id ]();\n};\n\n\nAbstractPagesController.prototype.initPageChangeValues = function() {\n\tthis.isContentLoaded\t= false;\n\tthis.isAssetsLoaded\t\t= false;\n\tthis.isPageHidden\t\t= false;\n\tthis.isPageShown\t\t= false;\n\tthis.isMainLoaderShown\t= false;\n\tthis.isMainLoaderHidden\t= false;\n};\n\n\nvar _loadAssets = function() {\n\tvar aAssetsToLoad = this.assetsModel.getAssetsToLoad( this.pageInfos.id, this.isFirstLoad, this.LOADING_MODE );\n\t\n\t// this.mainLoader.loadAssets( aAssetsToLoad );\n\tMainLoader.loadAssets( aAssetsToLoad );\n};\n\n\nvar _onFileLoad = function( e ) {\n\tif ( e.item.type == 'image' )\n\t\t_onImgLoaded.call( this, e );\n\telse if ( e.item.type == 'json' )\n\t\tthis.assetsModel.setJsonData( e.item.id, e.result );\n};\n\n\nvar _onImgLoaded = function( e ) {\n\tvar $imgs = $( 'img' ).filter( '[ data-src=\"' + e.item.src + '\" ]' );\n\t_setImages.call( this, $imgs, e.item.src, 'preloaded' );\n};\n\n\nvar _setImages = function( $imgs, src, dataSrc ) {\n\tvar $img;\n\t\n\tfor ( var i = 0; i < $imgs.length; i++ ) {\n\t\t$img\t\t= $imgs[ i ];\n\t\t$img.src\t= src !== null ? src : $img.getAttribute( 'data-src' );\n\t\t\n\t\t$img.offsetHeight; // jshint ignore:line\n\t\t$img.setAttribute( 'data-src', dataSrc );\n\t}\n};\n\n\nvar _onAssetsLoaded = function() {\n\t_showNonLoadedImages.call( this );\n\t\n\t\n\t// first load\n\tif ( this.isFirstLoad ) {\n\t\tSTF.MainView.initAfterAssetsLoaded();\n\t\t\n\t\tthis.page.init();\n\t\t\n\t\tthis.page.bind( this.page.E.SHOWN, this.onPageShown, this );\n\t\tthis.page.show();\n\t\t\n\t\t// this.mainLoader.bind( this.mainLoader.E.HIDDEN, this.onMainLoaderHidden, this );\n\t\tMainLoader.bind( MainLoader.E.HIDDEN, this.onMainLoaderHidden, this );\n\t\t\n\t\tif ( this.IS_HIDE_INIT )\n\t\t\t// this.mainLoader.hideInit();\n\t\t\tMainLoader.hideInit();\n\t\t\n\t\telse\n\t\t\t// this.mainLoader.hide();\n\t\t\tMainLoader.hide();\n\t}\n\t\n\t\n\t// page change load\n\telse if ( !this.isFirstLoad && ( this.LOADING_MODE == 'byPageStatic' || this.LOADING_MODE == 'byPageDynamic' ) ) {\n\t\tthis.isAssetsLoaded = true;\n\t\t\n\t\tthis.checkPageHiding();\n\t}\n};\n\n\nvar _showNonLoadedImages = function() {\n\tvar $imgsCont = this.isFirstLoad ? STF.MainView.$body : STF.MainView.$pageCont;\n\t\n\tvar $imgs = $imgsCont.find( 'img' ).filter( function() {\n\t\treturn this.getAttribute( 'data-lazyload' ) != 'true' && this.getAttribute( 'data-src' ) != 'preloaded';\n\t} );\n\t\n\t_setImages.call( this, $imgs, null, 'non-preloaded' );\n};\n\n\nAbstractPagesController.prototype.changePage = function( url ) {\n\tSTF.Router.updateGA();\n\t\n\tif ( STF.Config.NEED_PAGE_ID )\n\t\t_setPageId.call( this, url );\n\t\n\t_disablePageChange.call( this );\n\tthis.initPageChangeValues();\n\t\n\tif ( this.LOADING_MODE == 'allStatic' )\n\t\tthis.isAssetsLoaded = true;\n\t\n\t_loadContent.call( this, url );\n\t\n\tthis.managePageHidingTransitions();\n};\n\n\nAbstractPagesController.prototype.changeSearch = function() {\n\tthis.page.updateSearch();\n};\n\n\nAbstractPagesController.prototype.changeHash = function() {\n\tthis.page.updateHash();\n};\n\n\nvar _loadContent = function( url ) {\n\t// setTimeout( function() { // simulate a very slow connection = very long load\n\t\n\t$.ajax({\n\t\tcontext:\tthis,\n\t\turl:\t\turl,\n\t\ttype:\t\t'POST',\n\t\tdata:\t\t{\n\t\t\t\t\t\t// useful if need differents behavior on PHP file when AJAX load\n\t\t\t\t\t\t// can be got with $_POST['ajax'] & $_POST['type']\n\t\t\t\t\t\tajax: 'true',\n\t\t\t\t\t\ttype: 'pageChange'\n\t\t\t\t\t},\n\t\tdataType:\t'html',\n\t\tsuccess:\t_onContentLoaded.bind( this ),\n\t\terror:\t\t_onContentError.bind( this )\n\t});\n\t\n\t// }.bind( this ), 3000 ); // simulate a very slow connection = very long load\n};\n\n\nvar _onContentLoaded = function( data ) {\n\tthis.data = data;\n\t\n\tthis.isContentLoaded = true;\n\tthis.checkPageHiding();\n};\n\n\nvar _onContentError = function( e ) {\n\tconsole.warn( 'Ajax loading error', e );\n\t\n\tif ( e.status == 404 )\n\t\t_force404Load.call( this );\n};\n\n\nvar _force404Load = function() {\n\tvar lang\t= STF.Lang.MULTI_LANG ? STF.Lang.LANG + '/' : '';\n\tvar url\t\t= STF.Path.URL.base + lang + '404';\n\t\n\t_loadContent.call( this, url );\n};\n\n\nAbstractPagesController.prototype.managePageHidingTransitions = function() {\n\tthis.page.bind( this.page.E.HIDDEN, this.onPageHidden, this );\n\tthis.page.hide();\n\t\n\t// this.mainLoader.bind( this.mainLoader.E.SHOWN, this.onMainLoaderShown, this );\n\t// this.mainLoader.show();\n\tMainLoader.bind( MainLoader.E.SHOWN, this.onMainLoaderShown, this );\n\tMainLoader.show();\n};\n\n\nAbstractPagesController.prototype.onPageHidden = function() {\n\tthis.page.unbind( this.page.E.HIDDEN, this.onPageHidden, this );\n\t\n\t_destroyPage.call( this );\n\t\n\tthis.isPageHidden = true;\n\tthis.checkPageHiding();\n};\n\n\nvar _destroyPage = function() {\n\tthis.page.destroy();\n\tthis.page = null;\n};\n\n\nAbstractPagesController.prototype.onMainLoaderShown = function() {\n\t// this.mainLoader.unbind( this.mainLoader.E.SHOWN, this.onMainLoaderShown, this );\n\tMainLoader.unbind( MainLoader.E.SHOWN, this.onMainLoaderShown, this );\n\t\n\tthis.isMainLoaderShown = true;\n\tthis.checkPageHiding();\n};\n\n\nAbstractPagesController.prototype.checkPageHiding = function() {\n\tif ( this. LOADING_MODE == 'allStatic' &&\n\t\t this.isContentLoaded && this.isAssetsLoaded && this.isPageHidden && this.isMainLoaderShown ) {\n\t\t\n\t\tthis.setContent();\n\t\tthis.showPage();\n\t}\n\t\n\telse if ( ( this. LOADING_MODE == 'byPageStatic' || this. LOADING_MODE == 'byPageDynamic' ) &&\n\t\t\t  this.isContentLoaded && !this.isAssetsLoaded && this.isPageHidden && this.isMainLoaderShown ) {\n\t\t\n\t\tthis.setContent();\n\t}\n\t\n\telse if ( ( this. LOADING_MODE == 'byPageStatic' || this. LOADING_MODE == 'byPageDynamic' ) &&\n\t\t\t  this.isContentLoaded && this.isAssetsLoaded && this.isPageHidden && this.isMainLoaderShown ) {\n\t\t\n\t\tthis.showPage();\n\t}\n};\n\n\nAbstractPagesController.prototype.setContent = function() {\n\tSTF.MainView.$pageCont[0].innerHTML = this.data;\n\t\n\t_setPageInfos.call( this );\n\t\n\tif ( this. LOADING_MODE != 'allStatic' ) {\n\t\tSTF_resetImgs( STF.MainView.$pageCont.find( 'img' ) );\n\t\tsetTimeout( function() { _loadAssets.call( this ); }.bind( this ), 0 );\n\t}\n\t\n\tthis.data = null;\n};\n\n\nAbstractPagesController.prototype.showPage = function() {\n\tthis.manageMenuLinks();\n\t_updateTitle.call( this );\n\t\n\tthis.page.init();\n\t\n\tthis.managePageShowingTransitions();\n};\n\n\nAbstractPagesController.prototype.managePageShowingTransitions = function() {\n\tthis.page.bind( this.page.E.SHOWN, this.onPageShown, this );\n\tthis.page.show();\n\t\n\t// this.mainLoader.bind( this.mainLoader.E.HIDDEN, this.onMainLoaderHidden, this );\n\t// this.mainLoader.hide();\n\tMainLoader.bind( MainLoader.E.HIDDEN, this.onMainLoaderHidden, this );\n\tMainLoader.hide();\n};\n\n\nAbstractPagesController.prototype.onPageShown = function() {\n\tthis.page.unbind( this.page.E.SHOWN, this.onPageShown, this );\n\t\n\tthis.isPageShown = true;\n\tthis.checkPageShowing();\n};\n\n\nAbstractPagesController.prototype.onMainLoaderHidden = function() {\n\t// this.mainLoader.unbind( this.mainLoader.E.HIDDEN, this.onMainLoaderHidden, this );\n\tMainLoader.unbind( MainLoader.E.HIDDEN, this.onMainLoaderHidden, this );\n\t\n\tthis.isMainLoaderHidden = true;\n\tthis.checkPageShowing();\n};\n\n\nAbstractPagesController.prototype.checkPageShowing = function() {\n\tif ( this.isPageShown && this.isMainLoaderHidden )\n\t\tthis.enablePageChange();\n};\n\n\nAbstractPagesController.prototype.manageMenuLinks = function() {\n\t\n};\n\n\nAbstractPagesController.prototype.updateMenuLinks = function( $link ) {\n\tvar $linkToInactivate\t= $link.filter( '.active' );\n\tvar $linkToActivate\t\t= $link.filter( '[ data-link-id=\"' + this.pageInfos.id + '\" ]' );\n\t\n\tif ( $linkToInactivate.length > 0 )\n\t\tSTF_dom_removeClass( $linkToInactivate[0], 'active' );\n\tif ( $linkToActivate.length )\n\t\tSTF_dom_addClass( $linkToActivate[0], 'active' );\n};\n\n\nAbstractPagesController.prototype.manageLangLinks = function() {\n\t\n};\n\n\nAbstractPagesController.prototype.changeLangLinks = function( $links ) {\n\tvar $link;\n\t\n\tfor ( var i = 0; i < $links.length; i++ ) {\n\t\t$link\t\t= $links[ i ];\n\t\t$link.href\t= STF.Router.ALT_LANG_URL[ $link.getAttribute( 'data-lang' ) ];\n\t}\n};\n\n\nvar _updateTitle = function() {\n\tdocument.title = this.pageInfos.title;\n};\n\n\nAbstractPagesController.prototype.enablePageChange = function() {\n\tthis.isPageChange = false;\n\t\n\tif ( this.isFirstLoad )\n\t\tthis.isFirstLoad = false;\n\t\n\tSTF.Router.checkUrlCorrespondence();\n};\n\n\nvar _disablePageChange = function() {\n\tthis.isPageChange = true;\n};\n\n\nmodule.exports = AbstractPagesController;\n\n","'use strict';\n\n\nvar AbstractView = require( 'shared/abstracts/views/AbstractView' );\n\n\n\nfunction AbstractMainLoader() {\n\tAbstractView.call( this );\n\t\n\tthis.E = {\n\t\tPROGRESS:\t'progress',\n\t\tFILE_LOAD:\t'fileLoad',\n\t\tCOMPLETE:\t'complete',\n\t\tSHOWN:\t\t'shown',\n\t\tHIDDEN:\t\t'hidden'\n\t};\n}\n\n\nAbstractMainLoader.prototype\t\t\t\t= Object.create( AbstractView.prototype );\nAbstractMainLoader.prototype.constructor\t= AbstractMainLoader;\n\n\nAbstractMainLoader.prototype.init = function() {\n\tAbstractView.prototype.init.call( this );\n\t\n\t_instanceAssetsLoader.call( this );\n};\n\n\nAbstractMainLoader.prototype.initDOM = function() {\n\t\n};\n\n\nAbstractMainLoader.prototype.initTl = function() {\n\t\n};\n\n\nAbstractMainLoader.prototype.resize = function() {\n\tAbstractView.prototype.resize.call( this );\n};\n\n\nvar _instanceAssetsLoader = function() {\n\tthis.assetsLoader = new STF.Loader( true, true );\n\tthis.assetsLoader.init();\n\t\n\tthis.assetsLoader.bind( this.assetsLoader.E.PROGRESS, this.onProgress, this );\n\tthis.assetsLoader.bind( this.assetsLoader.E.FILE_LOAD, _onFileLoad, this );\n\tthis.assetsLoader.bind( this.assetsLoader.E.COMPLETE, _onComplete, this );\n};\n\n\nAbstractMainLoader.prototype.loadAssets = function( aAssetsToLoad ) {\n\t// console.log( aAssetsToLoad );\n\t\n\tthis.assetsLoader.startLoad( aAssetsToLoad );\n};\n\n\nAbstractMainLoader.prototype.onProgress = function( percentage ) {\n\t\n};\n\n\nvar _onFileLoad = function( e ) {\n\tthis.dispatch( this.E.FILE_LOAD, e );\n};\n\n\nvar _onComplete = function( data ) {\n\tthis.dispatch( this.E.COMPLETE, data );\n};\n\n\nmodule.exports = AbstractMainLoader;\n\n","'use strict';\n\n\nvar AbstractView\t= require( 'shared/abstracts/views/AbstractView' );\n// var CustomEvent\t\t= require( 'shared/events/CustomEvent' );\nvar Path\t\t\t= require( 'shared/configs/Path' );\n\n// var MainLoader\t\t= require( 'desktop/views/statics/MainLoader' );\n// var Header\t\t\t= require( 'desktop/views/statics/Header' );\n// var PagesController\t= require( 'desktop/controllers/PagesController' );\n\n\n\nfunction AbstractMainView() {\n\tAbstractView.call( this );\n\t// CustomEvent.call( this );\n\t\n\tthis.E = {\n\t\tRESIZE:\t\t\t'resize',\n\t\tRAF:\t\t\t'raf',\n\t\tMOUSE_MOVE:\t\t'mousemove',\n\t\tMOUSE_DOWN:\t\t'mousedown',\n\t\tMOUSE_UP:\t\t'mouseup',\n\t\tTOUCH_MOVE:\t\t'touchmove',\n\t\tTOUCH_START:\t'touchstart',\n\t\tTOUCH_END:\t\t'touchend',\n\t\tWINDOW_OUT:\t\t'windowout',\n\t\tWINDOW_IN:\t\t'windowin'\n\t};\n\t\n\tthis.bW\t\t= null; // body width\n\tthis.bH\t\t= null; // body height\n\tthis.wW\t\t= null; // window width\n\tthis.wH\t\t= null; // window height\n\tthis.cX\t\t= null; // center X\n\tthis.cY\t\t= null; // center Y\n\tthis.sY\t\t= null; // scroll Y\n\tthis.siY\t= null; // scroll inertia Y\n\tthis.mX\t\t= null; // mouse X\n\tthis.mY\t\t= null; // mouse Y\n\tthis.miX\t= null; // mouse inertia X\n\tthis.miY\t= null; // mouse inertia Y\n\tthis.tX\t\t= null; // touch X\n\tthis.tY\t\t= null; // touch Y\n\t\n\tthis.SCROLL_INERTIA\t\t= 0.07;\n\tthis.MOUSE_INERTIA\t\t= 0.03;\n\t\n\tthis.isWindowFocused\t= true;\n}\n\n\nAbstractMainView.prototype\t\t\t\t= Object.create( AbstractView.prototype );\nAbstractMainView.prototype.constructor\t= AbstractMainView;\n// AbstractMainView.prototype\t\t\t\t= Object.create( CustomEvent.prototype );\n// AbstractMainView.prototype.constructor\t= AbstractMainView;\n\n\nAbstractMainView.prototype.init = function() {\n\tthis.initDOM();\n\tthis.initEl();\n\tthis.bindEvents();\n\t\n\tthis.initStaticsViews();\n\t\n\tthis.resize();\n};\n\n\nAbstractMainView.prototype.initDOM = function() {\n\tthis.$window\t= $( window );\n\tthis.$body\t\t= $( document.body );\n\tthis.$mainCont\t= $( document.getElementById( 'main-container' ) );\n\tthis.$pageCont\t= $( document.getElementById( 'page-container' ) );\n};\n\n\nAbstractMainView.prototype.initEl = function() {\n\tPath.overwriteSpecialPaths( this.$mainCont[0].getAttribute( 'data-assets-base-url' ) );\n};\n\n\nAbstractMainView.prototype.bindEvents = function() {\n\tthis.$window.on( 'resize', $.proxy( this.resize, this ) );\n\t// TweenLite.ticker.addEventListener( 'tick', this.raf, this );\n\t// this.$window.on( 'mousemove', $.proxy( this.mouseMove, this ) );\n\t// this.$window.on( 'mousedown', $.proxy( this.mouseDown, this ) );\n\t// this.$window.on( 'mouseup', $.proxy( this.mouseUp, this ) );\n\t// this.$window.on( 'touchmove', $.proxy( this.touchMove, this ) );\n\t// this.$window.on( 'touchstart', $.proxy( this.touchStart, this ) );\n\t// this.$window.on( 'touchend', $.proxy( this.touchEnd, this ) );\n\t// this.$window.on( 'blur', $.proxy( this.windowOut, this ) );\n\t// this.$window.on( 'focus', $.proxy( this.windowIn, this ) );\n};\n\n\nAbstractMainView.prototype.initStaticsViews = function() {\n\t// STF.Views.Statics.MainLoader.init();\n\t// STF.Views.Statics.Header.init();\n\t// STF.Views.Statics.Footer.init();\n\t\n\t// STF_dom_removeClass( this.$mainCont[0], 'preload' );\n};\n\n\nAbstractMainView.prototype.disableScrollRestoration = function() {\n\tif ( 'scrollRestoration' in history )\n\t\thistory.scrollRestoration = 'manual';\n};\n\n\nAbstractMainView.prototype.resize = function() {\n\t_setResizeProps.call( this );\n\t\n\tthis.dispatch( this.E.RESIZE );\n};\n\n\nvar _setResizeProps = function() {\n\tthis.bW = this.$body.width();\n\tthis.bH = this.$body.height();\n\tthis.wW = this.$window.width();\n\tthis.wH = this.$window.height();\n\tthis.cX = Math.round( this.bW / 2 );\n\tthis.cY = Math.round( this.wH / 2 );\n\t\n\tif ( this.mX === null && this.mY === null ) {\n\t\tthis.mX = this.cX;\n\t\tthis.mY = this.cY;\n\t}\n};\n\n\nAbstractMainView.prototype.raf = function() {\n\tif ( STF.Config.HAS_FPS_STATS && ( STF.Config.IS_DEV || STF.Config.IS_PREPROD_LOCAL ) )\n\t\tSTF.Utils.FPSStats.begin();\n\t\n\t\n\t_setRafProps.call( this );\n\t\n\tthis.dispatch( this.E.RAF );\n\t\n\t\n\tif ( STF.Config.HAS_FPS_STATS && ( STF.Config.IS_DEV || STF.Config.IS_PREPROD_LOCAL ) )\n\t\tSTF.Utils.FPSStats.end();\n\t\n\tif ( STF.Config.HAS_MEMORY_STATS && ( STF.Config.IS_DEV || STF.Config.IS_PREPROD_LOCAL ) )\n\t\tSTF.Utils.MemoryStats.update();\n};\n\n\nvar _setRafProps = function() {\n\tthis.sY\t\t= this.$window[0].scrollY || this.$window[0].pageYOffset;\n\tthis.siY\t= STF_math_getInertia( this.sY, this.siY, this.SCROLL_INERTIA );\n\t\n\tthis.miX\t= STF_math_getInertia( this.mX, this.miX, this.MOUSE_INERTIA );\n\tthis.miY\t= STF_math_getInertia( this.mY, this.miY, this.MOUSE_INERTIA );\n};\n\n\nAbstractMainView.prototype.mouseMove = function( e ) {\n\tthis.mX = e.clientX;\n\tthis.mY = e.clientY;\n\t\n\t// console.log( 'AbstractMainView _mouseMove()', this.mX, this.mY );\n\t\n\tthis.dispatch( this.E.MOUSE_MOVE );\n};\n\n\nAbstractMainView.prototype.mouseDown = function() {\n\tthis.dispatch( this.E.MOUSE_DOWN );\n};\n\n\nAbstractMainView.prototype.mouseUp = function() {\n\tthis.dispatch( this.E.MOUSE_UP );\n};\n\n\nAbstractMainView.prototype.touchMove = function( e ) {\n\te.preventDefault();\n\t\n\t// Zepto\n\tthis.tX = e.touches[0].pageX;\n\tthis.tY = e.touches[0].pageY;\n\t// jQuery\n\t// this.tX = e.originalEvent.touches[0].pageX;\n\t// this.tY = e.originalEvent.touches[0].pageY;\n\t\n\tthis.dispatch( this.E.TOUCH_MOVE );\n};\n\n\nAbstractMainView.prototype.touchStart = function() {\n\tthis.dispatch( this.E.TOUCH_START );\n};\n\n\nAbstractMainView.prototype.touchEnd = function() {\n\tthis.dispatch( this.E.TOUCH_END );\n};\n\n\nAbstractMainView.prototype.windowOut = function() {\n\tthis.isWindowFocused = false;\n\t\n\tthis.dispatch( this.E.WINDOW_OUT );\n};\n\n\nAbstractMainView.prototype.windowIn = function() {\n\tthis.isWindowFocused = true;\n\t\n\tthis.dispatch( this.E.WINDOW_IN );\n};\n\n\nAbstractMainView.prototype.setScrollY = function( scrollY ) {\n\tthis.sY\t\t= scrollY;\n\tthis.siY\t= scrollY;\n\t\n\tthis.$window[0].scrollTo( 0, scrollY );\n};\n\n\nAbstractMainView.prototype.setBodyHeight = function( bodyH ) {\n\tif ( bodyH === null )\n\t\tbodyH = this.$pageCont.height();\n\t\n\tthis.$body[0].style.height = bodyH + 'px';\n};\n\n\nAbstractMainView.prototype.initAfterAssetsLoaded = function() {\n\t\n};\n\n\nmodule.exports = AbstractMainView;\n\n","'use strict';\n\n\nvar CustomEvent\t= require( 'shared/events/CustomEvent' );\nvar MainView\t= require( 'desktop/views/MainView' );\n\n\n\nfunction AbstractView() {\n\tCustomEvent.call( this );\n\t\n\tthis.E\t\t= {\n\t\tSHOW:\t'show',\n\t\tSHOWN:\t'shown',\n\t\tHIDE:\t'hide',\n\t\tHIDDEN:\t'hidden'\n\t};\n\t\n\tthis.tw\t\t= {};\n\tthis.tl\t\t= {};\n\t\n\tthis.isInit\t= false;\n}\n\n\nAbstractView.prototype\t\t\t\t= Object.create( CustomEvent.prototype );\nAbstractView.prototype.constructor\t= AbstractView;\n\n\nAbstractView.prototype.init = function() {\n\tthis.initDOM();\n\tthis.initEl();\n\tthis.initTl();\n\tthis.bindEvents();\n\t\n\tthis.resize();\n};\n\n\nAbstractView.prototype.initDOM = function() {\n\t// console.log( 'AbstractView.initDOM() — ', this.constructor.name );\n};\n\n\nAbstractView.prototype.initEl = function() {\n\t// console.log( 'AbstractView.initEl() — ', this.constructor.name );\n};\n\n\nAbstractView.prototype.initTl = function() {\n\t// console.log( 'AbstractView.initTl() — ', this.constructor.name );\n};\n\n\nAbstractView.prototype.bindEvents = function() {\n\t// console.log( 'AbstractView.bindEvents() — ', this.constructor.name );\n\t\n\t// STF.MainView.bind( STF.MainView.E.RESIZE, this.resize, this );\n\tMainView.bind( MainView.E.RESIZE, this.resize, this );\n};\n\n\nAbstractView.prototype.unbindEvents = function() {\n\t// console.log( 'AbstractView.unbindEvents() — ', this.constructor.name );\n\t\n\t// STF.MainView.unbind( STF.MainView.E.RESIZE, this.resize, this );\n\tMainView.unbind( MainView.E.RESIZE, this.resize, this );\n};\n\n\nAbstractView.prototype.initView = function() {\n\t// console.log( 'AbstractView.initView() — ', this.constructor.name );\n\t\n\tthis.isInit = true;\n};\n\n\nAbstractView.prototype.show = function() {\n\t// console.log( 'AbstractView.show() — ', this.constructor.name );\n};\n\n\nAbstractView.prototype.hide = function() {\n\t// console.log( 'AbstractView.hide() — ', this.constructor.name );\n};\n\n\nAbstractView.prototype.resize = function() {\n\t// console.log( 'AbstractView.resize() — ', this.constructor.name );\n};\n\n\nAbstractView.prototype.raf = function() {\n\t// console.log( 'AbstractView.raf() — ', this.constructor.name );\n};\n\n\nAbstractView.prototype.destroy = function() {\n\tthis.isInit = false;\n\t\n\tthis.unbindEvents();\n\t\n\tthis.destroyGSAP();\n};\n\n\nAbstractView.prototype.destroyGSAP = function() {\n\t/* tween */\n\tfor ( var tween in this.tw )\n\t\tthis.killTween( tween );\n\t\n\t/* timeline */\n\tfor ( var timeline in this.tl )\n\t\tthis.killTimeline( timeline );\n\t\n\tthis.tl = {};\n\tthis.tw = {};\n};\n\n\nAbstractView.prototype.killTween = function( twName ) {\n\tif ( !this.tw[ twName ] )\n\t\treturn;\n\t\n\tthis.tw[ twName ].kill();\n\t\n\tthis.tw[ twName ] = null;\n};\n\n\nAbstractView.prototype.killTimeline = function( tlName ) {\n\tif ( !this.tl[ tlName ] )\n\t\treturn;\n\t\n\tthis.tl[ tlName ].stop();\n\tthis.tl[ tlName ].clear();\n\tthis.tl[ tlName ].kill();\n\t\n\tthis.tl[ tlName ] = null;\n};\n\n\n/**\n * Change the url\n * @params {object or string} e: most of time is an object when it come from a click on a link,\n *\t\t\t\t\t\t\t\t but if you need to force a specific url you can directly pass a string\n */\nAbstractView.prototype.changeUrl = function( e ) {\n\tif ( STF.Props.HAS_PUSHSTATE ) { // if pushstate supported\n\t\tvar url;\n\t\t\n\t\tif ( typeof e == 'object' ) {\n\t\t\te.preventDefault();\n\t\t\t\n\t\t\turl = e.currentTarget.href;\n\t\t}\n\t\telse if ( typeof e == 'string' )\n\t\t\turl = e;\n\t\t\n\t\tSTF.Router.updateUrl( url );\n\t}\n};\n\n\nAbstractView.prototype.updateSearch = function() {\n\tif ( !STF.Config.IS_PROD )\n\t\tconsole.warn( 'You need to override the updateSearch() method from AbstractView in the current page view.' );\n};\n\n\nAbstractView.prototype.updateHash = function() {\n\tif ( !STF.Config.IS_PROD )\n\t\tconsole.warn( 'You need to override the updateHash() method from AbstractView in the current page view.' );\n};\n\n\nmodule.exports = AbstractView;\n\n","'use strict';\n\n\n\nfunction Config() {\n\tthis.ENV\t\t\t\t= null;\n\tthis.ENVS\t\t\t\t= null;\n\tthis.ALL_LANG\t\t\t= null;\n\tthis.FORCE_DEVICE\t\t= null;\n\tthis.GA_ID\t\t\t\t= null;\n\tthis.CREDITS\t\t\t= null;\n\t\n\tthis.IS_DEV\t\t\t\t= null;\n\tthis.IS_PREPROD_LOCAL\t= null;\n\tthis.IS_PREPROD\t\t\t= null;\n\tthis.IS_PROD\t\t\t= null;\n\tthis.NEED_PAGE_ID\t\t= null;\n\t\n\tthis.JS_VIEWS_ID\t\t= null;\n\t\n\tthis.HAS_FPS_STATS\t\t= null;\n\tthis.HAS_MEMORY_STATS\t= null;\n}\n\n\nConfig.prototype.init = function() {\n\t_setConfig.call( this );\n\t_setJsViewsId.call( this );\n\t_showCreditsLog.call( this );\n};\n\n\nvar _setConfig = function() {\n\tfor ( var varName in STF_Config )\n\t\tthis[ varName ] = STF_Config[ varName ];\n};\n\n\nvar _setJsViewsId = function() {\n\tthis.JS_VIEWS_ID = STF_JS_VIEWS_ID;\n};\n\n\nvar _showCreditsLog = function() {\n\tconsole.log(\n\t\t'%cmade by %c— ' + this.CREDITS.author + ' —%c ' + this.CREDITS.authorUrl,\n\t\t'padding:8px 5px; color:' + this.CREDITS.color1 + '; line-height:25px;',\n\t\t'padding:8px 15px; color:' + this.CREDITS.color2 + '; background-color:' + this.CREDITS.color3 + '; line-height:25px;',\n\t\t'padding:8px 5px; color:' + this.CREDITS.color3 + '; line-height:25px;'\n\t);\n};\n\n\nConfig.prototype.setFPSStats = function( isSet ) {\n\tthis.HAS_FPS_STATS = isSet;\n};\n\n\nConfig.prototype.setMemoryStats = function( isSet ) {\n\tthis.HAS_MEMORY_STATS = isSet;\n};\n\n\nmodule.exports = new Config();\n\n","'use strict';\n\n\n\nfunction Device() {\n\tthis.HAS_MOBILE_VERSION\t= null;\n\tthis.TABLET_VERSION\t\t= null;\n\tthis.FORCE_DEVICE\t\t= null;\n\t\n\tthis.DEVICE\t\t\t\t= null;\n\tthis.IS_DESKTOP\t\t\t= null;\n\tthis.IS_TABLET\t\t\t= null;\n\tthis.IS_MOBILE\t\t\t= null;\n\tthis.BROWSER\t\t\t= null;\n\tthis.BROWSER_VERSION\t= null;\n\tthis.BROWSER_ENGINE\t\t= null;\n\tthis.IS_OLD_BROWSER\t\t= null;\n\tthis.IS_IE\t\t\t\t= null;\n\tthis.IS_EDGE\t\t\t= null;\n}\n\n\nDevice.prototype.init = function() {\n\t_setDevice.call( this );\n};\n\n\nvar _setDevice = function() {\n\tfor ( var varName in STF_Device )\n\t\tthis[ varName ] = STF_Device[ varName ];\n};\n\n\nmodule.exports = new Device();\n\n","'use strict';\n\n\nvar Router\t= require( 'shared/routes/Router' );\nvar Config\t= require( 'shared/configs/Config' );\n\n\n\nfunction Lang() {\n\t\n}\n\n\nLang.prototype.init = function() {\n\t_setGlobalInfos.call( this );\n\tRouter.setUrl( true, null );\n\t_setCurrentLang.call( this );\n\t_checkDefaultLang.call( this );\n\t_setLangLinks.call( this );\n};\n\n\nvar _setGlobalInfos = function() {\n\t// all lang\n\tthis.ALL_LANG = Config.ALL_LANG;\n\t\n\t// default lang\n\tthis.DEFAULT_LANG = this.ALL_LANG[0];\n\t\n\t// multi-lang\n\tif ( this.ALL_LANG.length == 1 )\n\t\tthis.MULTI_LANG = false;\n\telse\n\t\tthis.MULTI_LANG = true;\n};\n\n\nvar _setCurrentLang = function() {\n\tif ( !this.MULTI_LANG || Router.URL.path.length === 0 )\n\t\tthis.LANG = this.DEFAULT_LANG;\n\telse\n\t\tthis.LANG = Router.URL.pathParams[0];\n};\n\n\nvar _checkDefaultLang = function() {\n\tif ( this.ALL_LANG.indexOf( this.LANG ) < 0 )\n\t\tthis.LANG = this.DEFAULT_LANG;\n};\n\n\nvar _setLangLinks = function() {\n\tthis.LANG_LINK_ROOT\t= this.LANG == this.DEFAULT_LANG ? '' : this.LANG;\n\tthis.LANG_LINK\t\t= this.MULTI_LANG ? this.LANG + '/' : '';\n};\n\n\nmodule.exports = new Lang();\n\n","'use strict';\n\n\nvar Config\t\t= require( 'shared/configs/Config' );\n\n\n\nfunction Path() {\n\tthis.URL = null;\n}\n\n\nPath.prototype.init = function() {\n\t_setPaths.call( this );\n};\n\n\nvar _setPaths = function() {\n\tvar baseUrl = Config.ENVS.base_url;\n\t\n\t// url paths\n\tthis.URL = {\n\t\tbase:\t\tbaseUrl,\n\t\tassets:\t\tbaseUrl + 'assets/',\n\t\tcss:\t\tbaseUrl + 'assets/css/',\n\t\tfavicons:\tbaseUrl + 'assets/favicons/',\n\t\tfiles:\t\tbaseUrl + 'assets/files/',\n\t\timg:\t\tbaseUrl + 'assets/img/',\n\t\tjs:\t\t\tbaseUrl + 'assets/js/',\n\t\tjson:\t\tbaseUrl + 'assets/json/',\n\t\tsounds:\t\tbaseUrl + 'assets/sounds/',\n\t\tsvg:\t\tbaseUrl + 'assets/svg/',\n\t\tvideos:\t\tbaseUrl + 'assets/videos/',\n\t\troutes:\t\tbaseUrl + 'configs/routes/',\n\t\tserver:\t\tbaseUrl + 'server/',\n\t};\n};\n\n\nPath.prototype.overwriteSpecialPaths = function( assetsBaseUrl ) {\n\tif ( !assetsBaseUrl )\n\t\treturn;\n\t\n\t\n\tfor ( var key in this.URL )\n\t\tthis.URL[ key ] = this.URL[ key ].replace( 'assets/', assetsBaseUrl );\n};\n\n\nmodule.exports = new Path();\n\n","'use strict';\n\n\nfunction Props() {\n\tthis.HAS_PUSHSTATE\t\t= null;\n\tthis.TRANSFORM\t\t\t= null;\n\tthis.HAS_TRANSFORMS\t\t= null;\n\tthis.HAS_TRANSFORMS_3D\t= null;\n\tthis.HAS_TRANSITIONS\t= null;\n\tthis.HAS_ANIMATIONS\t\t= null;\n}\n\n\nProps.prototype.init = function() {\n\t_setProperties.call( this );\n};\n\n\nvar _setProperties = function() {\n\tthis.HAS_PUSHSTATE\t\t= Modernizr.history;\n\tthis.TRANSFORM\t\t\t= Modernizr.prefixed( 'transform' );\n\tthis.HAS_TRANSFORMS\t\t= Modernizr.csstransforms;\n\tthis.HAS_TRANSFORMS_3D\t= Modernizr.csstransforms3d;\n\tthis.HAS_TRANSITIONS\t= Modernizr.csstransitions;\n\tthis.HAS_ANIMATIONS\t\t= Modernizr.cssanimations;\n};\n\n\nmodule.exports = new Props();\n\n","'use strict';\n\n\nvar signals\t= require( 'signals' );\n\nvar Config\t= require( 'shared/configs/Config' );\n\n\n\nfunction CustomEvent() {\n\tthis.e\t\t\t\t\t\t= {};\n\tthis.E\t\t\t\t\t\t= {};\n\t\n\tthis.isWarningDispatched\t= false;\n}\n\n\nCustomEvent.prototype.bind = function( name, fct, context ) {\n\tif ( !name || !fct ) {\n\t\tif ( !Config.IS_PROD ) {\n\t\t\tvar missingParams;\n\t\t\t\n\t\t\tif ( !name && !fct )\n\t\t\t\tmissingParams = 'name and a function';\n\t\t\telse if ( !name )\n\t\t\t\tmissingParams = 'name';\n\t\t\telse if ( !fct )\n\t\t\t\tmissingParams = 'function';\n\t\t\t\n\t\t\tconsole.warn( 'You must to provide a ' + missingParams + ' to the custom event you want to bind.' );\n\t\t}\n\t\t\n\t\treturn;\n\t}\n\t\n\tif ( !context && !Config.IS_PROD )\n\t\tconsole.warn( 'Bind \"' + name + '\" custom event without context.' );\n\t\n\tif ( this.e[ name ] === undefined ) // if the custom event doesn't exist, create it\n\t\tthis.e[ name ] = new signals.Signal();\n\t\n\tthis.e[ name ].add( fct, context ); // add the listener to the custom event\n};\n\n\nCustomEvent.prototype.unbind = function( name, fct, context ) {\n\tif ( !name ) {\n\t\tif ( !Config.IS_PROD )\n\t\t\tconsole.warn( 'You must to define the name of the custom event you want to unbind.' );\n\t\t\n\t\treturn;\n\t}\n\t\n\t\n\tif ( fct !== undefined && fct !== null ) // remove a single listener from the custom event\n\t\tthis.e[ name ].remove( fct, context );\n\t\n\telse // remove all listeners from the custom event\n\t\tthis.e[ name ].removeAll();\n\t\n\t\n\tif ( this.e[ name ].getNumListeners() === 0 ) { // dispose & delete the event if listeners no longer exist\n\t\tthis.e[ name ].dispose();\n\t\tdelete this.e[ name ];\n\t}\n};\n\n\nCustomEvent.prototype.dispatch = function( name, params ) {\n\tif ( this.e[ name ] === undefined ) { // if the event is not registred\n\t\tif ( !Config.IS_PROD && !this.isWarningDispatched ) {\n\t\t\tconsole.warn( 'Trying to dispath \"' + name + '\" custom event which is undefined.' );\n\t\t\t\n\t\t\tthis.isWarningDispatched = true;\n\t\t}\n\t\t\n\t\treturn;\n\t}\n\t\n\tif ( params === undefined )\n\t\tthis.e[ name ].dispatch();\n\telse\n\t\tthis.e[ name ].dispatch( params );\n};\n\n\nmodule.exports = CustomEvent;\n\n","'use strict';\n\n\nvar CustomEvent\t= require( 'shared/events/CustomEvent' );\nvar Path\t\t= require( 'shared/configs/Path' );\n\nvar STF_String = require( 'shared/utils/String' );\n\n\n\nfunction Router() {\n\tCustomEvent.call( this );\n\t\n\tthis.URL\t\t\t\t\t= {};\n\tthis.ALT_LANG_URL\t\t\t= {};\n\t\n\tthis.isHomepage\t\t\t\t= null;\n\tthis.isPageChange\t\t\t= null;\n\tthis.isPageChangeByClick\t= null;\n\tthis.isSearchChange\t\t\t= null;\n\tthis.isHashChange\t\t\t= null;\n}\n\n\nRouter.prototype\t\t\t\t= Object.create( CustomEvent.prototype );\nRouter.prototype.constructor\t= Router;\n\n\nRouter.prototype.setUrl = function( isInit, url ) {\n\tthis.URL.full\t\t\t= _getFullUrl.call( this, url );\n\tthis.URL.path\t\t\t= STF_String.getPath( this.URL.full );\n\tthis.URL.pathParams\t\t= this.URL.path.split( '/' );\n\tthis.URL.search\t\t\t= STF_String.getSearch( this.URL.full );\n\tthis.URL.searchParams\t= STF_String.getParams( this.URL.full, 'search' );\n\tthis.URL.hash\t\t\t= STF_String.getHash( this.URL.full );\n\tthis.URL.hashParams\t\t= STF_String.getParams( this.URL.full, 'hash' );\n\tthis.URL.fullGA\t\t\t= _getFullGaUrl.call( this );\n};\n\n\nvar _getFullUrl = function( url ) {\n\tvar fullUrl;\n\t\n\tif ( url === null )\n\t\tfullUrl = window.location.href;\n\telse\n\t\tfullUrl = url;\n\t\n\t\n\treturn fullUrl;\n};\n\n\nvar _getFullGaUrl = function () {\n\tvar fullGaUrl = this.URL.full.replace( Path.URL.base, '' );\n\t\n\t\n\treturn fullGaUrl;\n};\n\n\nRouter.prototype.init = function() {\n\t_bindEvents.call( this );\n\t\n\tSTF.PagesController.initFirstPage();\n};\n\n\nvar _bindEvents = function() {\n\tSTF.MainView.$window.on( 'popstate', $.proxy( _onPopState, this ) );\n\tSTF.MainView.$window.on( 'hashchange', $.proxy( _onHashChange, this ) );\n};\n\n\nvar _getLangExistence = function() {\n\tvar langExist = true;\n\t\n\tif ( STF.Lang.ALL_LANG.indexOf( STF.Lang.LANG ) == -1 ) {\n\t\tSTF.Lang.LANG = STF.Lang.DEFAULT_LANG;\n\t\t\n\t\tlangExist = false;\n\t}\n\t\n\t\n\treturn langExist;\n};\n\n\nvar _setIsHomepage = function( pageId ) {\n\tthis.isHomepage = pageId == 'home' ? true : false;\n};\n\n\nRouter.prototype.checkUrlCorrespondence = function() {\n\tif ( this.URL.full != _getFullUrl.call( this, null ) )\n\t\t_onPopState.call( this );\n};\n\n\nRouter.prototype.updateUrl = function( url ) {\n\tif ( STF.PagesController.isPageChange )\n\t\treturn;\n\t\n\tthis.isPageChangeByClick = true;\n\t\n\t_setUrlPartChange.call( this, url );\n\tthis.setUrl( false, url );\n\t\n\t\n\tvar data = {\n\t\t'isPageChange':\t\tthis.isPageChange,\n\t\t'isSearchChange':\tthis.isSearchChange,\n\t\t'isHashChange':\t\tthis.isHashChange\n\t};\n\t\n\thistory.pushState( data, '', url );\n\t\n\t\n\tif ( this.isPageChange )\n\t\tSTF.PagesController.changePage( this.URL.full );\n\telse if ( this.isSearchChange )\n\t\tSTF.PagesController.changeSearch();\n\telse if ( this.isHashChange )\n\t\tSTF.PagesController.changeHash();\n};\n\n\nvar _onPopState = function( e ) {\n\tif ( STF.PagesController.isPageChange )\n\t\treturn;\n\t\n\tthis.isPageChangeByClick = false;\n\t\n\t_setUrlPartChange.call( this, window.location.href );\n\t\n\t\n\tif ( this.isPageChange || this.isSearchChange )\n\t\tthis.setUrl( false, null );\n\t\n\tif ( this.isPageChange )\n\t\tSTF.PagesController.changePage( this.URL.full );\n\telse if ( this.isSearchChange )\n\t\tSTF.PagesController.changeSearch();\n};\n\n\nvar _onHashChange = function( e ) {\n\tif ( STF.PagesController.isPageChange )\n\t\treturn;\n\t\n\t_setUrlPartChange.call( this, window.location.href );\n\tthis.setUrl( false, null );\n\t\n\t\n\tif ( this.isHashChange && !this.isPageChange && !this.isSearchChange )\n\t\tSTF.PagesController.changeHash();\n};\n\n\nvar _setUrlPartChange = function( url ) {\n\t_isPageChanged.call( this, url );\n\t_isSearchChanged.call( this, url );\n\t_isHashChanged.call( this, url );\n};\n\n\nvar _isPageChanged = function( url ) {\n\tvar nextPath\t\t= STF_String.getPath( url );\n\tthis.isPageChange\t= this.URL.path != nextPath;\n};\n\n\nvar _isSearchChanged = function( url ) {\n\tvar nextSearch\t\t= STF_String.getSearch( url );\n\tthis.isSearchChange\t= this.URL.search != nextSearch;\n};\n\n\nvar _isHashChanged = function( url ) {\n\tvar nextHash\t\t= STF_String.getHash( url );\n\tthis.isHashChange\t= this.URL.hash != nextHash;\n};\n\n\nRouter.prototype.setAltLangUrl = function( $page ) {\n\tvar lang;\n\t\n\tfor ( var i = 0; i < STF.Lang.ALL_LANG.length; i++ ) {\n\t\tlang = STF.Lang.ALL_LANG[ i ];\n\t\t\n\t\tif ( lang != STF.Lang.LANG )\n\t\t\tthis.ALT_LANG_URL[ lang ] = $page[0].getAttribute( 'data-lang-' + lang );\n\t}\n};\n\n\nRouter.prototype.updateGA = function() {\n\tif ( STF.Config.IS_PROD && Object.keys( STF.Config.GA_ID ).length > 0 ) {\n\t\tfor ( var gaName in STF.Config.GA_ID ) {\n\t\t\tif ( gaName == 'default' )\n\t\t\t\tga( 'send', 'pageview', '/' + this.URL.fullGA );\n\t\t\telse\n\t\t\t\tga( gaName + '.send', 'pageview', '/' + this.URL.fullGA );\n\t\t}\n\t}\n};\n\n\nmodule.exports = new Router();\n\n","'use strict';\n\n\nvar dat = require( 'dat.gui' );\n\n\n\nfunction DatGUI() {\n\tthis.gui\t= null;\n\t\n\tthis.var1\t= 'message';\n\tthis.var2\t= 23;\n\tthis.var3\t= null;\n\tthis.var4\t= false;\n\tthis.var5\t= '#fe7373';\n}\n\n\nDatGUI.prototype.init = function() {\n\tthis.gui = new dat.GUI( {\n\t\twidth : 300\n\t} );\n\t\n\tvar text\t\t= this.gui.add( this, 'var1', 10, 100 ).name( 'Text' );\n\tvar slider\t\t= this.gui.add( this, 'var2', 10, 100 ).step(1).name( 'Slider' );\n\tvar select\t\t= this.gui.add( this, 'var3', [ 'option 1', 'option 2', 'option 3' ] ).name( 'Select' );\n\tvar checkBox\t= this.gui.add( this, 'var4' ).name( 'Checkbox' );\n\tvar color\t\t= this.gui.addColor( this, 'var5' ).name( 'Color' );\n\tthis.gui.add( this, '_function' ).name( 'Function' );\n\t\n\ttext.onChange( _changeText.bind( this ) );\n\tslider.onChange( _changeSlider.bind( this ) );\n\tslider.onFinishChange( _finishChangeSlider.bind( this ) );\n\tselect.onChange( _changeSelect.bind( this ) );\n\tcheckBox.onChange( _changeCheckbox.bind( this ) );\n\tcolor.onChange( _changeColor.bind( this ) );\n\t\n\t\n\t// this.test = this.gui.__controllers[1];\n};\n\n\nvar _changeText = function( v ) {\n\tconsole.log( '_changeText :', v );\n};\n\n\nvar _changeSlider = function( v ) {\n\tconsole.log( '_changeSlider :', v );\n};\n\n\nvar _finishChangeSlider = function( v ) {\n\tconsole.log( '_finishChangeSlider :', v );\n};\n\n\nvar _changeSelect = function( v ) {\n\tconsole.log( '_changeSelect :', v );\n};\n\n\nvar _changeCheckbox = function( v ) {\n\tconsole.log( '_changeCheckbox :', v );\n};\n\n\nvar _changeColor = function( v ) {\n\tconsole.log( '_changeColor :', v );\n};\n\n\nDatGUI.prototype._function = function() {\n\tconsole.log( '_function' );\n};\n\n\nmodule.exports = new DatGUI();\n\n","'use strict';\n\n\nvar Config\t\t= require( 'shared/configs/Config' );\nvar FPSStats\t= require( 'shared/utils/FPSStats' );\nvar MemoryStats\t= require( 'shared/utils/MemoryStats' );\nvar DatGUI\t\t= require( 'shared/utils/DatGUI' );\n\n\n\nfunction Debug() {\n\t\n}\n\n\nDebug.prototype.init = function( isInitFPSStats, isInitMemoryStats, isInitDatGUI ) {\n\t_initFPSStats.call( this, isInitFPSStats );\n\t_initMemoryStats.call( this, isInitMemoryStats );\n\t_initDatGUI.call( this, isInitDatGUI );\n};\n\n\nvar _initFPSStats = function( isSet ) {\n\tConfig.setFPSStats( isSet );\n\t\n\tif ( isSet && ( Config.IS_DEV || Config.IS_PREPROD_LOCAL ) )\n\t\tFPSStats.init();\n};\n\n\nvar _initMemoryStats = function( isSet ) {\n\tConfig.setMemoryStats( isSet );\n\t\n\tif ( isSet && ( Config.IS_DEV || Config.IS_PREPROD_LOCAL ) )\n\t\tMemoryStats.init();\n};\n\n\nvar _initDatGUI = function( isSet ) {\n\tif ( isSet && ( Config.IS_DEV || Config.IS_PREPROD_LOCAL ) )\n\t\tDatGUI.init();\n};\n\n\nmodule.exports = new Debug();\n\n","'use strict';\n\n\nvar Stats = require( 'stats' );\n\n\n\nfunction FPSStats() {\n\tthis.stats = null;\n}\n\n\nFPSStats.prototype.init = function() {\n\tthis.stats = new Stats();\n\t\n\tthis.stats.setMode( 0 );\n\t\n\tthis.stats.dom.style.top\t\t= 'auto';\n\tthis.stats.dom.style.left\t\t= 'auto';\n\tthis.stats.dom.style.right\t\t= '0px';\n\tthis.stats.dom.style.bottom\t\t= '0px';\n\tthis.stats.dom.style.zIndex\t\t= 88;\n\t\n\tdocument.body.appendChild( this.stats.dom );\n};\n\n\nFPSStats.prototype.begin = function() {\n\tthis.stats.begin();\n};\n\n\nFPSStats.prototype.end = function() {\n\tthis.stats.end();\n};\n\n\nmodule.exports = new FPSStats();\n\n","'use strict';\n\n\nvar Stats = require( 'memory-stats' );\n\n\n\nfunction MemoryStats() {\n\tthis.stats = null;\n}\n\n\nMemoryStats.prototype.init = function() {\n\tthis.stats = new Stats();\n\t\n\tthis.stats.domElement.style.position\t= 'fixed';\n\tthis.stats.domElement.style.right\t\t= '0px';\n\tthis.stats.domElement.style.bottom\t\t= '48px';\n\tthis.stats.domElement.style.zIndex\t\t= 88;\n\t\n\tdocument.body.appendChild( this.stats.domElement );\n};\n\n\nMemoryStats.prototype.update = function() {\n\tthis.stats.update();\n};\n\n\nmodule.exports = new MemoryStats();\n\n","'use strict';\n\n\nvar Path = require( 'shared/configs/Path' );\n\n\n\nfunction String() {\n\t\n}\n\n\nString.prototype.removeFirstSpecificChar = function ( string, char ) {\n\tif ( string.substr( 0, 1 ) == char )\n\t\tstring = string.substr( 1 );\n\t\n\t\n\treturn string;\n};\n\n\nString.prototype.removeLastSpecificChar = function ( string, char ) {\n\tif ( string.substr( string.length - 1, 1 ) == char )\n\t\tstring = string.substr( 0, string.length - 1 );\n\t\n\t\n\treturn string;\n};\n\n\nString.prototype.convertToUrl = function( string ) {\n\tvar link\t= document.createElement( 'a' );\n\tlink.href\t= string;\n\t\n\t\n\treturn link;\n};\n\n\nString.prototype.getPath = function( string, baseUrl ) {\n\tif ( baseUrl === null || baseUrl === undefined )\n\t\tbaseUrl = Path.URL.base;\n\t\n\tvar path\t= string.replace( baseUrl, '' );\n\t\n\tpath\t\t= path.split( '#' )[0]; // remove #hash\n\tpath\t\t= path.split( '?' )[0]; // remove ?search\n\t\n\tpath\t\t= this.removeFirstSpecificChar( path, '/' );\n\tpath\t\t= this.removeLastSpecificChar( path, '/' );\n\t\n\t\n\treturn path;\n};\n\n\nString.prototype.getSearch = function( string ) {\n\tvar url\t\t= this.convertToUrl( string );\n\t\n\tvar search\t= url.search.split( '?' )[1] || '';\n\t\n\tsearch\t\t= this.removeFirstSpecificChar( search, '/' );\n\tsearch\t\t= this.removeLastSpecificChar( search, '/' );\n\t\n\t\n\treturn search;\n};\n\n\nString.prototype.getHash = function( string ) {\n\tvar url\t\t= this.convertToUrl( string );\n\t\n\tvar hash\t= url.hash.split( '#' )[1] || '';\n\t\n\thash\t\t= this.removeFirstSpecificChar( hash, '/' );\n\thash\t\t= this.removeLastSpecificChar( hash, '/' );\n\t\n\t\n\treturn hash;\n};\n\n\nString.prototype.getParams = function( string, type ) {\n\tvar url\t\t= this.convertToUrl( string );\n\t\n\tvar params\t= {};\n\tvar key, value;\n\t\n\tif ( url[ type ].length > 1 ) {\n\t\tfor ( var aItKey, nKeyId = 0, aCouples = url[ type ].substr(1).split( '&' ); nKeyId < aCouples.length; nKeyId++ ) {\n\t\t\taItKey\t= aCouples[ nKeyId ].split( '=' );\n\t\t\t\n\t\t\tkey\t\t= unescape( aItKey[0] );\n\t\t\tkey\t\t= this.removeFirstSpecificChar( key, '/' );\n\t\t\tkey\t\t= this.removeLastSpecificChar( key, '/' );\n\t\t\t\n\t\t\tvalue\t= aItKey.length > 1 ? unescape( aItKey[1] ) : '';\n\t\t\tvalue\t= this.removeFirstSpecificChar( value, '/' );\n\t\t\tvalue\t= this.removeLastSpecificChar( value, '/' );\n\t\t\t\n\t\t\tparams[ key ] = value;\n\t\t}\n\t}\n\t\n\t\n\treturn params;\n};\n\n\nmodule.exports = new String();\n\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"dat\"] = factory();\n\telse\n\t\troot[\"dat\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _index = __webpack_require__(1);\n\t\n\tvar _index2 = _interopRequireDefault(_index);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = _index2.default; /**\n\t                                    * dat-gui JavaScript Controller Library\n\t                                    * http://code.google.com/p/dat-gui\n\t                                    *\n\t                                    * Copyright 2011 Data Arts Team, Google Creative Lab\n\t                                    *\n\t                                    * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t                                    * you may not use this file except in compliance with the License.\n\t                                    * You may obtain a copy of the License at\n\t                                    *\n\t                                    * http://www.apache.org/licenses/LICENSE-2.0\n\t                                    */\n\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _Color = __webpack_require__(2);\n\t\n\tvar _Color2 = _interopRequireDefault(_Color);\n\t\n\tvar _math = __webpack_require__(6);\n\t\n\tvar _math2 = _interopRequireDefault(_math);\n\t\n\tvar _interpret = __webpack_require__(3);\n\t\n\tvar _interpret2 = _interopRequireDefault(_interpret);\n\t\n\tvar _Controller = __webpack_require__(7);\n\t\n\tvar _Controller2 = _interopRequireDefault(_Controller);\n\t\n\tvar _BooleanController = __webpack_require__(8);\n\t\n\tvar _BooleanController2 = _interopRequireDefault(_BooleanController);\n\t\n\tvar _OptionController = __webpack_require__(10);\n\t\n\tvar _OptionController2 = _interopRequireDefault(_OptionController);\n\t\n\tvar _StringController = __webpack_require__(11);\n\t\n\tvar _StringController2 = _interopRequireDefault(_StringController);\n\t\n\tvar _NumberController = __webpack_require__(12);\n\t\n\tvar _NumberController2 = _interopRequireDefault(_NumberController);\n\t\n\tvar _NumberControllerBox = __webpack_require__(13);\n\t\n\tvar _NumberControllerBox2 = _interopRequireDefault(_NumberControllerBox);\n\t\n\tvar _NumberControllerSlider = __webpack_require__(14);\n\t\n\tvar _NumberControllerSlider2 = _interopRequireDefault(_NumberControllerSlider);\n\t\n\tvar _FunctionController = __webpack_require__(15);\n\t\n\tvar _FunctionController2 = _interopRequireDefault(_FunctionController);\n\t\n\tvar _ColorController = __webpack_require__(16);\n\t\n\tvar _ColorController2 = _interopRequireDefault(_ColorController);\n\t\n\tvar _dom = __webpack_require__(9);\n\t\n\tvar _dom2 = _interopRequireDefault(_dom);\n\t\n\tvar _GUI = __webpack_require__(17);\n\t\n\tvar _GUI2 = _interopRequireDefault(_GUI);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\n\t * dat-gui JavaScript Controller Library\n\t * http://code.google.com/p/dat-gui\n\t *\n\t * Copyright 2011 Data Arts Team, Google Creative Lab\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t * you may not use this file except in compliance with the License.\n\t * You may obtain a copy of the License at\n\t *\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t */\n\t\n\texports.default = {\n\t  color: {\n\t    Color: _Color2.default,\n\t    math: _math2.default,\n\t    interpret: _interpret2.default\n\t  },\n\t\n\t  controllers: {\n\t    Controller: _Controller2.default,\n\t    BooleanController: _BooleanController2.default,\n\t    OptionController: _OptionController2.default,\n\t    StringController: _StringController2.default,\n\t    NumberController: _NumberController2.default,\n\t    NumberControllerBox: _NumberControllerBox2.default,\n\t    NumberControllerSlider: _NumberControllerSlider2.default,\n\t    FunctionController: _FunctionController2.default,\n\t    ColorController: _ColorController2.default\n\t  },\n\t\n\t  dom: {\n\t    dom: _dom2.default\n\t  },\n\t\n\t  gui: {\n\t    GUI: _GUI2.default\n\t  },\n\t\n\t  GUI: _GUI2.default\n\t};\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _interpret = __webpack_require__(3);\n\t\n\tvar _interpret2 = _interopRequireDefault(_interpret);\n\t\n\tvar _math = __webpack_require__(6);\n\t\n\tvar _math2 = _interopRequireDefault(_math);\n\t\n\tvar _toString = __webpack_require__(4);\n\t\n\tvar _toString2 = _interopRequireDefault(_toString);\n\t\n\tvar _common = __webpack_require__(5);\n\t\n\tvar _common2 = _interopRequireDefault(_common);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } } /**\n\t                                                                                                                                                           * dat-gui JavaScript Controller Library\n\t                                                                                                                                                           * http://code.google.com/p/dat-gui\n\t                                                                                                                                                           *\n\t                                                                                                                                                           * Copyright 2011 Data Arts Team, Google Creative Lab\n\t                                                                                                                                                           *\n\t                                                                                                                                                           * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t                                                                                                                                                           * you may not use this file except in compliance with the License.\n\t                                                                                                                                                           * You may obtain a copy of the License at\n\t                                                                                                                                                           *\n\t                                                                                                                                                           * http://www.apache.org/licenses/LICENSE-2.0\n\t                                                                                                                                                           */\n\t\n\tvar Color = function () {\n\t  function Color() {\n\t    _classCallCheck(this, Color);\n\t\n\t    this.__state = _interpret2.default.apply(this, arguments);\n\t\n\t    if (this.__state === false) {\n\t      throw new Error('Failed to interpret color arguments');\n\t    }\n\t\n\t    this.__state.a = this.__state.a || 1;\n\t  }\n\t\n\t  Color.prototype.toString = function toString() {\n\t    return (0, _toString2.default)(this);\n\t  };\n\t\n\t  Color.prototype.toHexString = function toHexString() {\n\t    return (0, _toString2.default)(this, true);\n\t  };\n\t\n\t  Color.prototype.toOriginal = function toOriginal() {\n\t    return this.__state.conversion.write(this);\n\t  };\n\t\n\t  return Color;\n\t}();\n\t\n\tfunction defineRGBComponent(target, component, componentHexIndex) {\n\t  Object.defineProperty(target, component, {\n\t    get: function get() {\n\t      if (this.__state.space === 'RGB') {\n\t        return this.__state[component];\n\t      }\n\t\n\t      Color.recalculateRGB(this, component, componentHexIndex);\n\t\n\t      return this.__state[component];\n\t    },\n\t\n\t    set: function set(v) {\n\t      if (this.__state.space !== 'RGB') {\n\t        Color.recalculateRGB(this, component, componentHexIndex);\n\t        this.__state.space = 'RGB';\n\t      }\n\t\n\t      this.__state[component] = v;\n\t    }\n\t  });\n\t}\n\t\n\tfunction defineHSVComponent(target, component) {\n\t  Object.defineProperty(target, component, {\n\t    get: function get() {\n\t      if (this.__state.space === 'HSV') {\n\t        return this.__state[component];\n\t      }\n\t\n\t      Color.recalculateHSV(this);\n\t\n\t      return this.__state[component];\n\t    },\n\t\n\t    set: function set(v) {\n\t      if (this.__state.space !== 'HSV') {\n\t        Color.recalculateHSV(this);\n\t        this.__state.space = 'HSV';\n\t      }\n\t\n\t      this.__state[component] = v;\n\t    }\n\t  });\n\t}\n\t\n\tColor.recalculateRGB = function (color, component, componentHexIndex) {\n\t  if (color.__state.space === 'HEX') {\n\t    color.__state[component] = _math2.default.component_from_hex(color.__state.hex, componentHexIndex);\n\t  } else if (color.__state.space === 'HSV') {\n\t    _common2.default.extend(color.__state, _math2.default.hsv_to_rgb(color.__state.h, color.__state.s, color.__state.v));\n\t  } else {\n\t    throw new Error('Corrupted color state');\n\t  }\n\t};\n\t\n\tColor.recalculateHSV = function (color) {\n\t  var result = _math2.default.rgb_to_hsv(color.r, color.g, color.b);\n\t\n\t  _common2.default.extend(color.__state, {\n\t    s: result.s,\n\t    v: result.v\n\t  });\n\t\n\t  if (!_common2.default.isNaN(result.h)) {\n\t    color.__state.h = result.h;\n\t  } else if (_common2.default.isUndefined(color.__state.h)) {\n\t    color.__state.h = 0;\n\t  }\n\t};\n\t\n\tColor.COMPONENTS = ['r', 'g', 'b', 'h', 's', 'v', 'hex', 'a'];\n\t\n\tdefineRGBComponent(Color.prototype, 'r', 2);\n\tdefineRGBComponent(Color.prototype, 'g', 1);\n\tdefineRGBComponent(Color.prototype, 'b', 0);\n\t\n\tdefineHSVComponent(Color.prototype, 'h');\n\tdefineHSVComponent(Color.prototype, 's');\n\tdefineHSVComponent(Color.prototype, 'v');\n\t\n\tObject.defineProperty(Color.prototype, 'a', {\n\t  get: function get() {\n\t    return this.__state.a;\n\t  },\n\t\n\t  set: function set(v) {\n\t    this.__state.a = v;\n\t  }\n\t});\n\t\n\tObject.defineProperty(Color.prototype, 'hex', {\n\t  get: function get() {\n\t    if (!this.__state.space !== 'HEX') {\n\t      this.__state.hex = _math2.default.rgb_to_hex(this.r, this.g, this.b);\n\t    }\n\t\n\t    return this.__state.hex;\n\t  },\n\t\n\t  set: function set(v) {\n\t    this.__state.space = 'HEX';\n\t    this.__state.hex = v;\n\t  }\n\t});\n\t\n\texports.default = Color;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _toString = __webpack_require__(4);\n\t\n\tvar _toString2 = _interopRequireDefault(_toString);\n\t\n\tvar _common = __webpack_require__(5);\n\t\n\tvar _common2 = _interopRequireDefault(_common);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\n\t * dat-gui JavaScript Controller Library\n\t * http://code.google.com/p/dat-gui\n\t *\n\t * Copyright 2011 Data Arts Team, Google Creative Lab\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t * you may not use this file except in compliance with the License.\n\t * You may obtain a copy of the License at\n\t *\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t */\n\t\n\tvar INTERPRETATIONS = [\n\t// Strings\n\t{\n\t  litmus: _common2.default.isString,\n\t  conversions: {\n\t    THREE_CHAR_HEX: {\n\t      read: function read(original) {\n\t        var test = original.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);\n\t        if (test === null) {\n\t          return false;\n\t        }\n\t\n\t        return {\n\t          space: 'HEX',\n\t          hex: parseInt('0x' + test[1].toString() + test[1].toString() + test[2].toString() + test[2].toString() + test[3].toString() + test[3].toString(), 0)\n\t        };\n\t      },\n\t\n\t      write: _toString2.default\n\t    },\n\t\n\t    SIX_CHAR_HEX: {\n\t      read: function read(original) {\n\t        var test = original.match(/^#([A-F0-9]{6})$/i);\n\t        if (test === null) {\n\t          return false;\n\t        }\n\t\n\t        return {\n\t          space: 'HEX',\n\t          hex: parseInt('0x' + test[1].toString(), 0)\n\t        };\n\t      },\n\t\n\t      write: _toString2.default\n\t    },\n\t\n\t    CSS_RGB: {\n\t      read: function read(original) {\n\t        var test = original.match(/^rgb\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);\n\t        if (test === null) {\n\t          return false;\n\t        }\n\t\n\t        return {\n\t          space: 'RGB',\n\t          r: parseFloat(test[1]),\n\t          g: parseFloat(test[2]),\n\t          b: parseFloat(test[3])\n\t        };\n\t      },\n\t\n\t      write: _toString2.default\n\t    },\n\t\n\t    CSS_RGBA: {\n\t      read: function read(original) {\n\t        var test = original.match(/^rgba\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);\n\t        if (test === null) {\n\t          return false;\n\t        }\n\t\n\t        return {\n\t          space: 'RGB',\n\t          r: parseFloat(test[1]),\n\t          g: parseFloat(test[2]),\n\t          b: parseFloat(test[3]),\n\t          a: parseFloat(test[4])\n\t        };\n\t      },\n\t\n\t      write: _toString2.default\n\t    }\n\t  }\n\t},\n\t\n\t// Numbers\n\t{\n\t  litmus: _common2.default.isNumber,\n\t\n\t  conversions: {\n\t\n\t    HEX: {\n\t      read: function read(original) {\n\t        return {\n\t          space: 'HEX',\n\t          hex: original,\n\t          conversionName: 'HEX'\n\t        };\n\t      },\n\t\n\t      write: function write(color) {\n\t        return color.hex;\n\t      }\n\t    }\n\t\n\t  }\n\t\n\t},\n\t\n\t// Arrays\n\t{\n\t  litmus: _common2.default.isArray,\n\t  conversions: {\n\t    RGB_ARRAY: {\n\t      read: function read(original) {\n\t        if (original.length !== 3) {\n\t          return false;\n\t        }\n\t\n\t        return {\n\t          space: 'RGB',\n\t          r: original[0],\n\t          g: original[1],\n\t          b: original[2]\n\t        };\n\t      },\n\t\n\t      write: function write(color) {\n\t        return [color.r, color.g, color.b];\n\t      }\n\t    },\n\t\n\t    RGBA_ARRAY: {\n\t      read: function read(original) {\n\t        if (original.length !== 4) return false;\n\t        return {\n\t          space: 'RGB',\n\t          r: original[0],\n\t          g: original[1],\n\t          b: original[2],\n\t          a: original[3]\n\t        };\n\t      },\n\t\n\t      write: function write(color) {\n\t        return [color.r, color.g, color.b, color.a];\n\t      }\n\t    }\n\t  }\n\t},\n\t\n\t// Objects\n\t{\n\t  litmus: _common2.default.isObject,\n\t  conversions: {\n\t\n\t    RGBA_OBJ: {\n\t      read: function read(original) {\n\t        if (_common2.default.isNumber(original.r) && _common2.default.isNumber(original.g) && _common2.default.isNumber(original.b) && _common2.default.isNumber(original.a)) {\n\t          return {\n\t            space: 'RGB',\n\t            r: original.r,\n\t            g: original.g,\n\t            b: original.b,\n\t            a: original.a\n\t          };\n\t        }\n\t        return false;\n\t      },\n\t\n\t      write: function write(color) {\n\t        return {\n\t          r: color.r,\n\t          g: color.g,\n\t          b: color.b,\n\t          a: color.a\n\t        };\n\t      }\n\t    },\n\t\n\t    RGB_OBJ: {\n\t      read: function read(original) {\n\t        if (_common2.default.isNumber(original.r) && _common2.default.isNumber(original.g) && _common2.default.isNumber(original.b)) {\n\t          return {\n\t            space: 'RGB',\n\t            r: original.r,\n\t            g: original.g,\n\t            b: original.b\n\t          };\n\t        }\n\t        return false;\n\t      },\n\t\n\t      write: function write(color) {\n\t        return {\n\t          r: color.r,\n\t          g: color.g,\n\t          b: color.b\n\t        };\n\t      }\n\t    },\n\t\n\t    HSVA_OBJ: {\n\t      read: function read(original) {\n\t        if (_common2.default.isNumber(original.h) && _common2.default.isNumber(original.s) && _common2.default.isNumber(original.v) && _common2.default.isNumber(original.a)) {\n\t          return {\n\t            space: 'HSV',\n\t            h: original.h,\n\t            s: original.s,\n\t            v: original.v,\n\t            a: original.a\n\t          };\n\t        }\n\t        return false;\n\t      },\n\t\n\t      write: function write(color) {\n\t        return {\n\t          h: color.h,\n\t          s: color.s,\n\t          v: color.v,\n\t          a: color.a\n\t        };\n\t      }\n\t    },\n\t\n\t    HSV_OBJ: {\n\t      read: function read(original) {\n\t        if (_common2.default.isNumber(original.h) && _common2.default.isNumber(original.s) && _common2.default.isNumber(original.v)) {\n\t          return {\n\t            space: 'HSV',\n\t            h: original.h,\n\t            s: original.s,\n\t            v: original.v\n\t          };\n\t        }\n\t        return false;\n\t      },\n\t\n\t      write: function write(color) {\n\t        return {\n\t          h: color.h,\n\t          s: color.s,\n\t          v: color.v\n\t        };\n\t      }\n\t    }\n\t  }\n\t}];\n\t\n\tvar result = void 0;\n\tvar toReturn = void 0;\n\t\n\tvar interpret = function interpret() {\n\t  toReturn = false;\n\t\n\t  var original = arguments.length > 1 ? _common2.default.toArray(arguments) : arguments[0];\n\t  _common2.default.each(INTERPRETATIONS, function (family) {\n\t    if (family.litmus(original)) {\n\t      _common2.default.each(family.conversions, function (conversion, conversionName) {\n\t        result = conversion.read(original);\n\t\n\t        if (toReturn === false && result !== false) {\n\t          toReturn = result;\n\t          result.conversionName = conversionName;\n\t          result.conversion = conversion;\n\t          return _common2.default.BREAK;\n\t        }\n\t      });\n\t\n\t      return _common2.default.BREAK;\n\t    }\n\t  });\n\t\n\t  return toReturn;\n\t};\n\t\n\texports.default = interpret;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\texports.default = function (color, forceCSSHex) {\n\t  var colorFormat = color.__state.conversionName.toString();\n\t\n\t  var r = Math.round(color.r);\n\t  var g = Math.round(color.g);\n\t  var b = Math.round(color.b);\n\t  var a = color.a;\n\t  var h = Math.round(color.h);\n\t  var s = color.s.toFixed(1);\n\t  var v = color.v.toFixed(1);\n\t\n\t  if (forceCSSHex || colorFormat === 'THREE_CHAR_HEX' || colorFormat === 'SIX_CHAR_HEX') {\n\t    var str = color.hex.toString(16);\n\t    while (str.length < 6) {\n\t      str = '0' + str;\n\t    }\n\t    return '#' + str;\n\t  } else if (colorFormat === 'CSS_RGB') {\n\t    return 'rgb(' + r + ',' + g + ',' + b + ')';\n\t  } else if (colorFormat === 'CSS_RGBA') {\n\t    return 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\n\t  } else if (colorFormat === 'HEX') {\n\t    return '0x' + color.hex.toString(16);\n\t  } else if (colorFormat === 'RGB_ARRAY') {\n\t    return '[' + r + ',' + g + ',' + b + ']';\n\t  } else if (colorFormat === 'RGBA_ARRAY') {\n\t    return '[' + r + ',' + g + ',' + b + ',' + a + ']';\n\t  } else if (colorFormat === 'RGB_OBJ') {\n\t    return '{r:' + r + ',g:' + g + ',b:' + b + '}';\n\t  } else if (colorFormat === 'RGBA_OBJ') {\n\t    return '{r:' + r + ',g:' + g + ',b:' + b + ',a:' + a + '}';\n\t  } else if (colorFormat === 'HSV_OBJ') {\n\t    return '{h:' + h + ',s:' + s + ',v:' + v + '}';\n\t  } else if (colorFormat === 'HSVA_OBJ') {\n\t    return '{h:' + h + ',s:' + s + ',v:' + v + ',a:' + a + '}';\n\t  }\n\t\n\t  return 'unknown format';\n\t};\n\t\n\tmodule.exports = exports['default']; /**\n\t                                      * dat-gui JavaScript Controller Library\n\t                                      * http://code.google.com/p/dat-gui\n\t                                      *\n\t                                      * Copyright 2011 Data Arts Team, Google Creative Lab\n\t                                      *\n\t                                      * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t                                      * you may not use this file except in compliance with the License.\n\t                                      * You may obtain a copy of the License at\n\t                                      *\n\t                                      * http://www.apache.org/licenses/LICENSE-2.0\n\t                                      */\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t/**\n\t * dat-gui JavaScript Controller Library\n\t * http://code.google.com/p/dat-gui\n\t *\n\t * Copyright 2011 Data Arts Team, Google Creative Lab\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t * you may not use this file except in compliance with the License.\n\t * You may obtain a copy of the License at\n\t *\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t */\n\t\n\tvar ARR_EACH = Array.prototype.forEach;\n\tvar ARR_SLICE = Array.prototype.slice;\n\t\n\t/**\n\t * Band-aid methods for things that should be a lot easier in JavaScript.\n\t * Implementation and structure inspired by underscore.js\n\t * http://documentcloud.github.com/underscore/\n\t */\n\t\n\tvar Common = {\n\t  BREAK: {},\n\t\n\t  extend: function extend(target) {\n\t    this.each(ARR_SLICE.call(arguments, 1), function (obj) {\n\t      var keys = this.isObject(obj) ? Object.keys(obj) : [];\n\t      keys.forEach(function (key) {\n\t        if (!this.isUndefined(obj[key])) {\n\t          target[key] = obj[key];\n\t        }\n\t      }.bind(this));\n\t    }, this);\n\t\n\t    return target;\n\t  },\n\t\n\t  defaults: function defaults(target) {\n\t    this.each(ARR_SLICE.call(arguments, 1), function (obj) {\n\t      var keys = this.isObject(obj) ? Object.keys(obj) : [];\n\t      keys.forEach(function (key) {\n\t        if (this.isUndefined(target[key])) {\n\t          target[key] = obj[key];\n\t        }\n\t      }.bind(this));\n\t    }, this);\n\t\n\t    return target;\n\t  },\n\t\n\t  compose: function compose() {\n\t    var toCall = ARR_SLICE.call(arguments);\n\t    return function () {\n\t      var args = ARR_SLICE.call(arguments);\n\t      for (var i = toCall.length - 1; i >= 0; i--) {\n\t        args = [toCall[i].apply(this, args)];\n\t      }\n\t      return args[0];\n\t    };\n\t  },\n\t\n\t  each: function each(obj, itr, scope) {\n\t    if (!obj) {\n\t      return;\n\t    }\n\t\n\t    if (ARR_EACH && obj.forEach && obj.forEach === ARR_EACH) {\n\t      obj.forEach(itr, scope);\n\t    } else if (obj.length === obj.length + 0) {\n\t      // Is number but not NaN\n\t      var key = void 0;\n\t      var l = void 0;\n\t      for (key = 0, l = obj.length; key < l; key++) {\n\t        if (key in obj && itr.call(scope, obj[key], key) === this.BREAK) {\n\t          return;\n\t        }\n\t      }\n\t    } else {\n\t      for (var _key in obj) {\n\t        if (itr.call(scope, obj[_key], _key) === this.BREAK) {\n\t          return;\n\t        }\n\t      }\n\t    }\n\t  },\n\t\n\t  defer: function defer(fnc) {\n\t    setTimeout(fnc, 0);\n\t  },\n\t\n\t  // if the function is called repeatedly, wait until threshold passes until we execute the function\n\t  debounce: function debounce(func, threshold, callImmediately) {\n\t    var timeout = void 0;\n\t\n\t    return function () {\n\t      var obj = this;\n\t      var args = arguments;\n\t      function delayed() {\n\t        timeout = null;\n\t        if (!callImmediately) func.apply(obj, args);\n\t      }\n\t\n\t      var callNow = callImmediately || !timeout;\n\t\n\t      clearTimeout(timeout);\n\t      timeout = setTimeout(delayed, threshold);\n\t\n\t      if (callNow) {\n\t        func.apply(obj, args);\n\t      }\n\t    };\n\t  },\n\t\n\t  toArray: function toArray(obj) {\n\t    if (obj.toArray) return obj.toArray();\n\t    return ARR_SLICE.call(obj);\n\t  },\n\t\n\t  isUndefined: function isUndefined(obj) {\n\t    return obj === undefined;\n\t  },\n\t\n\t  isNull: function isNull(obj) {\n\t    return obj === null;\n\t  },\n\t\n\t  isNaN: function (_isNaN) {\n\t    function isNaN(_x) {\n\t      return _isNaN.apply(this, arguments);\n\t    }\n\t\n\t    isNaN.toString = function () {\n\t      return _isNaN.toString();\n\t    };\n\t\n\t    return isNaN;\n\t  }(function (obj) {\n\t    return isNaN(obj);\n\t  }),\n\t\n\t  isArray: Array.isArray || function (obj) {\n\t    return obj.constructor === Array;\n\t  },\n\t\n\t  isObject: function isObject(obj) {\n\t    return obj === Object(obj);\n\t  },\n\t\n\t  isNumber: function isNumber(obj) {\n\t    return obj === obj + 0;\n\t  },\n\t\n\t  isString: function isString(obj) {\n\t    return obj === obj + '';\n\t  },\n\t\n\t  isBoolean: function isBoolean(obj) {\n\t    return obj === false || obj === true;\n\t  },\n\t\n\t  isFunction: function isFunction(obj) {\n\t    return Object.prototype.toString.call(obj) === '[object Function]';\n\t  }\n\t\n\t};\n\t\n\texports.default = Common;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\texports.__esModule = true;\n\t/**\n\t * dat-gui JavaScript Controller Library\n\t * http://code.google.com/p/dat-gui\n\t *\n\t * Copyright 2011 Data Arts Team, Google Creative Lab\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t * you may not use this file except in compliance with the License.\n\t * You may obtain a copy of the License at\n\t *\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t */\n\t\n\tvar tmpComponent = void 0;\n\t\n\tvar ColorMath = {\n\t  hsv_to_rgb: function hsv_to_rgb(h, s, v) {\n\t    var hi = Math.floor(h / 60) % 6;\n\t\n\t    var f = h / 60 - Math.floor(h / 60);\n\t    var p = v * (1.0 - s);\n\t    var q = v * (1.0 - f * s);\n\t    var t = v * (1.0 - (1.0 - f) * s);\n\t\n\t    var c = [[v, t, p], [q, v, p], [p, v, t], [p, q, v], [t, p, v], [v, p, q]][hi];\n\t\n\t    return {\n\t      r: c[0] * 255,\n\t      g: c[1] * 255,\n\t      b: c[2] * 255\n\t    };\n\t  },\n\t\n\t  rgb_to_hsv: function rgb_to_hsv(r, g, b) {\n\t    var min = Math.min(r, g, b);\n\t    var max = Math.max(r, g, b);\n\t    var delta = max - min;\n\t    var h = void 0;\n\t    var s = void 0;\n\t\n\t    if (max !== 0) {\n\t      s = delta / max;\n\t    } else {\n\t      return {\n\t        h: NaN,\n\t        s: 0,\n\t        v: 0\n\t      };\n\t    }\n\t\n\t    if (r === max) {\n\t      h = (g - b) / delta;\n\t    } else if (g === max) {\n\t      h = 2 + (b - r) / delta;\n\t    } else {\n\t      h = 4 + (r - g) / delta;\n\t    }\n\t    h /= 6;\n\t    if (h < 0) {\n\t      h += 1;\n\t    }\n\t\n\t    return {\n\t      h: h * 360,\n\t      s: s,\n\t      v: max / 255\n\t    };\n\t  },\n\t\n\t  rgb_to_hex: function rgb_to_hex(r, g, b) {\n\t    var hex = this.hex_with_component(0, 2, r);\n\t    hex = this.hex_with_component(hex, 1, g);\n\t    hex = this.hex_with_component(hex, 0, b);\n\t    return hex;\n\t  },\n\t\n\t  component_from_hex: function component_from_hex(hex, componentIndex) {\n\t    return hex >> componentIndex * 8 & 0xFF;\n\t  },\n\t\n\t  hex_with_component: function hex_with_component(hex, componentIndex, value) {\n\t    return value << (tmpComponent = componentIndex * 8) | hex & ~(0xFF << tmpComponent);\n\t  }\n\t};\n\t\n\texports.default = ColorMath;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/**\n\t * dat-gui JavaScript Controller Library\n\t * http://code.google.com/p/dat-gui\n\t *\n\t * Copyright 2011 Data Arts Team, Google Creative Lab\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t * you may not use this file except in compliance with the License.\n\t * You may obtain a copy of the License at\n\t *\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t */\n\t\n\t/**\n\t * @class An \"abstract\" class that represents a given property of an object.\n\t *\n\t * @param {Object} object The object to be manipulated\n\t * @param {string} property The name of the property to be manipulated\n\t *\n\t * @member dat.controllers\n\t */\n\tvar Controller = function () {\n\t  function Controller(object, property) {\n\t    _classCallCheck(this, Controller);\n\t\n\t    this.initialValue = object[property];\n\t\n\t    /**\n\t     * Those who extend this class will put their DOM elements in here.\n\t     * @type {DOMElement}\n\t     */\n\t    this.domElement = document.createElement('div');\n\t\n\t    /**\n\t     * The object to manipulate\n\t     * @type {Object}\n\t     */\n\t    this.object = object;\n\t\n\t    /**\n\t     * The name of the property to manipulate\n\t     * @type {String}\n\t     */\n\t    this.property = property;\n\t\n\t    /**\n\t     * The function to be called on change.\n\t     * @type {Function}\n\t     * @ignore\n\t     */\n\t    this.__onChange = undefined;\n\t\n\t    /**\n\t     * The function to be called on finishing change.\n\t     * @type {Function}\n\t     * @ignore\n\t     */\n\t    this.__onFinishChange = undefined;\n\t  }\n\t\n\t  /**\n\t   * Specify that a function fire every time someone changes the value with\n\t   * this Controller.\n\t   *\n\t   * @param {Function} fnc This function will be called whenever the value\n\t   * is modified via this Controller.\n\t   * @returns {Controller} this\n\t   */\n\t\n\t\n\t  Controller.prototype.onChange = function onChange(fnc) {\n\t    this.__onChange = fnc;\n\t    return this;\n\t  };\n\t\n\t  /**\n\t   * Specify that a function fire every time someone \"finishes\" changing\n\t   * the value wih this Controller. Useful for values that change\n\t   * incrementally like numbers or strings.\n\t   *\n\t   * @param {Function} fnc This function will be called whenever\n\t   * someone \"finishes\" changing the value via this Controller.\n\t   * @returns {Controller} this\n\t   */\n\t\n\t\n\t  Controller.prototype.onFinishChange = function onFinishChange(fnc) {\n\t    this.__onFinishChange = fnc;\n\t    return this;\n\t  };\n\t\n\t  /**\n\t   * Change the value of <code>object[property]</code>\n\t   *\n\t   * @param {Object} newValue The new value of <code>object[property]</code>\n\t   */\n\t\n\t\n\t  Controller.prototype.setValue = function setValue(newValue) {\n\t    this.object[this.property] = newValue;\n\t    if (this.__onChange) {\n\t      this.__onChange.call(this, newValue);\n\t    }\n\t\n\t    this.updateDisplay();\n\t    return this;\n\t  };\n\t\n\t  /**\n\t   * Gets the value of <code>object[property]</code>\n\t   *\n\t   * @returns {Object} The current value of <code>object[property]</code>\n\t   */\n\t\n\t\n\t  Controller.prototype.getValue = function getValue() {\n\t    return this.object[this.property];\n\t  };\n\t\n\t  /**\n\t   * Refreshes the visual display of a Controller in order to keep sync\n\t   * with the object's current value.\n\t   * @returns {Controller} this\n\t   */\n\t\n\t\n\t  Controller.prototype.updateDisplay = function updateDisplay() {\n\t    return this;\n\t  };\n\t\n\t  /**\n\t   * @returns {Boolean} true if the value has deviated from initialValue\n\t   */\n\t\n\t\n\t  Controller.prototype.isModified = function isModified() {\n\t    return this.initialValue !== this.getValue();\n\t  };\n\t\n\t  return Controller;\n\t}();\n\t\n\texports.default = Controller;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _Controller2 = __webpack_require__(7);\n\t\n\tvar _Controller3 = _interopRequireDefault(_Controller2);\n\t\n\tvar _dom = __webpack_require__(9);\n\t\n\tvar _dom2 = _interopRequireDefault(_dom);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * dat-gui JavaScript Controller Library\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * http://code.google.com/p/dat-gui\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Copyright 2011 Data Arts Team, Google Creative Lab\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * you may not use this file except in compliance with the License.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You may obtain a copy of the License at\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * http://www.apache.org/licenses/LICENSE-2.0\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\t\n\t/**\n\t * @class Provides a checkbox input to alter the boolean property of an object.\n\t * @extends dat.controllers.Controller\n\t *\n\t * @param {Object} object The object to be manipulated\n\t * @param {string} property The name of the property to be manipulated\n\t *\n\t * @member dat.controllers\n\t */\n\tvar BooleanController = function (_Controller) {\n\t  _inherits(BooleanController, _Controller);\n\t\n\t  function BooleanController(object, property) {\n\t    _classCallCheck(this, BooleanController);\n\t\n\t    var _this2 = _possibleConstructorReturn(this, _Controller.call(this, object, property));\n\t\n\t    var _this = _this2;\n\t    _this2.__prev = _this2.getValue();\n\t\n\t    _this2.__checkbox = document.createElement('input');\n\t    _this2.__checkbox.setAttribute('type', 'checkbox');\n\t\n\t    function onChange() {\n\t      _this.setValue(!_this.__prev);\n\t    }\n\t\n\t    _dom2.default.bind(_this2.__checkbox, 'change', onChange, false);\n\t\n\t    _this2.domElement.appendChild(_this2.__checkbox);\n\t\n\t    // Match original value\n\t    _this2.updateDisplay();\n\t    return _this2;\n\t  }\n\t\n\t  BooleanController.prototype.setValue = function setValue(v) {\n\t    var toReturn = _Controller.prototype.setValue.call(this, v);\n\t    if (this.__onFinishChange) {\n\t      this.__onFinishChange.call(this, this.getValue());\n\t    }\n\t    this.__prev = this.getValue();\n\t    return toReturn;\n\t  };\n\t\n\t  BooleanController.prototype.updateDisplay = function updateDisplay() {\n\t    if (this.getValue() === true) {\n\t      this.__checkbox.setAttribute('checked', 'checked');\n\t      this.__checkbox.checked = true;\n\t      this.__prev = true;\n\t    } else {\n\t      this.__checkbox.checked = false;\n\t      this.__prev = false;\n\t    }\n\t\n\t    return _Controller.prototype.updateDisplay.call(this);\n\t  };\n\t\n\t  return BooleanController;\n\t}(_Controller3.default);\n\t\n\texports.default = BooleanController;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _common = __webpack_require__(5);\n\t\n\tvar _common2 = _interopRequireDefault(_common);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar EVENT_MAP = {\n\t  HTMLEvents: ['change'],\n\t  MouseEvents: ['click', 'mousemove', 'mousedown', 'mouseup', 'mouseover'],\n\t  KeyboardEvents: ['keydown']\n\t}; /**\n\t    * dat-gui JavaScript Controller Library\n\t    * http://code.google.com/p/dat-gui\n\t    *\n\t    * Copyright 2011 Data Arts Team, Google Creative Lab\n\t    *\n\t    * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t    * you may not use this file except in compliance with the License.\n\t    * You may obtain a copy of the License at\n\t    *\n\t    * http://www.apache.org/licenses/LICENSE-2.0\n\t    */\n\t\n\tvar EVENT_MAP_INV = {};\n\t_common2.default.each(EVENT_MAP, function (v, k) {\n\t  _common2.default.each(v, function (e) {\n\t    EVENT_MAP_INV[e] = k;\n\t  });\n\t});\n\t\n\tvar CSS_VALUE_PIXELS = /(\\d+(\\.\\d+)?)px/;\n\t\n\tfunction cssValueToPixels(val) {\n\t  if (val === '0' || _common2.default.isUndefined(val)) {\n\t    return 0;\n\t  }\n\t\n\t  var match = val.match(CSS_VALUE_PIXELS);\n\t\n\t  if (!_common2.default.isNull(match)) {\n\t    return parseFloat(match[1]);\n\t  }\n\t\n\t  // TODO ...ems? %?\n\t\n\t  return 0;\n\t}\n\t\n\t/**\n\t * @namespace\n\t * @member dat.dom\n\t */\n\tvar dom = {\n\t\n\t  /**\n\t   *\n\t   * @param elem\n\t   * @param selectable\n\t   */\n\t  makeSelectable: function makeSelectable(elem, selectable) {\n\t    if (elem === undefined || elem.style === undefined) return;\n\t\n\t    elem.onselectstart = selectable ? function () {\n\t      return false;\n\t    } : function () {};\n\t\n\t    elem.style.MozUserSelect = selectable ? 'auto' : 'none';\n\t    elem.style.KhtmlUserSelect = selectable ? 'auto' : 'none';\n\t    elem.unselectable = selectable ? 'on' : 'off';\n\t  },\n\t\n\t  /**\n\t   *\n\t   * @param elem\n\t   * @param horizontal\n\t   * @param vert\n\t   */\n\t  makeFullscreen: function makeFullscreen(elem, hor, vert) {\n\t    var vertical = vert;\n\t    var horizontal = hor;\n\t\n\t    if (_common2.default.isUndefined(horizontal)) {\n\t      horizontal = true;\n\t    }\n\t\n\t    if (_common2.default.isUndefined(vertical)) {\n\t      vertical = true;\n\t    }\n\t\n\t    elem.style.position = 'absolute';\n\t\n\t    if (horizontal) {\n\t      elem.style.left = 0;\n\t      elem.style.right = 0;\n\t    }\n\t    if (vertical) {\n\t      elem.style.top = 0;\n\t      elem.style.bottom = 0;\n\t    }\n\t  },\n\t\n\t  /**\n\t   *\n\t   * @param elem\n\t   * @param eventType\n\t   * @param params\n\t   */\n\t  fakeEvent: function fakeEvent(elem, eventType, pars, aux) {\n\t    var params = pars || {};\n\t    var className = EVENT_MAP_INV[eventType];\n\t    if (!className) {\n\t      throw new Error('Event type ' + eventType + ' not supported.');\n\t    }\n\t    var evt = document.createEvent(className);\n\t    switch (className) {\n\t      case 'MouseEvents':\n\t        {\n\t          var clientX = params.x || params.clientX || 0;\n\t          var clientY = params.y || params.clientY || 0;\n\t          evt.initMouseEvent(eventType, params.bubbles || false, params.cancelable || true, window, params.clickCount || 1, 0, // screen X\n\t          0, // screen Y\n\t          clientX, // client X\n\t          clientY, // client Y\n\t          false, false, false, false, 0, null);\n\t          break;\n\t        }\n\t      case 'KeyboardEvents':\n\t        {\n\t          var init = evt.initKeyboardEvent || evt.initKeyEvent; // webkit || moz\n\t          _common2.default.defaults(params, {\n\t            cancelable: true,\n\t            ctrlKey: false,\n\t            altKey: false,\n\t            shiftKey: false,\n\t            metaKey: false,\n\t            keyCode: undefined,\n\t            charCode: undefined\n\t          });\n\t          init(eventType, params.bubbles || false, params.cancelable, window, params.ctrlKey, params.altKey, params.shiftKey, params.metaKey, params.keyCode, params.charCode);\n\t          break;\n\t        }\n\t      default:\n\t        {\n\t          evt.initEvent(eventType, params.bubbles || false, params.cancelable || true);\n\t          break;\n\t        }\n\t    }\n\t    _common2.default.defaults(evt, aux);\n\t    elem.dispatchEvent(evt);\n\t  },\n\t\n\t  /**\n\t   *\n\t   * @param elem\n\t   * @param event\n\t   * @param func\n\t   * @param bool\n\t   */\n\t  bind: function bind(elem, event, func, newBool) {\n\t    var bool = newBool || false;\n\t    if (elem.addEventListener) {\n\t      elem.addEventListener(event, func, bool);\n\t    } else if (elem.attachEvent) {\n\t      elem.attachEvent('on' + event, func);\n\t    }\n\t    return dom;\n\t  },\n\t\n\t  /**\n\t   *\n\t   * @param elem\n\t   * @param event\n\t   * @param func\n\t   * @param bool\n\t   */\n\t  unbind: function unbind(elem, event, func, newBool) {\n\t    var bool = newBool || false;\n\t    if (elem.removeEventListener) {\n\t      elem.removeEventListener(event, func, bool);\n\t    } else if (elem.detachEvent) {\n\t      elem.detachEvent('on' + event, func);\n\t    }\n\t    return dom;\n\t  },\n\t\n\t  /**\n\t   *\n\t   * @param elem\n\t   * @param className\n\t   */\n\t  addClass: function addClass(elem, className) {\n\t    if (elem.className === undefined) {\n\t      elem.className = className;\n\t    } else if (elem.className !== className) {\n\t      var classes = elem.className.split(/ +/);\n\t      if (classes.indexOf(className) === -1) {\n\t        classes.push(className);\n\t        elem.className = classes.join(' ').replace(/^\\s+/, '').replace(/\\s+$/, '');\n\t      }\n\t    }\n\t    return dom;\n\t  },\n\t\n\t  /**\n\t   *\n\t   * @param elem\n\t   * @param className\n\t   */\n\t  removeClass: function removeClass(elem, className) {\n\t    if (className) {\n\t      if (elem.className === className) {\n\t        elem.removeAttribute('class');\n\t      } else {\n\t        var classes = elem.className.split(/ +/);\n\t        var index = classes.indexOf(className);\n\t        if (index !== -1) {\n\t          classes.splice(index, 1);\n\t          elem.className = classes.join(' ');\n\t        }\n\t      }\n\t    } else {\n\t      elem.className = undefined;\n\t    }\n\t    return dom;\n\t  },\n\t\n\t  hasClass: function hasClass(elem, className) {\n\t    return new RegExp('(?:^|\\\\s+)' + className + '(?:\\\\s+|$)').test(elem.className) || false;\n\t  },\n\t\n\t  /**\n\t   *\n\t   * @param elem\n\t   */\n\t  getWidth: function getWidth(elem) {\n\t    var style = getComputedStyle(elem);\n\t\n\t    return cssValueToPixels(style['border-left-width']) + cssValueToPixels(style['border-right-width']) + cssValueToPixels(style['padding-left']) + cssValueToPixels(style['padding-right']) + cssValueToPixels(style.width);\n\t  },\n\t\n\t  /**\n\t   *\n\t   * @param elem\n\t   */\n\t  getHeight: function getHeight(elem) {\n\t    var style = getComputedStyle(elem);\n\t\n\t    return cssValueToPixels(style['border-top-width']) + cssValueToPixels(style['border-bottom-width']) + cssValueToPixels(style['padding-top']) + cssValueToPixels(style['padding-bottom']) + cssValueToPixels(style.height);\n\t  },\n\t\n\t  /**\n\t   *\n\t   * @param el\n\t   */\n\t  getOffset: function getOffset(el) {\n\t    var elem = el;\n\t    var offset = { left: 0, top: 0 };\n\t    if (elem.offsetParent) {\n\t      do {\n\t        offset.left += elem.offsetLeft;\n\t        offset.top += elem.offsetTop;\n\t        elem = elem.offsetParent;\n\t      } while (elem);\n\t    }\n\t    return offset;\n\t  },\n\t\n\t  // http://stackoverflow.com/posts/2684561/revisions\n\t  /**\n\t   *\n\t   * @param elem\n\t   */\n\t  isActive: function isActive(elem) {\n\t    return elem === document.activeElement && (elem.type || elem.href);\n\t  }\n\t\n\t};\n\t\n\texports.default = dom;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _Controller2 = __webpack_require__(7);\n\t\n\tvar _Controller3 = _interopRequireDefault(_Controller2);\n\t\n\tvar _dom = __webpack_require__(9);\n\t\n\tvar _dom2 = _interopRequireDefault(_dom);\n\t\n\tvar _common = __webpack_require__(5);\n\t\n\tvar _common2 = _interopRequireDefault(_common);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * dat-gui JavaScript Controller Library\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * http://code.google.com/p/dat-gui\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Copyright 2011 Data Arts Team, Google Creative Lab\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * you may not use this file except in compliance with the License.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You may obtain a copy of the License at\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * http://www.apache.org/licenses/LICENSE-2.0\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\t\n\t/**\n\t * @class Provides a select input to alter the property of an object, using a\n\t * list of accepted values.\n\t *\n\t * @extends dat.controllers.Controller\n\t *\n\t * @param {Object} object The object to be manipulated\n\t * @param {string} property The name of the property to be manipulated\n\t * @param {Object|string[]} options A map of labels to acceptable values, or\n\t * a list of acceptable string values.\n\t *\n\t * @member dat.controllers\n\t */\n\tvar OptionController = function (_Controller) {\n\t  _inherits(OptionController, _Controller);\n\t\n\t  function OptionController(object, property, opts) {\n\t    _classCallCheck(this, OptionController);\n\t\n\t    var _this2 = _possibleConstructorReturn(this, _Controller.call(this, object, property));\n\t\n\t    var options = opts;\n\t\n\t    var _this = _this2;\n\t\n\t    /**\n\t     * The drop down menu\n\t     * @ignore\n\t     */\n\t    _this2.__select = document.createElement('select');\n\t\n\t    if (_common2.default.isArray(options)) {\n\t      var map = {};\n\t      _common2.default.each(options, function (element) {\n\t        map[element] = element;\n\t      });\n\t      options = map;\n\t    }\n\t\n\t    _common2.default.each(options, function (value, key) {\n\t      var opt = document.createElement('option');\n\t      opt.innerHTML = key;\n\t      opt.setAttribute('value', value);\n\t      _this.__select.appendChild(opt);\n\t    });\n\t\n\t    // Acknowledge original value\n\t    _this2.updateDisplay();\n\t\n\t    _dom2.default.bind(_this2.__select, 'change', function () {\n\t      var desiredValue = this.options[this.selectedIndex].value;\n\t      _this.setValue(desiredValue);\n\t    });\n\t\n\t    _this2.domElement.appendChild(_this2.__select);\n\t    return _this2;\n\t  }\n\t\n\t  OptionController.prototype.setValue = function setValue(v) {\n\t    var toReturn = _Controller.prototype.setValue.call(this, v);\n\t\n\t    if (this.__onFinishChange) {\n\t      this.__onFinishChange.call(this, this.getValue());\n\t    }\n\t    return toReturn;\n\t  };\n\t\n\t  OptionController.prototype.updateDisplay = function updateDisplay() {\n\t    if (_dom2.default.isActive(this.__select)) return this; // prevent number from updating if user is trying to manually update\n\t    this.__select.value = this.getValue();\n\t    return _Controller.prototype.updateDisplay.call(this);\n\t  };\n\t\n\t  return OptionController;\n\t}(_Controller3.default);\n\t\n\texports.default = OptionController;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _Controller2 = __webpack_require__(7);\n\t\n\tvar _Controller3 = _interopRequireDefault(_Controller2);\n\t\n\tvar _dom = __webpack_require__(9);\n\t\n\tvar _dom2 = _interopRequireDefault(_dom);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * dat-gui JavaScript Controller Library\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * http://code.google.com/p/dat-gui\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Copyright 2011 Data Arts Team, Google Creative Lab\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * you may not use this file except in compliance with the License.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You may obtain a copy of the License at\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * http://www.apache.org/licenses/LICENSE-2.0\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\t\n\t/**\n\t * @class Provides a text input to alter the string property of an object.\n\t *\n\t * @extends dat.controllers.Controller\n\t *\n\t * @param {Object} object The object to be manipulated\n\t * @param {string} property The name of the property to be manipulated\n\t *\n\t * @member dat.controllers\n\t */\n\tvar StringController = function (_Controller) {\n\t  _inherits(StringController, _Controller);\n\t\n\t  function StringController(object, property) {\n\t    _classCallCheck(this, StringController);\n\t\n\t    var _this2 = _possibleConstructorReturn(this, _Controller.call(this, object, property));\n\t\n\t    var _this = _this2;\n\t\n\t    function onChange() {\n\t      _this.setValue(_this.__input.value);\n\t    }\n\t\n\t    function onBlur() {\n\t      if (_this.__onFinishChange) {\n\t        _this.__onFinishChange.call(_this, _this.getValue());\n\t      }\n\t    }\n\t\n\t    _this2.__input = document.createElement('input');\n\t    _this2.__input.setAttribute('type', 'text');\n\t\n\t    _dom2.default.bind(_this2.__input, 'keyup', onChange);\n\t    _dom2.default.bind(_this2.__input, 'change', onChange);\n\t    _dom2.default.bind(_this2.__input, 'blur', onBlur);\n\t    _dom2.default.bind(_this2.__input, 'keydown', function (e) {\n\t      if (e.keyCode === 13) {\n\t        this.blur();\n\t      }\n\t    });\n\t\n\t    _this2.updateDisplay();\n\t\n\t    _this2.domElement.appendChild(_this2.__input);\n\t    return _this2;\n\t  }\n\t\n\t  StringController.prototype.updateDisplay = function updateDisplay() {\n\t    // Stops the caret from moving on account of:\n\t    // keyup -> setValue -> updateDisplay\n\t    if (!_dom2.default.isActive(this.__input)) {\n\t      this.__input.value = this.getValue();\n\t    }\n\t    return _Controller.prototype.updateDisplay.call(this);\n\t  };\n\t\n\t  return StringController;\n\t}(_Controller3.default);\n\t\n\texports.default = StringController;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _Controller2 = __webpack_require__(7);\n\t\n\tvar _Controller3 = _interopRequireDefault(_Controller2);\n\t\n\tvar _common = __webpack_require__(5);\n\t\n\tvar _common2 = _interopRequireDefault(_common);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * dat-gui JavaScript Controller Library\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * http://code.google.com/p/dat-gui\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Copyright 2011 Data Arts Team, Google Creative Lab\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * you may not use this file except in compliance with the License.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You may obtain a copy of the License at\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * http://www.apache.org/licenses/LICENSE-2.0\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\t\n\tfunction numDecimals(x) {\n\t  var _x = x.toString();\n\t  if (_x.indexOf('.') > -1) {\n\t    return _x.length - _x.indexOf('.') - 1;\n\t  }\n\t\n\t  return 0;\n\t}\n\t\n\t/**\n\t * @class Represents a given property of an object that is a number.\n\t *\n\t * @extends dat.controllers.Controller\n\t *\n\t * @param {Object} object The object to be manipulated\n\t * @param {string} property The name of the property to be manipulated\n\t * @param {Object} [params] Optional parameters\n\t * @param {Number} [params.min] Minimum allowed value\n\t * @param {Number} [params.max] Maximum allowed value\n\t * @param {Number} [params.step] Increment by which to change value\n\t *\n\t * @member dat.controllers\n\t */\n\t\n\tvar NumberController = function (_Controller) {\n\t  _inherits(NumberController, _Controller);\n\t\n\t  function NumberController(object, property, params) {\n\t    _classCallCheck(this, NumberController);\n\t\n\t    var _this = _possibleConstructorReturn(this, _Controller.call(this, object, property));\n\t\n\t    var _params = params || {};\n\t\n\t    _this.__min = _params.min;\n\t    _this.__max = _params.max;\n\t    _this.__step = _params.step;\n\t\n\t    if (_common2.default.isUndefined(_this.__step)) {\n\t      if (_this.initialValue === 0) {\n\t        _this.__impliedStep = 1; // What are we, psychics?\n\t      } else {\n\t        // Hey Doug, check this out.\n\t        _this.__impliedStep = Math.pow(10, Math.floor(Math.log(Math.abs(_this.initialValue)) / Math.LN10)) / 10;\n\t      }\n\t    } else {\n\t      _this.__impliedStep = _this.__step;\n\t    }\n\t\n\t    _this.__precision = numDecimals(_this.__impliedStep);\n\t    return _this;\n\t  }\n\t\n\t  NumberController.prototype.setValue = function setValue(v) {\n\t    var _v = v;\n\t\n\t    if (this.__min !== undefined && _v < this.__min) {\n\t      _v = this.__min;\n\t    } else if (this.__max !== undefined && _v > this.__max) {\n\t      _v = this.__max;\n\t    }\n\t\n\t    if (this.__step !== undefined && _v % this.__step !== 0) {\n\t      _v = Math.round(_v / this.__step) * this.__step;\n\t    }\n\t\n\t    return _Controller.prototype.setValue.call(this, _v);\n\t  };\n\t\n\t  /**\n\t   * Specify a minimum value for <code>object[property]</code>.\n\t   *\n\t   * @param {Number} minValue The minimum value for\n\t   * <code>object[property]</code>\n\t   * @returns {dat.controllers.NumberController} this\n\t   */\n\t\n\t\n\t  NumberController.prototype.min = function min(v) {\n\t    this.__min = v;\n\t    return this;\n\t  };\n\t\n\t  /**\n\t   * Specify a maximum value for <code>object[property]</code>.\n\t   *\n\t   * @param {Number} maxValue The maximum value for\n\t   * <code>object[property]</code>\n\t   * @returns {dat.controllers.NumberController} this\n\t   */\n\t\n\t\n\t  NumberController.prototype.max = function max(v) {\n\t    this.__max = v;\n\t    return this;\n\t  };\n\t\n\t  /**\n\t   * Specify a step value that dat.controllers.NumberController\n\t   * increments by.\n\t   *\n\t   * @param {Number} stepValue The step value for\n\t   * dat.controllers.NumberController\n\t   * @default if minimum and maximum specified increment is 1% of the\n\t   * difference otherwise stepValue is 1\n\t   * @returns {dat.controllers.NumberController} this\n\t   */\n\t\n\t\n\t  NumberController.prototype.step = function step(v) {\n\t    this.__step = v;\n\t    this.__impliedStep = v;\n\t    this.__precision = numDecimals(v);\n\t    return this;\n\t  };\n\t\n\t  return NumberController;\n\t}(_Controller3.default);\n\t\n\texports.default = NumberController;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _NumberController2 = __webpack_require__(12);\n\t\n\tvar _NumberController3 = _interopRequireDefault(_NumberController2);\n\t\n\tvar _dom = __webpack_require__(9);\n\t\n\tvar _dom2 = _interopRequireDefault(_dom);\n\t\n\tvar _common = __webpack_require__(5);\n\t\n\tvar _common2 = _interopRequireDefault(_common);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * dat-gui JavaScript Controller Library\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * http://code.google.com/p/dat-gui\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Copyright 2011 Data Arts Team, Google Creative Lab\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * you may not use this file except in compliance with the License.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You may obtain a copy of the License at\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * http://www.apache.org/licenses/LICENSE-2.0\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\t\n\tfunction roundToDecimal(value, decimals) {\n\t  var tenTo = Math.pow(10, decimals);\n\t  return Math.round(value * tenTo) / tenTo;\n\t}\n\t\n\t/**\n\t * @class Represents a given property of an object that is a number and\n\t * provides an input element with which to manipulate it.\n\t *\n\t * @extends dat.controllers.Controller\n\t * @extends dat.controllers.NumberController\n\t *\n\t * @param {Object} object The object to be manipulated\n\t * @param {string} property The name of the property to be manipulated\n\t * @param {Object} [params] Optional parameters\n\t * @param {Number} [params.min] Minimum allowed value\n\t * @param {Number} [params.max] Maximum allowed value\n\t * @param {Number} [params.step] Increment by which to change value\n\t *\n\t * @member dat.controllers\n\t */\n\t\n\tvar NumberControllerBox = function (_NumberController) {\n\t  _inherits(NumberControllerBox, _NumberController);\n\t\n\t  function NumberControllerBox(object, property, params) {\n\t    _classCallCheck(this, NumberControllerBox);\n\t\n\t    var _this2 = _possibleConstructorReturn(this, _NumberController.call(this, object, property, params));\n\t\n\t    _this2.__truncationSuspended = false;\n\t\n\t    var _this = _this2;\n\t\n\t    /**\n\t     * {Number} Previous mouse y position\n\t     * @ignore\n\t     */\n\t    var prevY = void 0;\n\t\n\t    function onChange() {\n\t      var attempted = parseFloat(_this.__input.value);\n\t      if (!_common2.default.isNaN(attempted)) {\n\t        _this.setValue(attempted);\n\t      }\n\t    }\n\t\n\t    function onFinish() {\n\t      if (_this.__onFinishChange) {\n\t        _this.__onFinishChange.call(_this, _this.getValue());\n\t      }\n\t    }\n\t\n\t    function onBlur() {\n\t      onFinish();\n\t    }\n\t\n\t    function onMouseDrag(e) {\n\t      var diff = prevY - e.clientY;\n\t      _this.setValue(_this.getValue() + diff * _this.__impliedStep);\n\t\n\t      prevY = e.clientY;\n\t    }\n\t\n\t    function onMouseUp() {\n\t      _dom2.default.unbind(window, 'mousemove', onMouseDrag);\n\t      _dom2.default.unbind(window, 'mouseup', onMouseUp);\n\t      onFinish();\n\t    }\n\t\n\t    function onMouseDown(e) {\n\t      _dom2.default.bind(window, 'mousemove', onMouseDrag);\n\t      _dom2.default.bind(window, 'mouseup', onMouseUp);\n\t      prevY = e.clientY;\n\t    }\n\t\n\t    _this2.__input = document.createElement('input');\n\t    _this2.__input.setAttribute('type', 'text');\n\t\n\t    // Makes it so manually specified values are not truncated.\n\t\n\t    _dom2.default.bind(_this2.__input, 'change', onChange);\n\t    _dom2.default.bind(_this2.__input, 'blur', onBlur);\n\t    _dom2.default.bind(_this2.__input, 'mousedown', onMouseDown);\n\t    _dom2.default.bind(_this2.__input, 'keydown', function (e) {\n\t      // When pressing enter, you can be as precise as you want.\n\t      if (e.keyCode === 13) {\n\t        _this.__truncationSuspended = true;\n\t        this.blur();\n\t        _this.__truncationSuspended = false;\n\t        onFinish();\n\t      }\n\t    });\n\t\n\t    _this2.updateDisplay();\n\t\n\t    _this2.domElement.appendChild(_this2.__input);\n\t    return _this2;\n\t  }\n\t\n\t  NumberControllerBox.prototype.updateDisplay = function updateDisplay() {\n\t    this.__input.value = this.__truncationSuspended ? this.getValue() : roundToDecimal(this.getValue(), this.__precision);\n\t    return _NumberController.prototype.updateDisplay.call(this);\n\t  };\n\t\n\t  return NumberControllerBox;\n\t}(_NumberController3.default);\n\t\n\texports.default = NumberControllerBox;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _NumberController2 = __webpack_require__(12);\n\t\n\tvar _NumberController3 = _interopRequireDefault(_NumberController2);\n\t\n\tvar _dom = __webpack_require__(9);\n\t\n\tvar _dom2 = _interopRequireDefault(_dom);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * dat-gui JavaScript Controller Library\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * http://code.google.com/p/dat-gui\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Copyright 2011 Data Arts Team, Google Creative Lab\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * you may not use this file except in compliance with the License.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You may obtain a copy of the License at\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * http://www.apache.org/licenses/LICENSE-2.0\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\t\n\tfunction map(v, i1, i2, o1, o2) {\n\t  return o1 + (o2 - o1) * ((v - i1) / (i2 - i1));\n\t}\n\t\n\t/**\n\t * @class Represents a given property of an object that is a number, contains\n\t * a minimum and maximum, and provides a slider element with which to\n\t * manipulate it. It should be noted that the slider element is made up of\n\t * <code>&lt;div&gt;</code> tags, <strong>not</strong> the html5\n\t * <code>&lt;slider&gt;</code> element.\n\t *\n\t * @extends dat.controllers.Controller\n\t * @extends dat.controllers.NumberController\n\t *\n\t * @param {Object} object The object to be manipulated\n\t * @param {string} property The name of the property to be manipulated\n\t * @param {Number} minValue Minimum allowed value\n\t * @param {Number} maxValue Maximum allowed value\n\t * @param {Number} stepValue Increment by which to change value\n\t *\n\t * @member dat.controllers\n\t */\n\t\n\tvar NumberControllerSlider = function (_NumberController) {\n\t  _inherits(NumberControllerSlider, _NumberController);\n\t\n\t  function NumberControllerSlider(object, property, min, max, step) {\n\t    _classCallCheck(this, NumberControllerSlider);\n\t\n\t    var _this2 = _possibleConstructorReturn(this, _NumberController.call(this, object, property, { min: min, max: max, step: step }));\n\t\n\t    var _this = _this2;\n\t\n\t    _this2.__background = document.createElement('div');\n\t    _this2.__foreground = document.createElement('div');\n\t\n\t    _dom2.default.bind(_this2.__background, 'mousedown', onMouseDown);\n\t\n\t    _dom2.default.addClass(_this2.__background, 'slider');\n\t    _dom2.default.addClass(_this2.__foreground, 'slider-fg');\n\t\n\t    function onMouseDown(e) {\n\t      document.activeElement.blur();\n\t\n\t      _dom2.default.bind(window, 'mousemove', onMouseDrag);\n\t      _dom2.default.bind(window, 'mouseup', onMouseUp);\n\t\n\t      onMouseDrag(e);\n\t    }\n\t\n\t    function onMouseDrag(e) {\n\t      e.preventDefault();\n\t\n\t      var bgRect = _this.__background.getBoundingClientRect();\n\t\n\t      _this.setValue(map(e.clientX, bgRect.left, bgRect.right, _this.__min, _this.__max));\n\t\n\t      return false;\n\t    }\n\t\n\t    function onMouseUp() {\n\t      _dom2.default.unbind(window, 'mousemove', onMouseDrag);\n\t      _dom2.default.unbind(window, 'mouseup', onMouseUp);\n\t      if (_this.__onFinishChange) {\n\t        _this.__onFinishChange.call(_this, _this.getValue());\n\t      }\n\t    }\n\t\n\t    _this2.updateDisplay();\n\t\n\t    _this2.__background.appendChild(_this2.__foreground);\n\t    _this2.domElement.appendChild(_this2.__background);\n\t    return _this2;\n\t  }\n\t\n\t  NumberControllerSlider.prototype.updateDisplay = function updateDisplay() {\n\t    var pct = (this.getValue() - this.__min) / (this.__max - this.__min);\n\t    this.__foreground.style.width = pct * 100 + '%';\n\t    return _NumberController.prototype.updateDisplay.call(this);\n\t  };\n\t\n\t  return NumberControllerSlider;\n\t}(_NumberController3.default);\n\t\n\texports.default = NumberControllerSlider;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _Controller2 = __webpack_require__(7);\n\t\n\tvar _Controller3 = _interopRequireDefault(_Controller2);\n\t\n\tvar _dom = __webpack_require__(9);\n\t\n\tvar _dom2 = _interopRequireDefault(_dom);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * dat-gui JavaScript Controller Library\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * http://code.google.com/p/dat-gui\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Copyright 2011 Data Arts Team, Google Creative Lab\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * you may not use this file except in compliance with the License.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You may obtain a copy of the License at\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * http://www.apache.org/licenses/LICENSE-2.0\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\t\n\t/**\n\t * @class Provides a GUI interface to fire a specified method, a property of an object.\n\t *\n\t * @extends dat.controllers.Controller\n\t *\n\t * @param {Object} object The object to be manipulated\n\t * @param {string} property The name of the property to be manipulated\n\t *\n\t * @member dat.controllers\n\t */\n\tvar FunctionController = function (_Controller) {\n\t  _inherits(FunctionController, _Controller);\n\t\n\t  function FunctionController(object, property, text) {\n\t    _classCallCheck(this, FunctionController);\n\t\n\t    var _this2 = _possibleConstructorReturn(this, _Controller.call(this, object, property));\n\t\n\t    var _this = _this2;\n\t\n\t    _this2.__button = document.createElement('div');\n\t    _this2.__button.innerHTML = text === undefined ? 'Fire' : text;\n\t\n\t    _dom2.default.bind(_this2.__button, 'click', function (e) {\n\t      e.preventDefault();\n\t      _this.fire();\n\t      return false;\n\t    });\n\t\n\t    _dom2.default.addClass(_this2.__button, 'button');\n\t\n\t    _this2.domElement.appendChild(_this2.__button);\n\t    return _this2;\n\t  }\n\t\n\t  FunctionController.prototype.fire = function fire() {\n\t    if (this.__onChange) {\n\t      this.__onChange.call(this);\n\t    }\n\t    this.getValue().call(this.object);\n\t    if (this.__onFinishChange) {\n\t      this.__onFinishChange.call(this, this.getValue());\n\t    }\n\t  };\n\t\n\t  return FunctionController;\n\t}(_Controller3.default);\n\t\n\texports.default = FunctionController;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _Controller2 = __webpack_require__(7);\n\t\n\tvar _Controller3 = _interopRequireDefault(_Controller2);\n\t\n\tvar _dom = __webpack_require__(9);\n\t\n\tvar _dom2 = _interopRequireDefault(_dom);\n\t\n\tvar _Color = __webpack_require__(2);\n\t\n\tvar _Color2 = _interopRequireDefault(_Color);\n\t\n\tvar _interpret = __webpack_require__(3);\n\t\n\tvar _interpret2 = _interopRequireDefault(_interpret);\n\t\n\tvar _common = __webpack_require__(5);\n\t\n\tvar _common2 = _interopRequireDefault(_common);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * dat-gui JavaScript Controller Library\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * http://code.google.com/p/dat-gui\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Copyright 2011 Data Arts Team, Google Creative Lab\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * you may not use this file except in compliance with the License.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You may obtain a copy of the License at\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * http://www.apache.org/licenses/LICENSE-2.0\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\t\n\tvar ColorController = function (_Controller) {\n\t  _inherits(ColorController, _Controller);\n\t\n\t  function ColorController(object, property) {\n\t    _classCallCheck(this, ColorController);\n\t\n\t    var _this2 = _possibleConstructorReturn(this, _Controller.call(this, object, property));\n\t\n\t    _this2.__color = new _Color2.default(_this2.getValue());\n\t    _this2.__temp = new _Color2.default(0);\n\t\n\t    var _this = _this2;\n\t\n\t    _this2.domElement = document.createElement('div');\n\t\n\t    _dom2.default.makeSelectable(_this2.domElement, false);\n\t\n\t    _this2.__selector = document.createElement('div');\n\t    _this2.__selector.className = 'selector';\n\t\n\t    _this2.__saturation_field = document.createElement('div');\n\t    _this2.__saturation_field.className = 'saturation-field';\n\t\n\t    _this2.__field_knob = document.createElement('div');\n\t    _this2.__field_knob.className = 'field-knob';\n\t    _this2.__field_knob_border = '2px solid ';\n\t\n\t    _this2.__hue_knob = document.createElement('div');\n\t    _this2.__hue_knob.className = 'hue-knob';\n\t\n\t    _this2.__hue_field = document.createElement('div');\n\t    _this2.__hue_field.className = 'hue-field';\n\t\n\t    _this2.__input = document.createElement('input');\n\t    _this2.__input.type = 'text';\n\t    _this2.__input_textShadow = '0 1px 1px ';\n\t\n\t    _dom2.default.bind(_this2.__input, 'keydown', function (e) {\n\t      if (e.keyCode === 13) {\n\t        // on enter\n\t        onBlur.call(this);\n\t      }\n\t    });\n\t\n\t    _dom2.default.bind(_this2.__input, 'blur', onBlur);\n\t\n\t    _dom2.default.bind(_this2.__selector, 'mousedown', function () /* e */{\n\t      _dom2.default.addClass(this, 'drag').bind(window, 'mouseup', function () /* e */{\n\t        _dom2.default.removeClass(_this.__selector, 'drag');\n\t      });\n\t    });\n\t\n\t    var valueField = document.createElement('div');\n\t\n\t    _common2.default.extend(_this2.__selector.style, {\n\t      width: '122px',\n\t      height: '102px',\n\t      padding: '3px',\n\t      backgroundColor: '#222',\n\t      boxShadow: '0px 1px 3px rgba(0,0,0,0.3)'\n\t    });\n\t\n\t    _common2.default.extend(_this2.__field_knob.style, {\n\t      position: 'absolute',\n\t      width: '12px',\n\t      height: '12px',\n\t      border: _this2.__field_knob_border + (_this2.__color.v < 0.5 ? '#fff' : '#000'),\n\t      boxShadow: '0px 1px 3px rgba(0,0,0,0.5)',\n\t      borderRadius: '12px',\n\t      zIndex: 1\n\t    });\n\t\n\t    _common2.default.extend(_this2.__hue_knob.style, {\n\t      position: 'absolute',\n\t      width: '15px',\n\t      height: '2px',\n\t      borderRight: '4px solid #fff',\n\t      zIndex: 1\n\t    });\n\t\n\t    _common2.default.extend(_this2.__saturation_field.style, {\n\t      width: '100px',\n\t      height: '100px',\n\t      border: '1px solid #555',\n\t      marginRight: '3px',\n\t      display: 'inline-block',\n\t      cursor: 'pointer'\n\t    });\n\t\n\t    _common2.default.extend(valueField.style, {\n\t      width: '100%',\n\t      height: '100%',\n\t      background: 'none'\n\t    });\n\t\n\t    linearGradient(valueField, 'top', 'rgba(0,0,0,0)', '#000');\n\t\n\t    _common2.default.extend(_this2.__hue_field.style, {\n\t      width: '15px',\n\t      height: '100px',\n\t      border: '1px solid #555',\n\t      cursor: 'ns-resize',\n\t      position: 'absolute',\n\t      top: '3px',\n\t      right: '3px'\n\t    });\n\t\n\t    hueGradient(_this2.__hue_field);\n\t\n\t    _common2.default.extend(_this2.__input.style, {\n\t      outline: 'none',\n\t      //      width: '120px',\n\t      textAlign: 'center',\n\t      //      padding: '4px',\n\t      //      marginBottom: '6px',\n\t      color: '#fff',\n\t      border: 0,\n\t      fontWeight: 'bold',\n\t      textShadow: _this2.__input_textShadow + 'rgba(0,0,0,0.7)'\n\t    });\n\t\n\t    _dom2.default.bind(_this2.__saturation_field, 'mousedown', fieldDown);\n\t    _dom2.default.bind(_this2.__field_knob, 'mousedown', fieldDown);\n\t\n\t    _dom2.default.bind(_this2.__hue_field, 'mousedown', function (e) {\n\t      setH(e);\n\t      _dom2.default.bind(window, 'mousemove', setH);\n\t      _dom2.default.bind(window, 'mouseup', fieldUpH);\n\t    });\n\t\n\t    function fieldDown(e) {\n\t      setSV(e);\n\t      // document.body.style.cursor = 'none';\n\t      _dom2.default.bind(window, 'mousemove', setSV);\n\t      _dom2.default.bind(window, 'mouseup', fieldUpSV);\n\t    }\n\t\n\t    function fieldUpSV() {\n\t      _dom2.default.unbind(window, 'mousemove', setSV);\n\t      _dom2.default.unbind(window, 'mouseup', fieldUpSV);\n\t      // document.body.style.cursor = 'default';\n\t      onFinish();\n\t    }\n\t\n\t    function onBlur() {\n\t      var i = (0, _interpret2.default)(this.value);\n\t      if (i !== false) {\n\t        _this.__color.__state = i;\n\t        _this.setValue(_this.__color.toOriginal());\n\t      } else {\n\t        this.value = _this.__color.toString();\n\t      }\n\t    }\n\t\n\t    function fieldUpH() {\n\t      _dom2.default.unbind(window, 'mousemove', setH);\n\t      _dom2.default.unbind(window, 'mouseup', fieldUpH);\n\t      onFinish();\n\t    }\n\t\n\t    function onFinish() {\n\t      if (_this.__onFinishChange) {\n\t        _this.__onFinishChange.call(_this, _this.__color.toOriginal());\n\t      }\n\t    }\n\t\n\t    _this2.__saturation_field.appendChild(valueField);\n\t    _this2.__selector.appendChild(_this2.__field_knob);\n\t    _this2.__selector.appendChild(_this2.__saturation_field);\n\t    _this2.__selector.appendChild(_this2.__hue_field);\n\t    _this2.__hue_field.appendChild(_this2.__hue_knob);\n\t\n\t    _this2.domElement.appendChild(_this2.__input);\n\t    _this2.domElement.appendChild(_this2.__selector);\n\t\n\t    _this2.updateDisplay();\n\t\n\t    function setSV(e) {\n\t      e.preventDefault();\n\t\n\t      var fieldRect = _this.__saturation_field.getBoundingClientRect();\n\t      var s = (e.clientX - fieldRect.left) / (fieldRect.right - fieldRect.left);\n\t      var v = 1 - (e.clientY - fieldRect.top) / (fieldRect.bottom - fieldRect.top);\n\t\n\t      if (v > 1) {\n\t        v = 1;\n\t      } else if (v < 0) {\n\t        v = 0;\n\t      }\n\t\n\t      if (s > 1) {\n\t        s = 1;\n\t      } else if (s < 0) {\n\t        s = 0;\n\t      }\n\t\n\t      _this.__color.v = v;\n\t      _this.__color.s = s;\n\t\n\t      _this.setValue(_this.__color.toOriginal());\n\t\n\t      return false;\n\t    }\n\t\n\t    function setH(e) {\n\t      e.preventDefault();\n\t\n\t      var fieldRect = _this.__hue_field.getBoundingClientRect();\n\t      var h = 1 - (e.clientY - fieldRect.top) / (fieldRect.bottom - fieldRect.top);\n\t\n\t      if (h > 1) {\n\t        h = 1;\n\t      } else if (h < 0) {\n\t        h = 0;\n\t      }\n\t\n\t      _this.__color.h = h * 360;\n\t\n\t      _this.setValue(_this.__color.toOriginal());\n\t\n\t      return false;\n\t    }\n\t    return _this2;\n\t  }\n\t\n\t  ColorController.prototype.updateDisplay = function updateDisplay() {\n\t    var i = (0, _interpret2.default)(this.getValue());\n\t\n\t    if (i !== false) {\n\t      var mismatch = false;\n\t\n\t      // Check for mismatch on the interpreted value.\n\t\n\t      _common2.default.each(_Color2.default.COMPONENTS, function (component) {\n\t        if (!_common2.default.isUndefined(i[component]) && !_common2.default.isUndefined(this.__color.__state[component]) && i[component] !== this.__color.__state[component]) {\n\t          mismatch = true;\n\t          return {}; // break\n\t        }\n\t      }, this);\n\t\n\t      // If nothing diverges, we keep our previous values\n\t      // for statefulness, otherwise we recalculate fresh\n\t      if (mismatch) {\n\t        _common2.default.extend(this.__color.__state, i);\n\t      }\n\t    }\n\t\n\t    _common2.default.extend(this.__temp.__state, this.__color.__state);\n\t\n\t    this.__temp.a = 1;\n\t\n\t    var flip = this.__color.v < 0.5 || this.__color.s > 0.5 ? 255 : 0;\n\t    var _flip = 255 - flip;\n\t\n\t    _common2.default.extend(this.__field_knob.style, {\n\t      marginLeft: 100 * this.__color.s - 7 + 'px',\n\t      marginTop: 100 * (1 - this.__color.v) - 7 + 'px',\n\t      backgroundColor: this.__temp.toHexString(),\n\t      border: this.__field_knob_border + 'rgb(' + flip + ',' + flip + ',' + flip + ')'\n\t    });\n\t\n\t    this.__hue_knob.style.marginTop = (1 - this.__color.h / 360) * 100 + 'px';\n\t\n\t    this.__temp.s = 1;\n\t    this.__temp.v = 1;\n\t\n\t    linearGradient(this.__saturation_field, 'left', '#fff', this.__temp.toHexString());\n\t\n\t    this.__input.value = this.__color.toString();\n\t\n\t    _common2.default.extend(this.__input.style, {\n\t      backgroundColor: this.__color.toHexString(),\n\t      color: 'rgb(' + flip + ',' + flip + ',' + flip + ')',\n\t      textShadow: this.__input_textShadow + 'rgba(' + _flip + ',' + _flip + ',' + _flip + ',.7)'\n\t    });\n\t  };\n\t\n\t  return ColorController;\n\t}(_Controller3.default);\n\t\n\tvar vendors = ['-moz-', '-o-', '-webkit-', '-ms-', ''];\n\t\n\tfunction linearGradient(elem, x, a, b) {\n\t  elem.style.background = '';\n\t  _common2.default.each(vendors, function (vendor) {\n\t    elem.style.cssText += 'background: ' + vendor + 'linear-gradient(' + x + ', ' + a + ' 0%, ' + b + ' 100%); ';\n\t  });\n\t}\n\t\n\tfunction hueGradient(elem) {\n\t  elem.style.background = '';\n\t  elem.style.cssText += 'background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);';\n\t  elem.style.cssText += 'background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n\t  elem.style.cssText += 'background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n\t  elem.style.cssText += 'background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n\t  elem.style.cssText += 'background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n\t}\n\t\n\texports.default = ColorController;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; /**\n\t                                                                                                                                                                                                                                                                               * dat-gui JavaScript Controller Library\n\t                                                                                                                                                                                                                                                                               * http://code.google.com/p/dat-gui\n\t                                                                                                                                                                                                                                                                               *\n\t                                                                                                                                                                                                                                                                               * Copyright 2011 Data Arts Team, Google Creative Lab\n\t                                                                                                                                                                                                                                                                               *\n\t                                                                                                                                                                                                                                                                               * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t                                                                                                                                                                                                                                                                               * you may not use this file except in compliance with the License.\n\t                                                                                                                                                                                                                                                                               * You may obtain a copy of the License at\n\t                                                                                                                                                                                                                                                                               *\n\t                                                                                                                                                                                                                                                                               * http://www.apache.org/licenses/LICENSE-2.0\n\t                                                                                                                                                                                                                                                                               */\n\t\n\tvar _css = __webpack_require__(18);\n\t\n\tvar _css2 = _interopRequireDefault(_css);\n\t\n\tvar _saveDialogue = __webpack_require__(19);\n\t\n\tvar _saveDialogue2 = _interopRequireDefault(_saveDialogue);\n\t\n\tvar _ControllerFactory = __webpack_require__(20);\n\t\n\tvar _ControllerFactory2 = _interopRequireDefault(_ControllerFactory);\n\t\n\tvar _Controller = __webpack_require__(7);\n\t\n\tvar _Controller2 = _interopRequireDefault(_Controller);\n\t\n\tvar _BooleanController = __webpack_require__(8);\n\t\n\tvar _BooleanController2 = _interopRequireDefault(_BooleanController);\n\t\n\tvar _FunctionController = __webpack_require__(15);\n\t\n\tvar _FunctionController2 = _interopRequireDefault(_FunctionController);\n\t\n\tvar _NumberControllerBox = __webpack_require__(13);\n\t\n\tvar _NumberControllerBox2 = _interopRequireDefault(_NumberControllerBox);\n\t\n\tvar _NumberControllerSlider = __webpack_require__(14);\n\t\n\tvar _NumberControllerSlider2 = _interopRequireDefault(_NumberControllerSlider);\n\t\n\tvar _ColorController = __webpack_require__(16);\n\t\n\tvar _ColorController2 = _interopRequireDefault(_ColorController);\n\t\n\tvar _requestAnimationFrame = __webpack_require__(21);\n\t\n\tvar _requestAnimationFrame2 = _interopRequireDefault(_requestAnimationFrame);\n\t\n\tvar _CenteredDiv = __webpack_require__(22);\n\t\n\tvar _CenteredDiv2 = _interopRequireDefault(_CenteredDiv);\n\t\n\tvar _dom = __webpack_require__(9);\n\t\n\tvar _dom2 = _interopRequireDefault(_dom);\n\t\n\tvar _common = __webpack_require__(5);\n\t\n\tvar _common2 = _interopRequireDefault(_common);\n\t\n\tvar _style = __webpack_require__(23);\n\t\n\tvar _style2 = _interopRequireDefault(_style);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t// CSS to embed in build\n\t\n\t_css2.default.inject(_style2.default);\n\t\n\t/** Outer-most className for GUI's */\n\tvar CSS_NAMESPACE = 'dg';\n\t\n\tvar HIDE_KEY_CODE = 72;\n\t\n\t/** The only value shared between the JS and SCSS. Use caution. */\n\tvar CLOSE_BUTTON_HEIGHT = 20;\n\t\n\tvar DEFAULT_DEFAULT_PRESET_NAME = 'Default';\n\t\n\tvar SUPPORTS_LOCAL_STORAGE = function () {\n\t  try {\n\t    return 'localStorage' in window && window.localStorage !== null;\n\t  } catch (e) {\n\t    return false;\n\t  }\n\t}();\n\t\n\tvar SAVE_DIALOGUE = void 0;\n\t\n\t/** Have we yet to create an autoPlace GUI? */\n\tvar autoPlaceVirgin = true;\n\t\n\t/** Fixed position div that auto place GUI's go inside */\n\tvar autoPlaceContainer = void 0;\n\t\n\t/** Are we hiding the GUI's ? */\n\tvar hide = false;\n\t\n\t/** GUI's which should be hidden */\n\tvar hideableGuis = [];\n\t\n\t/**\n\t * A lightweight controller library for JavaScript. It allows you to easily\n\t * manipulate variables and fire functions on the fly.\n\t * @class\n\t *\n\t * @member dat.gui\n\t *\n\t * @param {Object} [params]\n\t * @param {String} [params.name] The name of this GUI.\n\t * @param {Object} [params.load] JSON object representing the saved state of\n\t * this GUI.\n\t * @param {Boolean} [params.auto=true]\n\t * @param {dat.gui.GUI} [params.parent] The GUI I'm nested in.\n\t * @param {Boolean} [params.closed] If true, starts closed\n\t * @param {Boolean} [params.closeOnTop] If true, close/open button shows on top of the GUI\n\t */\n\tvar GUI = function GUI(pars) {\n\t  var _this = this;\n\t\n\t  var params = pars || {};\n\t\n\t  /**\n\t   * Outermost DOM Element\n\t   * @type DOMElement\n\t   */\n\t  this.domElement = document.createElement('div');\n\t  this.__ul = document.createElement('ul');\n\t  this.domElement.appendChild(this.__ul);\n\t\n\t  _dom2.default.addClass(this.domElement, CSS_NAMESPACE);\n\t\n\t  /**\n\t   * Nested GUI's by name\n\t   * @ignore\n\t   */\n\t  this.__folders = {};\n\t\n\t  this.__controllers = [];\n\t\n\t  /**\n\t   * List of objects I'm remembering for save, only used in top level GUI\n\t   * @ignore\n\t   */\n\t  this.__rememberedObjects = [];\n\t\n\t  /**\n\t   * Maps the index of remembered objects to a map of controllers, only used\n\t   * in top level GUI.\n\t   *\n\t   * @private\n\t   * @ignore\n\t   *\n\t   * @example\n\t   * [\n\t   *  {\n\t     *    propertyName: Controller,\n\t     *    anotherPropertyName: Controller\n\t     *  },\n\t   *  {\n\t     *    propertyName: Controller\n\t     *  }\n\t   * ]\n\t   */\n\t  this.__rememberedObjectIndecesToControllers = [];\n\t\n\t  this.__listening = [];\n\t\n\t  // Default parameters\n\t  params = _common2.default.defaults(params, {\n\t    closeOnTop: false,\n\t    autoPlace: true,\n\t    width: GUI.DEFAULT_WIDTH\n\t  });\n\t\n\t  params = _common2.default.defaults(params, {\n\t    resizable: params.autoPlace,\n\t    hideable: params.autoPlace\n\t  });\n\t\n\t  if (!_common2.default.isUndefined(params.load)) {\n\t    // Explicit preset\n\t    if (params.preset) {\n\t      params.load.preset = params.preset;\n\t    }\n\t  } else {\n\t    params.load = { preset: DEFAULT_DEFAULT_PRESET_NAME };\n\t  }\n\t\n\t  if (_common2.default.isUndefined(params.parent) && params.hideable) {\n\t    hideableGuis.push(this);\n\t  }\n\t\n\t  // Only root level GUI's are resizable.\n\t  params.resizable = _common2.default.isUndefined(params.parent) && params.resizable;\n\t\n\t  if (params.autoPlace && _common2.default.isUndefined(params.scrollable)) {\n\t    params.scrollable = true;\n\t  }\n\t  //    params.scrollable = common.isUndefined(params.parent) && params.scrollable === true;\n\t\n\t  // Not part of params because I don't want people passing this in via\n\t  // constructor. Should be a 'remembered' value.\n\t  var useLocalStorage = SUPPORTS_LOCAL_STORAGE && localStorage.getItem(getLocalStorageHash(this, 'isLocal')) === 'true';\n\t\n\t  var saveToLocalStorage = void 0;\n\t\n\t  Object.defineProperties(this,\n\t  /** @lends dat.gui.GUI.prototype */\n\t  {\n\t    /**\n\t     * The parent <code>GUI</code>\n\t     * @type dat.gui.GUI\n\t     */\n\t    parent: {\n\t      get: function get() {\n\t        return params.parent;\n\t      }\n\t    },\n\t\n\t    scrollable: {\n\t      get: function get() {\n\t        return params.scrollable;\n\t      }\n\t    },\n\t\n\t    /**\n\t     * Handles <code>GUI</code>'s element placement for you\n\t     * @type Boolean\n\t     */\n\t    autoPlace: {\n\t      get: function get() {\n\t        return params.autoPlace;\n\t      }\n\t    },\n\t\n\t    /**\n\t     * Handles <code>GUI</code>'s position of open/close button\n\t     * @type Boolean\n\t     */\n\t    closeOnTop: {\n\t      get: function get() {\n\t        return params.closeOnTop;\n\t      }\n\t    },\n\t\n\t    /**\n\t     * The identifier for a set of saved values\n\t     * @type String\n\t     */\n\t    preset: {\n\t      get: function get() {\n\t        if (_this.parent) {\n\t          return _this.getRoot().preset;\n\t        }\n\t\n\t        return params.load.preset;\n\t      },\n\t\n\t      set: function set(v) {\n\t        if (_this.parent) {\n\t          _this.getRoot().preset = v;\n\t        } else {\n\t          params.load.preset = v;\n\t        }\n\t        setPresetSelectIndex(this);\n\t        _this.revert();\n\t      }\n\t    },\n\t\n\t    /**\n\t     * The width of <code>GUI</code> element\n\t     * @type Number\n\t     */\n\t    width: {\n\t      get: function get() {\n\t        return params.width;\n\t      },\n\t      set: function set(v) {\n\t        params.width = v;\n\t        setWidth(_this, v);\n\t      }\n\t    },\n\t\n\t    /**\n\t     * The name of <code>GUI</code>. Used for folders. i.e\n\t     * a folder's name\n\t     * @type String\n\t     */\n\t    name: {\n\t      get: function get() {\n\t        return params.name;\n\t      },\n\t      set: function set(v) {\n\t        // TODO Check for collisions among sibling folders\n\t        params.name = v;\n\t        if (titleRowName) {\n\t          titleRowName.innerHTML = params.name;\n\t        }\n\t      }\n\t    },\n\t\n\t    /**\n\t     * Whether the <code>GUI</code> is collapsed or not\n\t     * @type Boolean\n\t     */\n\t    closed: {\n\t      get: function get() {\n\t        return params.closed;\n\t      },\n\t      set: function set(v) {\n\t        params.closed = v;\n\t        if (params.closed) {\n\t          _dom2.default.addClass(_this.__ul, GUI.CLASS_CLOSED);\n\t        } else {\n\t          _dom2.default.removeClass(_this.__ul, GUI.CLASS_CLOSED);\n\t        }\n\t        // For browsers that aren't going to respect the CSS transition,\n\t        // Lets just check our height against the window height right off\n\t        // the bat.\n\t        this.onResize();\n\t\n\t        if (_this.__closeButton) {\n\t          _this.__closeButton.innerHTML = v ? GUI.TEXT_OPEN : GUI.TEXT_CLOSED;\n\t        }\n\t      }\n\t    },\n\t\n\t    /**\n\t     * Contains all presets\n\t     * @type Object\n\t     */\n\t    load: {\n\t      get: function get() {\n\t        return params.load;\n\t      }\n\t    },\n\t\n\t    /**\n\t     * Determines whether or not to use <a href=\"https://developer.mozilla.org/en/DOM/Storage#localStorage\">localStorage</a> as the means for\n\t     * <code>remember</code>ing\n\t     * @type Boolean\n\t     */\n\t    useLocalStorage: {\n\t\n\t      get: function get() {\n\t        return useLocalStorage;\n\t      },\n\t      set: function set(bool) {\n\t        if (SUPPORTS_LOCAL_STORAGE) {\n\t          useLocalStorage = bool;\n\t          if (bool) {\n\t            _dom2.default.bind(window, 'unload', saveToLocalStorage);\n\t          } else {\n\t            _dom2.default.unbind(window, 'unload', saveToLocalStorage);\n\t          }\n\t          localStorage.setItem(getLocalStorageHash(_this, 'isLocal'), bool);\n\t        }\n\t      }\n\t    }\n\t  });\n\t\n\t  // Are we a root level GUI?\n\t  if (_common2.default.isUndefined(params.parent)) {\n\t    params.closed = false;\n\t\n\t    _dom2.default.addClass(this.domElement, GUI.CLASS_MAIN);\n\t    _dom2.default.makeSelectable(this.domElement, false);\n\t\n\t    // Are we supposed to be loading locally?\n\t    if (SUPPORTS_LOCAL_STORAGE) {\n\t      if (useLocalStorage) {\n\t        _this.useLocalStorage = true;\n\t\n\t        var savedGui = localStorage.getItem(getLocalStorageHash(this, 'gui'));\n\t\n\t        if (savedGui) {\n\t          params.load = JSON.parse(savedGui);\n\t        }\n\t      }\n\t    }\n\t\n\t    this.__closeButton = document.createElement('div');\n\t    this.__closeButton.innerHTML = GUI.TEXT_CLOSED;\n\t    _dom2.default.addClass(this.__closeButton, GUI.CLASS_CLOSE_BUTTON);\n\t    if (params.closeOnTop) {\n\t      _dom2.default.addClass(this.__closeButton, GUI.CLASS_CLOSE_TOP);\n\t      this.domElement.insertBefore(this.__closeButton, this.domElement.childNodes[0]);\n\t    } else {\n\t      _dom2.default.addClass(this.__closeButton, GUI.CLASS_CLOSE_BOTTOM);\n\t      this.domElement.appendChild(this.__closeButton);\n\t    }\n\t\n\t    _dom2.default.bind(this.__closeButton, 'click', function () {\n\t      _this.closed = !_this.closed;\n\t    });\n\t    // Oh, you're a nested GUI!\n\t  } else {\n\t    if (params.closed === undefined) {\n\t      params.closed = true;\n\t    }\n\t\n\t    var _titleRowName = document.createTextNode(params.name);\n\t    _dom2.default.addClass(_titleRowName, 'controller-name');\n\t\n\t    var titleRow = addRow(_this, _titleRowName);\n\t\n\t    var onClickTitle = function onClickTitle(e) {\n\t      e.preventDefault();\n\t      _this.closed = !_this.closed;\n\t      return false;\n\t    };\n\t\n\t    _dom2.default.addClass(this.__ul, GUI.CLASS_CLOSED);\n\t\n\t    _dom2.default.addClass(titleRow, 'title');\n\t    _dom2.default.bind(titleRow, 'click', onClickTitle);\n\t\n\t    if (!params.closed) {\n\t      this.closed = false;\n\t    }\n\t  }\n\t\n\t  if (params.autoPlace) {\n\t    if (_common2.default.isUndefined(params.parent)) {\n\t      if (autoPlaceVirgin) {\n\t        autoPlaceContainer = document.createElement('div');\n\t        _dom2.default.addClass(autoPlaceContainer, CSS_NAMESPACE);\n\t        _dom2.default.addClass(autoPlaceContainer, GUI.CLASS_AUTO_PLACE_CONTAINER);\n\t        document.body.appendChild(autoPlaceContainer);\n\t        autoPlaceVirgin = false;\n\t      }\n\t\n\t      // Put it in the dom for you.\n\t      autoPlaceContainer.appendChild(this.domElement);\n\t\n\t      // Apply the auto styles\n\t      _dom2.default.addClass(this.domElement, GUI.CLASS_AUTO_PLACE);\n\t    }\n\t\n\t    // Make it not elastic.\n\t    if (!this.parent) {\n\t      setWidth(_this, params.width);\n\t    }\n\t  }\n\t\n\t  this.__resizeHandler = function () {\n\t    _this.onResizeDebounced();\n\t  };\n\t\n\t  _dom2.default.bind(window, 'resize', this.__resizeHandler);\n\t  _dom2.default.bind(this.__ul, 'webkitTransitionEnd', this.__resizeHandler);\n\t  _dom2.default.bind(this.__ul, 'transitionend', this.__resizeHandler);\n\t  _dom2.default.bind(this.__ul, 'oTransitionEnd', this.__resizeHandler);\n\t  this.onResize();\n\t\n\t  if (params.resizable) {\n\t    addResizeHandle(this);\n\t  }\n\t\n\t  saveToLocalStorage = function saveToLocalStorage() {\n\t    if (SUPPORTS_LOCAL_STORAGE && localStorage.getItem(getLocalStorageHash(_this, 'isLocal')) === 'true') {\n\t      localStorage.setItem(getLocalStorageHash(_this, 'gui'), JSON.stringify(_this.getSaveObject()));\n\t    }\n\t  };\n\t\n\t  // expose this method publicly\n\t  this.saveToLocalStorageIfPossible = saveToLocalStorage;\n\t\n\t  function resetWidth() {\n\t    var root = _this.getRoot();\n\t    root.width += 1;\n\t    _common2.default.defer(function () {\n\t      root.width -= 1;\n\t    });\n\t  }\n\t\n\t  if (!params.parent) {\n\t    resetWidth();\n\t  }\n\t};\n\t\n\tGUI.toggleHide = function () {\n\t  hide = !hide;\n\t  _common2.default.each(hideableGuis, function (gui) {\n\t    gui.domElement.style.display = hide ? 'none' : '';\n\t  });\n\t};\n\t\n\tGUI.CLASS_AUTO_PLACE = 'a';\n\tGUI.CLASS_AUTO_PLACE_CONTAINER = 'ac';\n\tGUI.CLASS_MAIN = 'main';\n\tGUI.CLASS_CONTROLLER_ROW = 'cr';\n\tGUI.CLASS_TOO_TALL = 'taller-than-window';\n\tGUI.CLASS_CLOSED = 'closed';\n\tGUI.CLASS_CLOSE_BUTTON = 'close-button';\n\tGUI.CLASS_CLOSE_TOP = 'close-top';\n\tGUI.CLASS_CLOSE_BOTTOM = 'close-bottom';\n\tGUI.CLASS_DRAG = 'drag';\n\t\n\tGUI.DEFAULT_WIDTH = 245;\n\tGUI.TEXT_CLOSED = 'Close Controls';\n\tGUI.TEXT_OPEN = 'Open Controls';\n\t\n\tGUI._keydownHandler = function (e) {\n\t  if (document.activeElement.type !== 'text' && (e.which === HIDE_KEY_CODE || e.keyCode === HIDE_KEY_CODE)) {\n\t    GUI.toggleHide();\n\t  }\n\t};\n\t_dom2.default.bind(window, 'keydown', GUI._keydownHandler, false);\n\t\n\t_common2.default.extend(GUI.prototype,\n\t\n\t/** @lends dat.gui.GUI */\n\t{\n\t\n\t  /**\n\t   * @param object\n\t   * @param property\n\t   * @returns {dat.controllers.Controller} The new controller that was added.\n\t   * @instance\n\t   */\n\t  add: function add(object, property) {\n\t    return _add(this, object, property, {\n\t      factoryArgs: Array.prototype.slice.call(arguments, 2)\n\t    });\n\t  },\n\t\n\t  /**\n\t   * @param object\n\t   * @param property\n\t   * @returns {dat.controllers.ColorController} The new controller that was added.\n\t   * @instance\n\t   */\n\t  addColor: function addColor(object, property) {\n\t    return _add(this, object, property, {\n\t      color: true\n\t    });\n\t  },\n\t\n\t  /**\n\t   * @param controller\n\t   * @instance\n\t   */\n\t  remove: function remove(controller) {\n\t    // TODO listening?\n\t    this.__ul.removeChild(controller.__li);\n\t    this.__controllers.splice(this.__controllers.indexOf(controller), 1);\n\t    var _this = this;\n\t    _common2.default.defer(function () {\n\t      _this.onResize();\n\t    });\n\t  },\n\t\n\t  destroy: function destroy() {\n\t    if (this.autoPlace) {\n\t      autoPlaceContainer.removeChild(this.domElement);\n\t    }\n\t\n\t    _dom2.default.unbind(window, 'keydown', GUI._keydownHandler, false);\n\t    _dom2.default.unbind(window, 'resize', this.__resizeHandler);\n\t\n\t    if (this.saveToLocalStorageIfPossible) {\n\t      _dom2.default.unbind(window, 'unload', this.saveToLocalStorageIfPossible);\n\t    }\n\t  },\n\t\n\t  /**\n\t   * @param name\n\t   * @returns {dat.gui.GUI} The new folder.\n\t   * @throws {Error} if this GUI already has a folder by the specified\n\t   * name\n\t   * @instance\n\t   */\n\t  addFolder: function addFolder(name) {\n\t    // We have to prevent collisions on names in order to have a key\n\t    // by which to remember saved values\n\t    if (this.__folders[name] !== undefined) {\n\t      throw new Error('You already have a folder in this GUI by the' + ' name \"' + name + '\"');\n\t    }\n\t\n\t    var newGuiParams = { name: name, parent: this };\n\t\n\t    // We need to pass down the autoPlace trait so that we can\n\t    // attach event listeners to open/close folder actions to\n\t    // ensure that a scrollbar appears if the window is too short.\n\t    newGuiParams.autoPlace = this.autoPlace;\n\t\n\t    // Do we have saved appearance data for this folder?\n\t    if (this.load && // Anything loaded?\n\t    this.load.folders && // Was my parent a dead-end?\n\t    this.load.folders[name]) {\n\t      // Did daddy remember me?\n\t      // Start me closed if I was closed\n\t      newGuiParams.closed = this.load.folders[name].closed;\n\t\n\t      // Pass down the loaded data\n\t      newGuiParams.load = this.load.folders[name];\n\t    }\n\t\n\t    var gui = new GUI(newGuiParams);\n\t    this.__folders[name] = gui;\n\t\n\t    var li = addRow(this, gui.domElement);\n\t    _dom2.default.addClass(li, 'folder');\n\t    return gui;\n\t  },\n\t\n\t  open: function open() {\n\t    this.closed = false;\n\t  },\n\t\n\t  close: function close() {\n\t    this.closed = true;\n\t  },\n\t\n\t  onResize: function onResize() {\n\t    // we debounce this function to prevent performance issues when rotating on tablet/mobile\n\t    var root = this.getRoot();\n\t    if (root.scrollable) {\n\t      var top = _dom2.default.getOffset(root.__ul).top;\n\t      var h = 0;\n\t\n\t      _common2.default.each(root.__ul.childNodes, function (node) {\n\t        if (!(root.autoPlace && node === root.__save_row)) {\n\t          h += _dom2.default.getHeight(node);\n\t        }\n\t      });\n\t\n\t      if (window.innerHeight - top - CLOSE_BUTTON_HEIGHT < h) {\n\t        _dom2.default.addClass(root.domElement, GUI.CLASS_TOO_TALL);\n\t        root.__ul.style.height = window.innerHeight - top - CLOSE_BUTTON_HEIGHT + 'px';\n\t      } else {\n\t        _dom2.default.removeClass(root.domElement, GUI.CLASS_TOO_TALL);\n\t        root.__ul.style.height = 'auto';\n\t      }\n\t    }\n\t\n\t    if (root.__resize_handle) {\n\t      _common2.default.defer(function () {\n\t        root.__resize_handle.style.height = root.__ul.offsetHeight + 'px';\n\t      });\n\t    }\n\t\n\t    if (root.__closeButton) {\n\t      root.__closeButton.style.width = root.width + 'px';\n\t    }\n\t  },\n\t\n\t  onResizeDebounced: _common2.default.debounce(function () {\n\t    this.onResize();\n\t  }, 50),\n\t\n\t  /**\n\t   * Mark objects for saving. The order of these objects cannot change as\n\t   * the GUI grows. When remembering new objects, append them to the end\n\t   * of the list.\n\t   *\n\t   * @param {Object...} objects\n\t   * @throws {Error} if not called on a top level GUI.\n\t   * @instance\n\t   */\n\t  remember: function remember() {\n\t    if (_common2.default.isUndefined(SAVE_DIALOGUE)) {\n\t      SAVE_DIALOGUE = new _CenteredDiv2.default();\n\t      SAVE_DIALOGUE.domElement.innerHTML = _saveDialogue2.default;\n\t    }\n\t\n\t    if (this.parent) {\n\t      throw new Error('You can only call remember on a top level GUI.');\n\t    }\n\t\n\t    var _this = this;\n\t\n\t    _common2.default.each(Array.prototype.slice.call(arguments), function (object) {\n\t      if (_this.__rememberedObjects.length === 0) {\n\t        addSaveMenu(_this);\n\t      }\n\t      if (_this.__rememberedObjects.indexOf(object) === -1) {\n\t        _this.__rememberedObjects.push(object);\n\t      }\n\t    });\n\t\n\t    if (this.autoPlace) {\n\t      // Set save row width\n\t      setWidth(this, this.width);\n\t    }\n\t  },\n\t\n\t  /**\n\t   * @returns {dat.gui.GUI} the topmost parent GUI of a nested GUI.\n\t   * @instance\n\t   */\n\t  getRoot: function getRoot() {\n\t    var gui = this;\n\t    while (gui.parent) {\n\t      gui = gui.parent;\n\t    }\n\t    return gui;\n\t  },\n\t\n\t  /**\n\t   * @returns {Object} a JSON object representing the current state of\n\t   * this GUI as well as its remembered properties.\n\t   * @instance\n\t   */\n\t  getSaveObject: function getSaveObject() {\n\t    var toReturn = this.load;\n\t    toReturn.closed = this.closed;\n\t\n\t    // Am I remembering any values?\n\t    if (this.__rememberedObjects.length > 0) {\n\t      toReturn.preset = this.preset;\n\t\n\t      if (!toReturn.remembered) {\n\t        toReturn.remembered = {};\n\t      }\n\t\n\t      toReturn.remembered[this.preset] = getCurrentPreset(this);\n\t    }\n\t\n\t    toReturn.folders = {};\n\t    _common2.default.each(this.__folders, function (element, key) {\n\t      toReturn.folders[key] = element.getSaveObject();\n\t    });\n\t\n\t    return toReturn;\n\t  },\n\t\n\t  save: function save() {\n\t    if (!this.load.remembered) {\n\t      this.load.remembered = {};\n\t    }\n\t\n\t    this.load.remembered[this.preset] = getCurrentPreset(this);\n\t    markPresetModified(this, false);\n\t    this.saveToLocalStorageIfPossible();\n\t  },\n\t\n\t  saveAs: function saveAs(presetName) {\n\t    if (!this.load.remembered) {\n\t      // Retain default values upon first save\n\t      this.load.remembered = {};\n\t      this.load.remembered[DEFAULT_DEFAULT_PRESET_NAME] = getCurrentPreset(this, true);\n\t    }\n\t\n\t    this.load.remembered[presetName] = getCurrentPreset(this);\n\t    this.preset = presetName;\n\t    addPresetOption(this, presetName, true);\n\t    this.saveToLocalStorageIfPossible();\n\t  },\n\t\n\t  revert: function revert(gui) {\n\t    _common2.default.each(this.__controllers, function (controller) {\n\t      // Make revert work on Default.\n\t      if (!this.getRoot().load.remembered) {\n\t        controller.setValue(controller.initialValue);\n\t      } else {\n\t        recallSavedValue(gui || this.getRoot(), controller);\n\t      }\n\t\n\t      // fire onFinishChange callback\n\t      if (controller.__onFinishChange) {\n\t        controller.__onFinishChange.call(controller, controller.getValue());\n\t      }\n\t    }, this);\n\t\n\t    _common2.default.each(this.__folders, function (folder) {\n\t      folder.revert(folder);\n\t    });\n\t\n\t    if (!gui) {\n\t      markPresetModified(this.getRoot(), false);\n\t    }\n\t  },\n\t\n\t  listen: function listen(controller) {\n\t    var init = this.__listening.length === 0;\n\t    this.__listening.push(controller);\n\t    if (init) {\n\t      updateDisplays(this.__listening);\n\t    }\n\t  },\n\t\n\t  updateDisplay: function updateDisplay() {\n\t    _common2.default.each(this.__controllers, function (controller) {\n\t      controller.updateDisplay();\n\t    });\n\t    _common2.default.each(this.__folders, function (folder) {\n\t      folder.updateDisplay();\n\t    });\n\t  }\n\t});\n\t\n\t/**\n\t * Add a row to the end of the GUI or before another row.\n\t *\n\t * @param gui\n\t * @param [newDom] If specified, inserts the dom content in the new row\n\t * @param [liBefore] If specified, places the new row before another row\n\t */\n\tfunction addRow(gui, newDom, liBefore) {\n\t  var li = document.createElement('li');\n\t  if (newDom) {\n\t    li.appendChild(newDom);\n\t  }\n\t\n\t  if (liBefore) {\n\t    gui.__ul.insertBefore(li, liBefore);\n\t  } else {\n\t    gui.__ul.appendChild(li);\n\t  }\n\t  gui.onResize();\n\t  return li;\n\t}\n\t\n\tfunction markPresetModified(gui, modified) {\n\t  var opt = gui.__preset_select[gui.__preset_select.selectedIndex];\n\t\n\t  // console.log('mark', modified, opt);\n\t  if (modified) {\n\t    opt.innerHTML = opt.value + '*';\n\t  } else {\n\t    opt.innerHTML = opt.value;\n\t  }\n\t}\n\t\n\tfunction augmentController(gui, li, controller) {\n\t  controller.__li = li;\n\t  controller.__gui = gui;\n\t\n\t  _common2.default.extend(controller, {\n\t    options: function options(_options) {\n\t      if (arguments.length > 1) {\n\t        var nextSibling = controller.__li.nextElementSibling;\n\t        controller.remove();\n\t\n\t        return _add(gui, controller.object, controller.property, {\n\t          before: nextSibling,\n\t          factoryArgs: [_common2.default.toArray(arguments)]\n\t        });\n\t      }\n\t\n\t      if (_common2.default.isArray(_options) || _common2.default.isObject(_options)) {\n\t        var _nextSibling = controller.__li.nextElementSibling;\n\t        controller.remove();\n\t\n\t        return _add(gui, controller.object, controller.property, {\n\t          before: _nextSibling,\n\t          factoryArgs: [_options]\n\t        });\n\t      }\n\t    },\n\t\n\t    name: function name(v) {\n\t      controller.__li.firstElementChild.firstElementChild.innerHTML = v;\n\t      return controller;\n\t    },\n\t\n\t    listen: function listen() {\n\t      controller.__gui.listen(controller);\n\t      return controller;\n\t    },\n\t\n\t    remove: function remove() {\n\t      controller.__gui.remove(controller);\n\t      return controller;\n\t    }\n\t  });\n\t\n\t  // All sliders should be accompanied by a box.\n\t  if (controller instanceof _NumberControllerSlider2.default) {\n\t    var box = new _NumberControllerBox2.default(controller.object, controller.property, { min: controller.__min, max: controller.__max, step: controller.__step });\n\t\n\t    _common2.default.each(['updateDisplay', 'onChange', 'onFinishChange', 'step'], function (method) {\n\t      var pc = controller[method];\n\t      var pb = box[method];\n\t      controller[method] = box[method] = function () {\n\t        var args = Array.prototype.slice.call(arguments);\n\t        pb.apply(box, args);\n\t        return pc.apply(controller, args);\n\t      };\n\t    });\n\t\n\t    _dom2.default.addClass(li, 'has-slider');\n\t    controller.domElement.insertBefore(box.domElement, controller.domElement.firstElementChild);\n\t  } else if (controller instanceof _NumberControllerBox2.default) {\n\t    var r = function r(returned) {\n\t      // Have we defined both boundaries?\n\t      if (_common2.default.isNumber(controller.__min) && _common2.default.isNumber(controller.__max)) {\n\t        // Well, then lets just replace this with a slider.\n\t\n\t        // lets remember if the old controller had a specific name or was listening\n\t        var oldName = controller.__li.firstElementChild.firstElementChild.innerHTML;\n\t        var wasListening = controller.__gui.__listening.indexOf(controller) > -1;\n\t\n\t        controller.remove();\n\t        var newController = _add(gui, controller.object, controller.property, {\n\t          before: controller.__li.nextElementSibling,\n\t          factoryArgs: [controller.__min, controller.__max, controller.__step]\n\t        });\n\t\n\t        newController.name(oldName);\n\t        if (wasListening) newController.listen();\n\t\n\t        return newController;\n\t      }\n\t\n\t      return returned;\n\t    };\n\t\n\t    controller.min = _common2.default.compose(r, controller.min);\n\t    controller.max = _common2.default.compose(r, controller.max);\n\t  } else if (controller instanceof _BooleanController2.default) {\n\t    _dom2.default.bind(li, 'click', function () {\n\t      _dom2.default.fakeEvent(controller.__checkbox, 'click');\n\t    });\n\t\n\t    _dom2.default.bind(controller.__checkbox, 'click', function (e) {\n\t      e.stopPropagation(); // Prevents double-toggle\n\t    });\n\t  } else if (controller instanceof _FunctionController2.default) {\n\t    _dom2.default.bind(li, 'click', function () {\n\t      _dom2.default.fakeEvent(controller.__button, 'click');\n\t    });\n\t\n\t    _dom2.default.bind(li, 'mouseover', function () {\n\t      _dom2.default.addClass(controller.__button, 'hover');\n\t    });\n\t\n\t    _dom2.default.bind(li, 'mouseout', function () {\n\t      _dom2.default.removeClass(controller.__button, 'hover');\n\t    });\n\t  } else if (controller instanceof _ColorController2.default) {\n\t    _dom2.default.addClass(li, 'color');\n\t    controller.updateDisplay = _common2.default.compose(function (val) {\n\t      li.style.borderLeftColor = controller.__color.toString();\n\t      return val;\n\t    }, controller.updateDisplay);\n\t\n\t    controller.updateDisplay();\n\t  }\n\t\n\t  controller.setValue = _common2.default.compose(function (val) {\n\t    if (gui.getRoot().__preset_select && controller.isModified()) {\n\t      markPresetModified(gui.getRoot(), true);\n\t    }\n\t\n\t    return val;\n\t  }, controller.setValue);\n\t}\n\t\n\tfunction recallSavedValue(gui, controller) {\n\t  // Find the topmost GUI, that's where remembered objects live.\n\t  var root = gui.getRoot();\n\t\n\t  // Does the object we're controlling match anything we've been told to\n\t  // remember?\n\t  var matchedIndex = root.__rememberedObjects.indexOf(controller.object);\n\t\n\t  // Why yes, it does!\n\t  if (matchedIndex !== -1) {\n\t    // Let me fetch a map of controllers for thcommon.isObject.\n\t    var controllerMap = root.__rememberedObjectIndecesToControllers[matchedIndex];\n\t\n\t    // Ohp, I believe this is the first controller we've created for this\n\t    // object. Lets make the map fresh.\n\t    if (controllerMap === undefined) {\n\t      controllerMap = {};\n\t      root.__rememberedObjectIndecesToControllers[matchedIndex] = controllerMap;\n\t    }\n\t\n\t    // Keep track of this controller\n\t    controllerMap[controller.property] = controller;\n\t\n\t    // Okay, now have we saved any values for this controller?\n\t    if (root.load && root.load.remembered) {\n\t      var presetMap = root.load.remembered;\n\t\n\t      // Which preset are we trying to load?\n\t      var preset = void 0;\n\t\n\t      if (presetMap[gui.preset]) {\n\t        preset = presetMap[gui.preset];\n\t      } else if (presetMap[DEFAULT_DEFAULT_PRESET_NAME]) {\n\t        // Uhh, you can have the default instead?\n\t        preset = presetMap[DEFAULT_DEFAULT_PRESET_NAME];\n\t      } else {\n\t        // Nada.\n\t        return;\n\t      }\n\t\n\t      // Did the loaded object remember thcommon.isObject? &&  Did we remember this particular property?\n\t      if (preset[matchedIndex] && preset[matchedIndex][controller.property] !== undefined) {\n\t        // We did remember something for this guy ...\n\t        var value = preset[matchedIndex][controller.property];\n\t\n\t        // And that's what it is.\n\t        controller.initialValue = value;\n\t        controller.setValue(value);\n\t      }\n\t    }\n\t  }\n\t}\n\t\n\tfunction _add(gui, object, property, params) {\n\t  if (object[property] === undefined) {\n\t    throw new Error('Object \"' + object + '\" has no property \"' + property + '\"');\n\t  }\n\t\n\t  var controller = void 0;\n\t\n\t  if (params.color) {\n\t    controller = new _ColorController2.default(object, property);\n\t  } else {\n\t    var factoryArgs = [object, property].concat(params.factoryArgs);\n\t    controller = _ControllerFactory2.default.apply(gui, factoryArgs);\n\t  }\n\t\n\t  if (params.before instanceof _Controller2.default) {\n\t    params.before = params.before.__li;\n\t  }\n\t\n\t  recallSavedValue(gui, controller);\n\t\n\t  _dom2.default.addClass(controller.domElement, 'c');\n\t\n\t  var name = document.createElement('span');\n\t  _dom2.default.addClass(name, 'property-name');\n\t  name.innerHTML = controller.property;\n\t\n\t  var container = document.createElement('div');\n\t  container.appendChild(name);\n\t  container.appendChild(controller.domElement);\n\t\n\t  var li = addRow(gui, container, params.before);\n\t\n\t  _dom2.default.addClass(li, GUI.CLASS_CONTROLLER_ROW);\n\t  if (controller instanceof _ColorController2.default) {\n\t    _dom2.default.addClass(li, 'color');\n\t  } else {\n\t    _dom2.default.addClass(li, _typeof(controller.getValue()));\n\t  }\n\t\n\t  augmentController(gui, li, controller);\n\t\n\t  gui.__controllers.push(controller);\n\t\n\t  return controller;\n\t}\n\t\n\tfunction getLocalStorageHash(gui, key) {\n\t  // TODO how does this deal with multiple GUI's?\n\t  return document.location.href + '.' + key;\n\t}\n\t\n\tfunction addPresetOption(gui, name, setSelected) {\n\t  var opt = document.createElement('option');\n\t  opt.innerHTML = name;\n\t  opt.value = name;\n\t  gui.__preset_select.appendChild(opt);\n\t  if (setSelected) {\n\t    gui.__preset_select.selectedIndex = gui.__preset_select.length - 1;\n\t  }\n\t}\n\t\n\tfunction showHideExplain(gui, explain) {\n\t  explain.style.display = gui.useLocalStorage ? 'block' : 'none';\n\t}\n\t\n\tfunction addSaveMenu(gui) {\n\t  var div = gui.__save_row = document.createElement('li');\n\t\n\t  _dom2.default.addClass(gui.domElement, 'has-save');\n\t\n\t  gui.__ul.insertBefore(div, gui.__ul.firstChild);\n\t\n\t  _dom2.default.addClass(div, 'save-row');\n\t\n\t  var gears = document.createElement('span');\n\t  gears.innerHTML = '&nbsp;';\n\t  _dom2.default.addClass(gears, 'button gears');\n\t\n\t  // TODO replace with FunctionController\n\t  var button = document.createElement('span');\n\t  button.innerHTML = 'Save';\n\t  _dom2.default.addClass(button, 'button');\n\t  _dom2.default.addClass(button, 'save');\n\t\n\t  var button2 = document.createElement('span');\n\t  button2.innerHTML = 'New';\n\t  _dom2.default.addClass(button2, 'button');\n\t  _dom2.default.addClass(button2, 'save-as');\n\t\n\t  var button3 = document.createElement('span');\n\t  button3.innerHTML = 'Revert';\n\t  _dom2.default.addClass(button3, 'button');\n\t  _dom2.default.addClass(button3, 'revert');\n\t\n\t  var select = gui.__preset_select = document.createElement('select');\n\t\n\t  if (gui.load && gui.load.remembered) {\n\t    _common2.default.each(gui.load.remembered, function (value, key) {\n\t      addPresetOption(gui, key, key === gui.preset);\n\t    });\n\t  } else {\n\t    addPresetOption(gui, DEFAULT_DEFAULT_PRESET_NAME, false);\n\t  }\n\t\n\t  _dom2.default.bind(select, 'change', function () {\n\t    for (var index = 0; index < gui.__preset_select.length; index++) {\n\t      gui.__preset_select[index].innerHTML = gui.__preset_select[index].value;\n\t    }\n\t\n\t    gui.preset = this.value;\n\t  });\n\t\n\t  div.appendChild(select);\n\t  div.appendChild(gears);\n\t  div.appendChild(button);\n\t  div.appendChild(button2);\n\t  div.appendChild(button3);\n\t\n\t  if (SUPPORTS_LOCAL_STORAGE) {\n\t    var explain = document.getElementById('dg-local-explain');\n\t    var localStorageCheckBox = document.getElementById('dg-local-storage');\n\t    var saveLocally = document.getElementById('dg-save-locally');\n\t\n\t    saveLocally.style.display = 'block';\n\t\n\t    if (localStorage.getItem(getLocalStorageHash(gui, 'isLocal')) === 'true') {\n\t      localStorageCheckBox.setAttribute('checked', 'checked');\n\t    }\n\t\n\t    showHideExplain(gui, explain);\n\t\n\t    // TODO: Use a boolean controller, fool!\n\t    _dom2.default.bind(localStorageCheckBox, 'change', function () {\n\t      gui.useLocalStorage = !gui.useLocalStorage;\n\t      showHideExplain(gui, explain);\n\t    });\n\t  }\n\t\n\t  var newConstructorTextArea = document.getElementById('dg-new-constructor');\n\t\n\t  _dom2.default.bind(newConstructorTextArea, 'keydown', function (e) {\n\t    if (e.metaKey && (e.which === 67 || e.keyCode === 67)) {\n\t      SAVE_DIALOGUE.hide();\n\t    }\n\t  });\n\t\n\t  _dom2.default.bind(gears, 'click', function () {\n\t    newConstructorTextArea.innerHTML = JSON.stringify(gui.getSaveObject(), undefined, 2);\n\t    SAVE_DIALOGUE.show();\n\t    newConstructorTextArea.focus();\n\t    newConstructorTextArea.select();\n\t  });\n\t\n\t  _dom2.default.bind(button, 'click', function () {\n\t    gui.save();\n\t  });\n\t\n\t  _dom2.default.bind(button2, 'click', function () {\n\t    var presetName = prompt('Enter a new preset name.');\n\t    if (presetName) {\n\t      gui.saveAs(presetName);\n\t    }\n\t  });\n\t\n\t  _dom2.default.bind(button3, 'click', function () {\n\t    gui.revert();\n\t  });\n\t\n\t  // div.appendChild(button2);\n\t}\n\t\n\tfunction addResizeHandle(gui) {\n\t  var pmouseX = void 0;\n\t\n\t  gui.__resize_handle = document.createElement('div');\n\t\n\t  _common2.default.extend(gui.__resize_handle.style, {\n\t\n\t    width: '6px',\n\t    marginLeft: '-3px',\n\t    height: '200px',\n\t    cursor: 'ew-resize',\n\t    position: 'absolute'\n\t    // border: '1px solid blue'\n\t\n\t  });\n\t\n\t  function drag(e) {\n\t    e.preventDefault();\n\t\n\t    gui.width += pmouseX - e.clientX;\n\t    gui.onResize();\n\t    pmouseX = e.clientX;\n\t\n\t    return false;\n\t  }\n\t\n\t  function dragStop() {\n\t    _dom2.default.removeClass(gui.__closeButton, GUI.CLASS_DRAG);\n\t    _dom2.default.unbind(window, 'mousemove', drag);\n\t    _dom2.default.unbind(window, 'mouseup', dragStop);\n\t  }\n\t\n\t  function dragStart(e) {\n\t    e.preventDefault();\n\t\n\t    pmouseX = e.clientX;\n\t\n\t    _dom2.default.addClass(gui.__closeButton, GUI.CLASS_DRAG);\n\t    _dom2.default.bind(window, 'mousemove', drag);\n\t    _dom2.default.bind(window, 'mouseup', dragStop);\n\t\n\t    return false;\n\t  }\n\t\n\t  _dom2.default.bind(gui.__resize_handle, 'mousedown', dragStart);\n\t  _dom2.default.bind(gui.__closeButton, 'mousedown', dragStart);\n\t\n\t  gui.domElement.insertBefore(gui.__resize_handle, gui.domElement.firstElementChild);\n\t}\n\t\n\tfunction setWidth(gui, w) {\n\t  gui.domElement.style.width = w + 'px';\n\t  // Auto placed save-rows are position fixed, so we have to\n\t  // set the width manually if we want it to bleed to the edge\n\t  if (gui.__save_row && gui.autoPlace) {\n\t    gui.__save_row.style.width = w + 'px';\n\t  }\n\t  if (gui.__closeButton) {\n\t    gui.__closeButton.style.width = w + 'px';\n\t  }\n\t}\n\t\n\tfunction getCurrentPreset(gui, useInitialValues) {\n\t  var toReturn = {};\n\t\n\t  // For each object I'm remembering\n\t  _common2.default.each(gui.__rememberedObjects, function (val, index) {\n\t    var savedValues = {};\n\t\n\t    // The controllers I've made for thcommon.isObject by property\n\t    var controllerMap = gui.__rememberedObjectIndecesToControllers[index];\n\t\n\t    // Remember each value for each property\n\t    _common2.default.each(controllerMap, function (controller, property) {\n\t      savedValues[property] = useInitialValues ? controller.initialValue : controller.getValue();\n\t    });\n\t\n\t    // Save the values for thcommon.isObject\n\t    toReturn[index] = savedValues;\n\t  });\n\t\n\t  return toReturn;\n\t}\n\t\n\tfunction setPresetSelectIndex(gui) {\n\t  for (var index = 0; index < gui.__preset_select.length; index++) {\n\t    if (gui.__preset_select[index].value === gui.preset) {\n\t      gui.__preset_select.selectedIndex = index;\n\t    }\n\t  }\n\t}\n\t\n\tfunction updateDisplays(controllerArray) {\n\t  if (controllerArray.length !== 0) {\n\t    _requestAnimationFrame2.default.call(window, function () {\n\t      updateDisplays(controllerArray);\n\t    });\n\t  }\n\t\n\t  _common2.default.each(controllerArray, function (c) {\n\t    c.updateDisplay();\n\t  });\n\t}\n\t\n\texports.default = GUI;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 18 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/**\n\t * dat-gui JavaScript Controller Library\n\t * http://code.google.com/p/dat-gui\n\t *\n\t * Copyright 2011 Data Arts Team, Google Creative Lab\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t * you may not use this file except in compliance with the License.\n\t * You may obtain a copy of the License at\n\t *\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t */\n\t\n\tmodule.exports = {\n\t  load: function load(url, indoc) {\n\t    var doc = indoc || document;\n\t    var link = doc.createElement('link');\n\t    link.type = 'text/css';\n\t    link.rel = 'stylesheet';\n\t    link.href = url;\n\t    doc.getElementsByTagName('head')[0].appendChild(link);\n\t  },\n\t\n\t  inject: function inject(css, indoc) {\n\t    var doc = indoc || document;\n\t    var injected = document.createElement('style');\n\t    injected.type = 'text/css';\n\t    injected.innerHTML = css;\n\t    var head = doc.getElementsByTagName('head')[0];\n\t    try {\n\t      head.appendChild(injected);\n\t    } catch (e) {// Unable to inject CSS, probably because of a Content Security Policy\n\t    }\n\t  }\n\t};\n\n/***/ },\n/* 19 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div id=\\\"dg-save\\\" class=\\\"dg dialogue\\\">\\n\\n  Here's the new load parameter for your <code>GUI</code>'s constructor:\\n\\n  <textarea id=\\\"dg-new-constructor\\\"></textarea>\\n\\n  <div id=\\\"dg-save-locally\\\">\\n\\n    <input id=\\\"dg-local-storage\\\" type=\\\"checkbox\\\"/> Automatically save\\n    values to <code>localStorage</code> on exit.\\n\\n    <div id=\\\"dg-local-explain\\\">The values saved to <code>localStorage</code> will\\n      override those passed to <code>dat.GUI</code>'s constructor. This makes it\\n      easier to work incrementally, but <code>localStorage</code> is fragile,\\n      and your friends may not see the same values you do.\\n\\n    </div>\\n\\n  </div>\\n\\n</div>\";\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _OptionController = __webpack_require__(10);\n\t\n\tvar _OptionController2 = _interopRequireDefault(_OptionController);\n\t\n\tvar _NumberControllerBox = __webpack_require__(13);\n\t\n\tvar _NumberControllerBox2 = _interopRequireDefault(_NumberControllerBox);\n\t\n\tvar _NumberControllerSlider = __webpack_require__(14);\n\t\n\tvar _NumberControllerSlider2 = _interopRequireDefault(_NumberControllerSlider);\n\t\n\tvar _StringController = __webpack_require__(11);\n\t\n\tvar _StringController2 = _interopRequireDefault(_StringController);\n\t\n\tvar _FunctionController = __webpack_require__(15);\n\t\n\tvar _FunctionController2 = _interopRequireDefault(_FunctionController);\n\t\n\tvar _BooleanController = __webpack_require__(8);\n\t\n\tvar _BooleanController2 = _interopRequireDefault(_BooleanController);\n\t\n\tvar _common = __webpack_require__(5);\n\t\n\tvar _common2 = _interopRequireDefault(_common);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar ControllerFactory = function ControllerFactory(object, property) {\n\t  var initialValue = object[property];\n\t\n\t  // Providing options?\n\t  if (_common2.default.isArray(arguments[2]) || _common2.default.isObject(arguments[2])) {\n\t    return new _OptionController2.default(object, property, arguments[2]);\n\t  }\n\t\n\t  // Providing a map?\n\t  if (_common2.default.isNumber(initialValue)) {\n\t    // Has min and max? (slider)\n\t    if (_common2.default.isNumber(arguments[2]) && _common2.default.isNumber(arguments[3])) {\n\t      // has step?\n\t      if (_common2.default.isNumber(arguments[4])) {\n\t        return new _NumberControllerSlider2.default(object, property, arguments[2], arguments[3], arguments[4]);\n\t      }\n\t\n\t      return new _NumberControllerSlider2.default(object, property, arguments[2], arguments[3]);\n\t    }\n\t\n\t    // number box\n\t    if (_common2.default.isNumber(arguments[4])) {\n\t      // has step\n\t      return new _NumberControllerBox2.default(object, property, { min: arguments[2], max: arguments[3], step: arguments[4] });\n\t    }\n\t    return new _NumberControllerBox2.default(object, property, { min: arguments[2], max: arguments[3] });\n\t  }\n\t\n\t  if (_common2.default.isString(initialValue)) {\n\t    return new _StringController2.default(object, property);\n\t  }\n\t\n\t  if (_common2.default.isFunction(initialValue)) {\n\t    return new _FunctionController2.default(object, property, '');\n\t  }\n\t\n\t  if (_common2.default.isBoolean(initialValue)) {\n\t    return new _BooleanController2.default(object, property);\n\t  }\n\t\n\t  return null;\n\t}; /**\n\t    * dat-gui JavaScript Controller Library\n\t    * http://code.google.com/p/dat-gui\n\t    *\n\t    * Copyright 2011 Data Arts Team, Google Creative Lab\n\t    *\n\t    * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t    * you may not use this file except in compliance with the License.\n\t    * You may obtain a copy of the License at\n\t    *\n\t    * http://www.apache.org/licenses/LICENSE-2.0\n\t    */\n\t\n\texports.default = ControllerFactory;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 21 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\texports.__esModule = true;\n\t/**\n\t * dat-gui JavaScript Controller Library\n\t * http://code.google.com/p/dat-gui\n\t *\n\t * Copyright 2011 Data Arts Team, Google Creative Lab\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t * you may not use this file except in compliance with the License.\n\t * You may obtain a copy of the License at\n\t *\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t */\n\t\n\tfunction requestAnimationFrame(callback) {\n\t  setTimeout(callback, 1000 / 60);\n\t}\n\t\n\texports.default = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || requestAnimationFrame;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _dom = __webpack_require__(9);\n\t\n\tvar _dom2 = _interopRequireDefault(_dom);\n\t\n\tvar _common = __webpack_require__(5);\n\t\n\tvar _common2 = _interopRequireDefault(_common);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } } /**\n\t                                                                                                                                                           * dat-gui JavaScript Controller Library\n\t                                                                                                                                                           * http://code.google.com/p/dat-gui\n\t                                                                                                                                                           *\n\t                                                                                                                                                           * Copyright 2011 Data Arts Team, Google Creative Lab\n\t                                                                                                                                                           *\n\t                                                                                                                                                           * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t                                                                                                                                                           * you may not use this file except in compliance with the License.\n\t                                                                                                                                                           * You may obtain a copy of the License at\n\t                                                                                                                                                           *\n\t                                                                                                                                                           * http://www.apache.org/licenses/LICENSE-2.0\n\t                                                                                                                                                           */\n\t\n\tvar CenteredDiv = function () {\n\t  function CenteredDiv() {\n\t    _classCallCheck(this, CenteredDiv);\n\t\n\t    this.backgroundElement = document.createElement('div');\n\t    _common2.default.extend(this.backgroundElement.style, {\n\t      backgroundColor: 'rgba(0,0,0,0.8)',\n\t      top: 0,\n\t      left: 0,\n\t      display: 'none',\n\t      zIndex: '1000',\n\t      opacity: 0,\n\t      WebkitTransition: 'opacity 0.2s linear',\n\t      transition: 'opacity 0.2s linear'\n\t    });\n\t\n\t    _dom2.default.makeFullscreen(this.backgroundElement);\n\t    this.backgroundElement.style.position = 'fixed';\n\t\n\t    this.domElement = document.createElement('div');\n\t    _common2.default.extend(this.domElement.style, {\n\t      position: 'fixed',\n\t      display: 'none',\n\t      zIndex: '1001',\n\t      opacity: 0,\n\t      WebkitTransition: '-webkit-transform 0.2s ease-out, opacity 0.2s linear',\n\t      transition: 'transform 0.2s ease-out, opacity 0.2s linear'\n\t    });\n\t\n\t    document.body.appendChild(this.backgroundElement);\n\t    document.body.appendChild(this.domElement);\n\t\n\t    var _this = this;\n\t    _dom2.default.bind(this.backgroundElement, 'click', function () {\n\t      _this.hide();\n\t    });\n\t  }\n\t\n\t  CenteredDiv.prototype.show = function show() {\n\t    var _this = this;\n\t\n\t    this.backgroundElement.style.display = 'block';\n\t\n\t    this.domElement.style.display = 'block';\n\t    this.domElement.style.opacity = 0;\n\t    //    this.domElement.style.top = '52%';\n\t    this.domElement.style.webkitTransform = 'scale(1.1)';\n\t\n\t    this.layout();\n\t\n\t    _common2.default.defer(function () {\n\t      _this.backgroundElement.style.opacity = 1;\n\t      _this.domElement.style.opacity = 1;\n\t      _this.domElement.style.webkitTransform = 'scale(1)';\n\t    });\n\t  };\n\t\n\t  /**\n\t   * Hide centered div\n\t   */\n\t\n\t\n\t  CenteredDiv.prototype.hide = function hide() {\n\t    var _this = this;\n\t\n\t    var hide = function hide() {\n\t      _this.domElement.style.display = 'none';\n\t      _this.backgroundElement.style.display = 'none';\n\t\n\t      _dom2.default.unbind(_this.domElement, 'webkitTransitionEnd', hide);\n\t      _dom2.default.unbind(_this.domElement, 'transitionend', hide);\n\t      _dom2.default.unbind(_this.domElement, 'oTransitionEnd', hide);\n\t    };\n\t\n\t    _dom2.default.bind(this.domElement, 'webkitTransitionEnd', hide);\n\t    _dom2.default.bind(this.domElement, 'transitionend', hide);\n\t    _dom2.default.bind(this.domElement, 'oTransitionEnd', hide);\n\t\n\t    this.backgroundElement.style.opacity = 0;\n\t    //    this.domElement.style.top = '48%';\n\t    this.domElement.style.opacity = 0;\n\t    this.domElement.style.webkitTransform = 'scale(1.1)';\n\t  };\n\t\n\t  CenteredDiv.prototype.layout = function layout() {\n\t    this.domElement.style.left = window.innerWidth / 2 - _dom2.default.getWidth(this.domElement) / 2 + 'px';\n\t    this.domElement.style.top = window.innerHeight / 2 - _dom2.default.getHeight(this.domElement) / 2 + 'px';\n\t  };\n\t\n\t  return CenteredDiv;\n\t}();\n\t\n\texports.default = CenteredDiv;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(24)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \".dg {\\n  /** Clear list styles */\\n  /* Auto-place container */\\n  /* Auto-placed GUI's */\\n  /* Line items that don't contain folders. */\\n  /** Folder names */\\n  /** Hides closed items */\\n  /** Controller row */\\n  /** Name-half (left) */\\n  /** Controller-half (right) */\\n  /** Controller placement */\\n  /** Shorter number boxes when slider is present. */\\n  /** Ensure the entire boolean and function row shows a hand */\\n  /** allow overflow for color selector */ }\\n  .dg ul {\\n    list-style: none;\\n    margin: 0;\\n    padding: 0;\\n    width: 100%;\\n    clear: both; }\\n  .dg.ac {\\n    position: fixed;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    height: 0;\\n    z-index: 0; }\\n  .dg:not(.ac) .main {\\n    /** Exclude mains in ac so that we don't hide close button */\\n    overflow: hidden; }\\n  .dg.main {\\n    -webkit-transition: opacity 0.1s linear;\\n    -o-transition: opacity 0.1s linear;\\n    -moz-transition: opacity 0.1s linear;\\n    transition: opacity 0.1s linear; }\\n    .dg.main.taller-than-window {\\n      overflow-y: auto; }\\n      .dg.main.taller-than-window .close-button {\\n        opacity: 1;\\n        /* TODO, these are style notes */\\n        margin-top: -1px;\\n        border-top: 1px solid #2c2c2c; }\\n    .dg.main ul.closed .close-button {\\n      opacity: 1 !important; }\\n    .dg.main:hover .close-button,\\n    .dg.main .close-button.drag {\\n      opacity: 1; }\\n    .dg.main .close-button {\\n      /*opacity: 0;*/\\n      -webkit-transition: opacity 0.1s linear;\\n      -o-transition: opacity 0.1s linear;\\n      -moz-transition: opacity 0.1s linear;\\n      transition: opacity 0.1s linear;\\n      border: 0;\\n      line-height: 19px;\\n      height: 20px;\\n      /* TODO, these are style notes */\\n      cursor: pointer;\\n      text-align: center;\\n      background-color: #000; }\\n      .dg.main .close-button.close-top {\\n        position: relative; }\\n      .dg.main .close-button.close-bottom {\\n        position: absolute; }\\n      .dg.main .close-button:hover {\\n        background-color: #111; }\\n  .dg.a {\\n    float: right;\\n    margin-right: 15px;\\n    overflow-y: visible; }\\n    .dg.a.has-save > ul.close-top {\\n      margin-top: 0; }\\n    .dg.a.has-save > ul.close-bottom {\\n      margin-top: 27px; }\\n    .dg.a.has-save > ul.closed {\\n      margin-top: 0; }\\n    .dg.a .save-row {\\n      top: 0;\\n      z-index: 1002; }\\n      .dg.a .save-row.close-top {\\n        position: relative; }\\n      .dg.a .save-row.close-bottom {\\n        position: fixed; }\\n  .dg li {\\n    -webkit-transition: height 0.1s ease-out;\\n    -o-transition: height 0.1s ease-out;\\n    -moz-transition: height 0.1s ease-out;\\n    transition: height 0.1s ease-out;\\n    -webkit-transition: overflow 0.1s linear;\\n    -o-transition: overflow 0.1s linear;\\n    -moz-transition: overflow 0.1s linear;\\n    transition: overflow 0.1s linear; }\\n  .dg li:not(.folder) {\\n    cursor: auto;\\n    height: 27px;\\n    line-height: 27px;\\n    padding: 0 4px 0 5px; }\\n  .dg li.folder {\\n    padding: 0;\\n    border-left: 4px solid transparent; }\\n  .dg li.title {\\n    cursor: pointer;\\n    margin-left: -4px; }\\n  .dg .closed li:not(.title),\\n  .dg .closed ul li,\\n  .dg .closed ul li > * {\\n    height: 0;\\n    overflow: hidden;\\n    border: 0; }\\n  .dg .cr {\\n    clear: both;\\n    padding-left: 3px;\\n    height: 27px;\\n    overflow: hidden; }\\n  .dg .property-name {\\n    cursor: default;\\n    float: left;\\n    clear: left;\\n    width: 40%;\\n    overflow: hidden;\\n    text-overflow: ellipsis; }\\n  .dg .c {\\n    float: left;\\n    width: 60%;\\n    position: relative; }\\n  .dg .c input[type=text] {\\n    border: 0;\\n    margin-top: 4px;\\n    padding: 3px;\\n    width: 100%;\\n    float: right; }\\n  .dg .has-slider input[type=text] {\\n    width: 30%;\\n    /*display: none;*/\\n    margin-left: 0; }\\n  .dg .slider {\\n    float: left;\\n    width: 66%;\\n    margin-left: -5px;\\n    margin-right: 0;\\n    height: 19px;\\n    margin-top: 4px; }\\n  .dg .slider-fg {\\n    height: 100%; }\\n  .dg .c input[type=checkbox] {\\n    margin-top: 7px; }\\n  .dg .c select {\\n    margin-top: 5px; }\\n  .dg .cr.function,\\n  .dg .cr.function .property-name,\\n  .dg .cr.function *,\\n  .dg .cr.boolean,\\n  .dg .cr.boolean * {\\n    cursor: pointer; }\\n  .dg .cr.color {\\n    overflow: visible; }\\n  .dg .selector {\\n    display: none;\\n    position: absolute;\\n    margin-left: -9px;\\n    margin-top: 23px;\\n    z-index: 10; }\\n  .dg .c:hover .selector,\\n  .dg .selector.drag {\\n    display: block; }\\n  .dg li.save-row {\\n    padding: 0; }\\n    .dg li.save-row .button {\\n      display: inline-block;\\n      padding: 0px 6px; }\\n  .dg.dialogue {\\n    background-color: #222;\\n    width: 460px;\\n    padding: 15px;\\n    font-size: 13px;\\n    line-height: 15px; }\\n\\n/* TODO Separate style and structure */\\n#dg-new-constructor {\\n  padding: 10px;\\n  color: #222;\\n  font-family: Monaco, monospace;\\n  font-size: 10px;\\n  border: 0;\\n  resize: none;\\n  box-shadow: inset 1px 1px 1px #888;\\n  word-wrap: break-word;\\n  margin: 12px 0;\\n  display: block;\\n  width: 440px;\\n  overflow-y: scroll;\\n  height: 100px;\\n  position: relative; }\\n\\n#dg-local-explain {\\n  display: none;\\n  font-size: 11px;\\n  line-height: 17px;\\n  border-radius: 3px;\\n  background-color: #333;\\n  padding: 8px;\\n  margin-top: 10px; }\\n  #dg-local-explain code {\\n    font-size: 10px; }\\n\\n#dat-gui-save-locally {\\n  display: none; }\\n\\n/** Main type */\\n.dg {\\n  color: #eee;\\n  font: 11px 'Lucida Grande', sans-serif;\\n  text-shadow: 0 -1px 0 #111;\\n  /** Auto place */\\n  /* Controller row, <li> */\\n  /** Controllers */ }\\n  .dg.main {\\n    /** Scrollbar */ }\\n    .dg.main::-webkit-scrollbar {\\n      width: 5px;\\n      background: #1a1a1a; }\\n    .dg.main::-webkit-scrollbar-corner {\\n      height: 0;\\n      display: none; }\\n    .dg.main::-webkit-scrollbar-thumb {\\n      border-radius: 5px;\\n      background: #676767; }\\n  .dg li:not(.folder) {\\n    background: #1a1a1a;\\n    border-bottom: 1px solid #2c2c2c; }\\n  .dg li.save-row {\\n    line-height: 25px;\\n    background: #dad5cb;\\n    border: 0; }\\n    .dg li.save-row select {\\n      margin-left: 5px;\\n      width: 108px; }\\n    .dg li.save-row .button {\\n      margin-left: 5px;\\n      margin-top: 1px;\\n      border-radius: 2px;\\n      font-size: 9px;\\n      line-height: 7px;\\n      padding: 4px 4px 5px 4px;\\n      background: #c5bdad;\\n      color: #fff;\\n      text-shadow: 0 1px 0 #b0a58f;\\n      box-shadow: 0 -1px 0 #b0a58f;\\n      cursor: pointer; }\\n      .dg li.save-row .button.gears {\\n        background: #c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;\\n        height: 7px;\\n        width: 8px; }\\n      .dg li.save-row .button:hover {\\n        background-color: #bab19e;\\n        box-shadow: 0 -1px 0 #b0a58f; }\\n  .dg li.folder {\\n    border-bottom: 0; }\\n  .dg li.title {\\n    padding-left: 16px;\\n    background: #000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;\\n    cursor: pointer;\\n    border-bottom: 1px solid rgba(255, 255, 255, 0.2); }\\n  .dg .closed li.title {\\n    background-image: url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==); }\\n  .dg .cr.boolean {\\n    border-left: 3px solid #806787; }\\n  .dg .cr.color {\\n    border-left: 3px solid; }\\n  .dg .cr.function {\\n    border-left: 3px solid #e61d5f; }\\n  .dg .cr.number {\\n    border-left: 3px solid #2FA1D6; }\\n    .dg .cr.number input[type=text] {\\n      color: #2FA1D6; }\\n  .dg .cr.string {\\n    border-left: 3px solid #1ed36f; }\\n    .dg .cr.string input[type=text] {\\n      color: #1ed36f; }\\n  .dg .cr.function:hover, .dg .cr.boolean:hover {\\n    background: #111; }\\n  .dg .c input[type=text] {\\n    background: #303030;\\n    outline: none; }\\n    .dg .c input[type=text]:hover {\\n      background: #3c3c3c; }\\n    .dg .c input[type=text]:focus {\\n      background: #494949;\\n      color: #fff; }\\n  .dg .c .slider {\\n    background: #303030;\\n    cursor: ew-resize; }\\n  .dg .c .slider-fg {\\n    background: #2FA1D6;\\n    max-width: 100%; }\\n  .dg .c .slider:hover {\\n    background: #3c3c3c; }\\n    .dg .c .slider:hover .slider-fg {\\n      background: #44abda; }\\n\", \"\"]);\n\t\n\t// exports\n\n\n/***/ },\n/* 24 */\n/***/ function(module, exports) {\n\n\t/*\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\n\t\tAuthor Tobias Koppers @sokra\n\t*/\n\t// css base code, injected by the css-loader\n\tmodule.exports = function() {\n\t\tvar list = [];\n\t\n\t\t// return the list of modules as css string\n\t\tlist.toString = function toString() {\n\t\t\tvar result = [];\n\t\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\t\tvar item = this[i];\n\t\t\t\tif(item[2]) {\n\t\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\n\t\t\t\t} else {\n\t\t\t\t\tresult.push(item[1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result.join(\"\");\n\t\t};\n\t\n\t\t// import a list of modules into the list\n\t\tlist.i = function(modules, mediaQuery) {\n\t\t\tif(typeof modules === \"string\")\n\t\t\t\tmodules = [[null, modules, \"\"]];\n\t\t\tvar alreadyImportedModules = {};\n\t\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\t\tvar id = this[i][0];\n\t\t\t\tif(typeof id === \"number\")\n\t\t\t\t\talreadyImportedModules[id] = true;\n\t\t\t}\n\t\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\t\tvar item = modules[i];\n\t\t\t\t// skip already imported module\n\t\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t\t}\n\t\t\t\t\tlist.push(item);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\treturn list;\n\t};\n\n\n/***/ }\n/******/ ])\n});\n;\n//# sourceMappingURL=dat.gui.js.map","/**\n * @author mrdoob / http://mrdoob.com/\n * @author jetienne / http://jetienne.com/\n * @author paulirish / http://paulirish.com/\n */\nvar MemoryStats = function (){\n\n\tvar msMin\t= 100;\n\tvar msMax\t= 0;\n\tvar GRAPH_HEIGHT = 30;\n\tvar redrawMBThreshold = GRAPH_HEIGHT;\n\n\tvar container\t= document.createElement( 'div' );\n\tcontainer.id\t= 'stats';\n\tcontainer.style.cssText = 'width:80px;height:48px;opacity:0.9;cursor:pointer;overflow:hidden;z-index:10000;will-change:transform;';\n\n\tvar msDiv\t= document.createElement( 'div' );\n\tmsDiv.id\t= 'ms';\n\tmsDiv.style.cssText = 'padding:0 0 3px 3px;text-align:left;background-color:#020;';\n\tcontainer.appendChild( msDiv );\n\n\tvar msText\t= document.createElement( 'div' );\n\tmsText.id\t= 'msText';\n\tmsText.style.cssText = 'color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px';\n\tmsText.innerHTML= 'Memory';\n\tmsDiv.appendChild( msText );\n\n\tvar msGraph\t= document.createElement( 'div' );\n\tmsGraph.id\t= 'msGraph';\n\tmsGraph.style.cssText = 'position:relative;width:74px;height:' + GRAPH_HEIGHT + 'px;background-color:#0f0';\n\tmsDiv.appendChild( msGraph );\n\n\twhile ( msGraph.children.length < 74 ) {\n\n\t\tvar bar = document.createElement( 'span' );\n\t\tbar.style.cssText = 'width:1px;height:' + GRAPH_HEIGHT + 'px;float:left;background-color:#131';\n\t\tmsGraph.appendChild( bar );\n\n\t}\n\n\tvar updateGraph = function ( dom, height, color ) {\n\n\t\tvar child = dom.appendChild( dom.firstChild );\n\t\tchild.style.height = height + 'px';\n\t\tif( color ) child.style.backgroundColor = color;\n\n\t};\n\n\tvar redrawGraph = function(dom, oHFactor, hFactor) {\n\t\t[].forEach.call(dom.children, function(c) {\n\t\t\tvar cHeight = c.style.height.substring(0, c.style.height.length-2);\n\n\t\t\t// Convert to MB, change factor\n\t\t\tvar newVal = GRAPH_HEIGHT - ((GRAPH_HEIGHT - cHeight)/oHFactor) * hFactor;\n\n\t\t\tc.style.height = newVal + 'px';\n\t\t});\n\t};\n\n\t// polyfill usedJSHeapSize\n\tif (window.performance && !performance.memory){\n\t\tperformance.memory = { usedJSHeapSize : 0, totalJSHeapSize : 0 };\n\t}\n\n\t// support of the API?\n\tif( performance.memory.totalJSHeapSize === 0 ){\n\t\tconsole.warn('totalJSHeapSize === 0... performance.memory is only available in Chrome .');\n\t}\n\n\tvar sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n\tvar precision;\n\tvar i;\n\tfunction bytesToSize( bytes, nFractDigit ){\n\t\tif (bytes === 0) return 'n/a';\n\t\tnFractDigit\t= nFractDigit !== undefined ? nFractDigit : 0;\n\t\tprecision = Math.pow(10, nFractDigit);\n\t\ti = Math.floor(Math.log(bytes) / Math.log(1024));\n\t\treturn Math.round(bytes*precision / Math.pow(1024, i))/precision + ' ' + sizes[i];\n\t}\n\n\t// TODO, add a sanity check to see if values are bucketed.\n\t// If so, remind user to adopt the --enable-precise-memory-info flag.\n\t// open -a \"/Applications/Google Chrome.app\" --args --enable-precise-memory-info\n\n\tvar lastTime\t= Date.now();\n\tvar lastUsedHeap = performance.memory.usedJSHeapSize;\n\tvar delta = 0;\n\tvar color = \"#131\";\n\tvar ms = 0;\n\tvar mbValue = 0;\n\tvar factor = 0;\n\tvar newThreshold = 0;\n\n\treturn {\n\t\tdomElement: container,\n\n\t\tupdate: function () {\n\n\t\t\t// update at 30fps\n\t\t\tif( Date.now() - lastTime < 1000/30 ) return;\n\t\t\tlastTime = Date.now();\n\n\t\t\tdelta = performance.memory.usedJSHeapSize - lastUsedHeap;\n\t\t\tlastUsedHeap = performance.memory.usedJSHeapSize;\n\n\t\t\t// if memory has gone down, consider it a GC and draw a red bar.\n\t\t\tcolor = delta < 0 ? '#830' : '#131';\n\n\t\t\tms = lastUsedHeap;\n\t\t\tmsMin = Math.min( msMin, ms );\n\t\t\tmsMax = Math.max( msMax, ms );\n\t\t\tmsText.textContent = \"Mem: \" + bytesToSize(ms, 2);\n\n\t\t\tmbValue\t= ms / (1024*1024);\n\t\t\t\n\t\t\tif(mbValue > redrawMBThreshold) {\n\t\t\t\tfactor = (mbValue - (mbValue % GRAPH_HEIGHT))/ GRAPH_HEIGHT;\n\t\t\t\tnewThreshold = GRAPH_HEIGHT * (factor + 1);\n\t\t\t\tredrawGraph(msGraph, GRAPH_HEIGHT/redrawMBThreshold, GRAPH_HEIGHT/newThreshold);\n\t\t\t\tredrawMBThreshold = newThreshold;\n\t\t\t}\n\n\t\t\tupdateGraph( msGraph, GRAPH_HEIGHT-mbValue*(GRAPH_HEIGHT/redrawMBThreshold), color);\n\n\n\t\t}\n\n\t};\n\n};\n\nif (typeof module !== \"undefined\" && module.exports) {\n\tmodule.exports = MemoryStats;\n}\n","/*jslint onevar:true, undef:true, newcap:true, regexp:true, bitwise:true, maxerr:50, indent:4, white:false, nomen:false, plusplus:false */\n/*global define:false, require:false, exports:false, module:false, signals:false */\n\n/** @license\n * JS Signals <http://millermedeiros.github.com/js-signals/>\n * Released under the MIT license\n * Author: Miller Medeiros\n * Version: 1.0.0 - Build: 268 (2012/11/29 05:48 PM)\n */\n\n(function(global){\n\n    // SignalBinding -------------------------------------------------\n    //================================================================\n\n    /**\n     * Object that represents a binding between a Signal and a listener function.\n     * <br />- <strong>This is an internal constructor and shouldn't be called by regular users.</strong>\n     * <br />- inspired by Joa Ebert AS3 SignalBinding and Robert Penner's Slot classes.\n     * @author Miller Medeiros\n     * @constructor\n     * @internal\n     * @name SignalBinding\n     * @param {Signal} signal Reference to Signal object that listener is currently bound to.\n     * @param {Function} listener Handler function bound to the signal.\n     * @param {boolean} isOnce If binding should be executed just once.\n     * @param {Object} [listenerContext] Context on which listener will be executed (object that should represent the `this` variable inside listener function).\n     * @param {Number} [priority] The priority level of the event listener. (default = 0).\n     */\n    function SignalBinding(signal, listener, isOnce, listenerContext, priority) {\n\n        /**\n         * Handler function bound to the signal.\n         * @type Function\n         * @private\n         */\n        this._listener = listener;\n\n        /**\n         * If binding should be executed just once.\n         * @type boolean\n         * @private\n         */\n        this._isOnce = isOnce;\n\n        /**\n         * Context on which listener will be executed (object that should represent the `this` variable inside listener function).\n         * @memberOf SignalBinding.prototype\n         * @name context\n         * @type Object|undefined|null\n         */\n        this.context = listenerContext;\n\n        /**\n         * Reference to Signal object that listener is currently bound to.\n         * @type Signal\n         * @private\n         */\n        this._signal = signal;\n\n        /**\n         * Listener priority\n         * @type Number\n         * @private\n         */\n        this._priority = priority || 0;\n    }\n\n    SignalBinding.prototype = {\n\n        /**\n         * If binding is active and should be executed.\n         * @type boolean\n         */\n        active : true,\n\n        /**\n         * Default parameters passed to listener during `Signal.dispatch` and `SignalBinding.execute`. (curried parameters)\n         * @type Array|null\n         */\n        params : null,\n\n        /**\n         * Call listener passing arbitrary parameters.\n         * <p>If binding was added using `Signal.addOnce()` it will be automatically removed from signal dispatch queue, this method is used internally for the signal dispatch.</p>\n         * @param {Array} [paramsArr] Array of parameters that should be passed to the listener\n         * @return {*} Value returned by the listener.\n         */\n        execute : function (paramsArr) {\n            var handlerReturn, params;\n            if (this.active && !!this._listener) {\n                params = this.params? this.params.concat(paramsArr) : paramsArr;\n                handlerReturn = this._listener.apply(this.context, params);\n                if (this._isOnce) {\n                    this.detach();\n                }\n            }\n            return handlerReturn;\n        },\n\n        /**\n         * Detach binding from signal.\n         * - alias to: mySignal.remove(myBinding.getListener());\n         * @return {Function|null} Handler function bound to the signal or `null` if binding was previously detached.\n         */\n        detach : function () {\n            return this.isBound()? this._signal.remove(this._listener, this.context) : null;\n        },\n\n        /**\n         * @return {Boolean} `true` if binding is still bound to the signal and have a listener.\n         */\n        isBound : function () {\n            return (!!this._signal && !!this._listener);\n        },\n\n        /**\n         * @return {boolean} If SignalBinding will only be executed once.\n         */\n        isOnce : function () {\n            return this._isOnce;\n        },\n\n        /**\n         * @return {Function} Handler function bound to the signal.\n         */\n        getListener : function () {\n            return this._listener;\n        },\n\n        /**\n         * @return {Signal} Signal that listener is currently bound to.\n         */\n        getSignal : function () {\n            return this._signal;\n        },\n\n        /**\n         * Delete instance properties\n         * @private\n         */\n        _destroy : function () {\n            delete this._signal;\n            delete this._listener;\n            delete this.context;\n        },\n\n        /**\n         * @return {string} String representation of the object.\n         */\n        toString : function () {\n            return '[SignalBinding isOnce:' + this._isOnce +', isBound:'+ this.isBound() +', active:' + this.active + ']';\n        }\n\n    };\n\n\n/*global SignalBinding:false*/\n\n    // Signal --------------------------------------------------------\n    //================================================================\n\n    function validateListener(listener, fnName) {\n        if (typeof listener !== 'function') {\n            throw new Error( 'listener is a required param of {fn}() and should be a Function.'.replace('{fn}', fnName) );\n        }\n    }\n\n    /**\n     * Custom event broadcaster\n     * <br />- inspired by Robert Penner's AS3 Signals.\n     * @name Signal\n     * @author Miller Medeiros\n     * @constructor\n     */\n    function Signal() {\n        /**\n         * @type Array.<SignalBinding>\n         * @private\n         */\n        this._bindings = [];\n        this._prevParams = null;\n\n        // enforce dispatch to aways work on same context (#47)\n        var self = this;\n        this.dispatch = function(){\n            Signal.prototype.dispatch.apply(self, arguments);\n        };\n    }\n\n    Signal.prototype = {\n\n        /**\n         * Signals Version Number\n         * @type String\n         * @const\n         */\n        VERSION : '1.0.0',\n\n        /**\n         * If Signal should keep record of previously dispatched parameters and\n         * automatically execute listener during `add()`/`addOnce()` if Signal was\n         * already dispatched before.\n         * @type boolean\n         */\n        memorize : false,\n\n        /**\n         * @type boolean\n         * @private\n         */\n        _shouldPropagate : true,\n\n        /**\n         * If Signal is active and should broadcast events.\n         * <p><strong>IMPORTANT:</strong> Setting this property during a dispatch will only affect the next dispatch, if you want to stop the propagation of a signal use `halt()` instead.</p>\n         * @type boolean\n         */\n        active : true,\n\n        /**\n         * @param {Function} listener\n         * @param {boolean} isOnce\n         * @param {Object} [listenerContext]\n         * @param {Number} [priority]\n         * @return {SignalBinding}\n         * @private\n         */\n        _registerListener : function (listener, isOnce, listenerContext, priority) {\n\n            var prevIndex = this._indexOfListener(listener, listenerContext),\n                binding;\n\n            if (prevIndex !== -1) {\n                binding = this._bindings[prevIndex];\n                if (binding.isOnce() !== isOnce) {\n                    throw new Error('You cannot add'+ (isOnce? '' : 'Once') +'() then add'+ (!isOnce? '' : 'Once') +'() the same listener without removing the relationship first.');\n                }\n            } else {\n                binding = new SignalBinding(this, listener, isOnce, listenerContext, priority);\n                this._addBinding(binding);\n            }\n\n            if(this.memorize && this._prevParams){\n                binding.execute(this._prevParams);\n            }\n\n            return binding;\n        },\n\n        /**\n         * @param {SignalBinding} binding\n         * @private\n         */\n        _addBinding : function (binding) {\n            //simplified insertion sort\n            var n = this._bindings.length;\n            do { --n; } while (this._bindings[n] && binding._priority <= this._bindings[n]._priority);\n            this._bindings.splice(n + 1, 0, binding);\n        },\n\n        /**\n         * @param {Function} listener\n         * @return {number}\n         * @private\n         */\n        _indexOfListener : function (listener, context) {\n            var n = this._bindings.length,\n                cur;\n            while (n--) {\n                cur = this._bindings[n];\n                if (cur._listener === listener && cur.context === context) {\n                    return n;\n                }\n            }\n            return -1;\n        },\n\n        /**\n         * Check if listener was attached to Signal.\n         * @param {Function} listener\n         * @param {Object} [context]\n         * @return {boolean} if Signal has the specified listener.\n         */\n        has : function (listener, context) {\n            return this._indexOfListener(listener, context) !== -1;\n        },\n\n        /**\n         * Add a listener to the signal.\n         * @param {Function} listener Signal handler function.\n         * @param {Object} [listenerContext] Context on which listener will be executed (object that should represent the `this` variable inside listener function).\n         * @param {Number} [priority] The priority level of the event listener. Listeners with higher priority will be executed before listeners with lower priority. Listeners with same priority level will be executed at the same order as they were added. (default = 0)\n         * @return {SignalBinding} An Object representing the binding between the Signal and listener.\n         */\n        add : function (listener, listenerContext, priority) {\n            validateListener(listener, 'add');\n            return this._registerListener(listener, false, listenerContext, priority);\n        },\n\n        /**\n         * Add listener to the signal that should be removed after first execution (will be executed only once).\n         * @param {Function} listener Signal handler function.\n         * @param {Object} [listenerContext] Context on which listener will be executed (object that should represent the `this` variable inside listener function).\n         * @param {Number} [priority] The priority level of the event listener. Listeners with higher priority will be executed before listeners with lower priority. Listeners with same priority level will be executed at the same order as they were added. (default = 0)\n         * @return {SignalBinding} An Object representing the binding between the Signal and listener.\n         */\n        addOnce : function (listener, listenerContext, priority) {\n            validateListener(listener, 'addOnce');\n            return this._registerListener(listener, true, listenerContext, priority);\n        },\n\n        /**\n         * Remove a single listener from the dispatch queue.\n         * @param {Function} listener Handler function that should be removed.\n         * @param {Object} [context] Execution context (since you can add the same handler multiple times if executing in a different context).\n         * @return {Function} Listener handler function.\n         */\n        remove : function (listener, context) {\n            validateListener(listener, 'remove');\n\n            var i = this._indexOfListener(listener, context);\n            if (i !== -1) {\n                this._bindings[i]._destroy(); //no reason to a SignalBinding exist if it isn't attached to a signal\n                this._bindings.splice(i, 1);\n            }\n            return listener;\n        },\n\n        /**\n         * Remove all listeners from the Signal.\n         */\n        removeAll : function () {\n            var n = this._bindings.length;\n            while (n--) {\n                this._bindings[n]._destroy();\n            }\n            this._bindings.length = 0;\n        },\n\n        /**\n         * @return {number} Number of listeners attached to the Signal.\n         */\n        getNumListeners : function () {\n            return this._bindings.length;\n        },\n\n        /**\n         * Stop propagation of the event, blocking the dispatch to next listeners on the queue.\n         * <p><strong>IMPORTANT:</strong> should be called only during signal dispatch, calling it before/after dispatch won't affect signal broadcast.</p>\n         * @see Signal.prototype.disable\n         */\n        halt : function () {\n            this._shouldPropagate = false;\n        },\n\n        /**\n         * Dispatch/Broadcast Signal to all listeners added to the queue.\n         * @param {...*} [params] Parameters that should be passed to each handler.\n         */\n        dispatch : function (params) {\n            if (! this.active) {\n                return;\n            }\n\n            var paramsArr = Array.prototype.slice.call(arguments),\n                n = this._bindings.length,\n                bindings;\n\n            if (this.memorize) {\n                this._prevParams = paramsArr;\n            }\n\n            if (! n) {\n                //should come after memorize\n                return;\n            }\n\n            bindings = this._bindings.slice(); //clone array in case add/remove items during dispatch\n            this._shouldPropagate = true; //in case `halt` was called before dispatch or during the previous dispatch.\n\n            //execute all callbacks until end of the list or until a callback returns `false` or stops propagation\n            //reverse loop since listeners with higher priority will be added at the end of the list\n            do { n--; } while (bindings[n] && this._shouldPropagate && bindings[n].execute(paramsArr) !== false);\n        },\n\n        /**\n         * Forget memorized arguments.\n         * @see Signal.memorize\n         */\n        forget : function(){\n            this._prevParams = null;\n        },\n\n        /**\n         * Remove all bindings from signal and destroy any reference to external objects (destroy Signal object).\n         * <p><strong>IMPORTANT:</strong> calling any method on the signal instance after calling dispose will throw errors.</p>\n         */\n        dispose : function () {\n            this.removeAll();\n            delete this._bindings;\n            delete this._prevParams;\n        },\n\n        /**\n         * @return {string} String representation of the object.\n         */\n        toString : function () {\n            return '[Signal active:'+ this.active +' numListeners:'+ this.getNumListeners() +']';\n        }\n\n    };\n\n\n    // Namespace -----------------------------------------------------\n    //================================================================\n\n    /**\n     * Signals namespace\n     * @namespace\n     * @name signals\n     */\n    var signals = Signal;\n\n    /**\n     * Custom event broadcaster\n     * @see Signal\n     */\n    // alias for backwards compatibility (see #gh-44)\n    signals.Signal = Signal;\n\n\n\n    //exports to multiple environments\n    if(typeof define === 'function' && define.amd){ //AMD\n        define(function () { return signals; });\n    } else if (typeof module !== 'undefined' && module.exports){ //node\n        module.exports = signals;\n    } else { //browser\n        //use string because of Google closure compiler ADVANCED_MODE\n        /*jslint sub:true */\n        global['signals'] = signals;\n    }\n\n}(this));\n","/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar Stats = function () {\n\n\tvar mode = 0;\n\n\tvar container = document.createElement( 'div' );\n\tcontainer.style.cssText = 'position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000';\n\tcontainer.addEventListener( 'click', function ( event ) {\n\n\t\tevent.preventDefault();\n\t\tshowPanel( ++ mode % container.children.length );\n\n\t}, false );\n\n\t//\n\n\tfunction addPanel( panel ) {\n\n\t\tcontainer.appendChild( panel.dom );\n\t\treturn panel;\n\n\t}\n\n\tfunction showPanel( id ) {\n\n\t\tfor ( var i = 0; i < container.children.length; i ++ ) {\n\n\t\t\tcontainer.children[ i ].style.display = i === id ? 'block' : 'none';\n\n\t\t}\n\n\t\tmode = id;\n\n\t}\n\n\t//\n\n\tvar beginTime = ( performance || Date ).now(), prevTime = beginTime, frames = 0;\n\n\tvar fpsPanel = addPanel( new Stats.Panel( 'FPS', '#0ff', '#002' ) );\n\tvar msPanel = addPanel( new Stats.Panel( 'MS', '#0f0', '#020' ) );\n\n\tif ( self.performance && self.performance.memory ) {\n\n\t\tvar memPanel = addPanel( new Stats.Panel( 'MB', '#f08', '#201' ) );\n\n\t}\n\n\tshowPanel( 0 );\n\n\treturn {\n\n\t\tREVISION: 16,\n\n\t\tdom: container,\n\n\t\taddPanel: addPanel,\n\t\tshowPanel: showPanel,\n\n\t\tbegin: function () {\n\n\t\t\tbeginTime = ( performance || Date ).now();\n\n\t\t},\n\n\t\tend: function () {\n\n\t\t\tframes ++;\n\n\t\t\tvar time = ( performance || Date ).now();\n\n\t\t\tmsPanel.update( time - beginTime, 200 );\n\n\t\t\tif ( time > prevTime + 1000 ) {\n\n\t\t\t\tfpsPanel.update( ( frames * 1000 ) / ( time - prevTime ), 100 );\n\n\t\t\t\tprevTime = time;\n\t\t\t\tframes = 0;\n\n\t\t\t\tif ( memPanel ) {\n\n\t\t\t\t\tvar memory = performance.memory;\n\t\t\t\t\tmemPanel.update( memory.usedJSHeapSize / 1048576, memory.jsHeapSizeLimit / 1048576 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn time;\n\n\t\t},\n\n\t\tupdate: function () {\n\n\t\t\tbeginTime = this.end();\n\n\t\t},\n\n\t\t// Backwards Compatibility\n\n\t\tdomElement: container,\n\t\tsetMode: showPanel\n\n\t};\n\n};\n\nStats.Panel = function ( name, fg, bg ) {\n\n\tvar min = Infinity, max = 0, round = Math.round;\n\tvar PR = round( window.devicePixelRatio || 1 );\n\n\tvar WIDTH = 80 * PR, HEIGHT = 48 * PR,\n\t\t\tTEXT_X = 3 * PR, TEXT_Y = 2 * PR,\n\t\t\tGRAPH_X = 3 * PR, GRAPH_Y = 15 * PR,\n\t\t\tGRAPH_WIDTH = 74 * PR, GRAPH_HEIGHT = 30 * PR;\n\n\tvar canvas = document.createElement( 'canvas' );\n\tcanvas.width = WIDTH;\n\tcanvas.height = HEIGHT;\n\tcanvas.style.cssText = 'width:80px;height:48px';\n\n\tvar context = canvas.getContext( '2d' );\n\tcontext.font = 'bold ' + ( 9 * PR ) + 'px Helvetica,Arial,sans-serif';\n\tcontext.textBaseline = 'top';\n\n\tcontext.fillStyle = bg;\n\tcontext.fillRect( 0, 0, WIDTH, HEIGHT );\n\n\tcontext.fillStyle = fg;\n\tcontext.fillText( name, TEXT_X, TEXT_Y );\n\tcontext.fillRect( GRAPH_X, GRAPH_Y, GRAPH_WIDTH, GRAPH_HEIGHT );\n\n\tcontext.fillStyle = bg;\n\tcontext.globalAlpha = 0.9;\n\tcontext.fillRect( GRAPH_X, GRAPH_Y, GRAPH_WIDTH, GRAPH_HEIGHT );\n\n\treturn {\n\n\t\tdom: canvas,\n\n\t\tupdate: function ( value, maxValue ) {\n\n\t\t\tmin = Math.min( min, value );\n\t\t\tmax = Math.max( max, value );\n\n\t\t\tcontext.fillStyle = bg;\n\t\t\tcontext.globalAlpha = 1;\n\t\t\tcontext.fillRect( 0, 0, WIDTH, GRAPH_Y );\n\t\t\tcontext.fillStyle = fg;\n\t\t\tcontext.fillText( round( value ) + ' ' + name + ' (' + round( min ) + '-' + round( max ) + ')', TEXT_X, TEXT_Y );\n\n\t\t\tcontext.drawImage( canvas, GRAPH_X + PR, GRAPH_Y, GRAPH_WIDTH - PR, GRAPH_HEIGHT, GRAPH_X, GRAPH_Y, GRAPH_WIDTH - PR, GRAPH_HEIGHT );\n\n\t\t\tcontext.fillRect( GRAPH_X + GRAPH_WIDTH - PR, GRAPH_Y, PR, GRAPH_HEIGHT );\n\n\t\t\tcontext.fillStyle = bg;\n\t\t\tcontext.globalAlpha = 0.9;\n\t\t\tcontext.fillRect( GRAPH_X + GRAPH_WIDTH - PR, GRAPH_Y, PR, round( ( 1 - ( value / maxValue ) ) * GRAPH_HEIGHT ) );\n\n\t\t}\n\n\t};\n\n};\n\nif ( typeof module === 'object' ) {\n\n\tmodule.exports = Stats;\n\n}\n","; var __browserify_shim_require__=require;(function browserifyShim(module, exports, require, define, browserify_shim__define__module__export__) {\n/* Zepto v1.2.0 - zepto event ajax form ie - zeptojs.com/license */\n(function(global, factory) {\n  if (typeof define === 'function' && define.amd)\n    define(function() { return factory(global) })\n  else\n    factory(global)\n}(this, function(window) {\n  var Zepto = (function() {\n  var undefined, key, $, classList, emptyArray = [], concat = emptyArray.concat, filter = emptyArray.filter, slice = emptyArray.slice,\n    document = window.document,\n    elementDisplay = {}, classCache = {},\n    cssNumber = { 'column-count': 1, 'columns': 1, 'font-weight': 1, 'line-height': 1,'opacity': 1, 'z-index': 1, 'zoom': 1 },\n    fragmentRE = /^\\s*<(\\w+|!)[^>]*>/,\n    singleTagRE = /^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/,\n    tagExpanderRE = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/ig,\n    rootNodeRE = /^(?:body|html)$/i,\n    capitalRE = /([A-Z])/g,\n\n    // special attributes that should be get/set via method calls\n    methodAttributes = ['val', 'css', 'html', 'text', 'data', 'width', 'height', 'offset'],\n\n    adjacencyOperators = [ 'after', 'prepend', 'before', 'append' ],\n    table = document.createElement('table'),\n    tableRow = document.createElement('tr'),\n    containers = {\n      'tr': document.createElement('tbody'),\n      'tbody': table, 'thead': table, 'tfoot': table,\n      'td': tableRow, 'th': tableRow,\n      '*': document.createElement('div')\n    },\n    readyRE = /complete|loaded|interactive/,\n    simpleSelectorRE = /^[\\w-]*$/,\n    class2type = {},\n    toString = class2type.toString,\n    zepto = {},\n    camelize, uniq,\n    tempParent = document.createElement('div'),\n    propMap = {\n      'tabindex': 'tabIndex',\n      'readonly': 'readOnly',\n      'for': 'htmlFor',\n      'class': 'className',\n      'maxlength': 'maxLength',\n      'cellspacing': 'cellSpacing',\n      'cellpadding': 'cellPadding',\n      'rowspan': 'rowSpan',\n      'colspan': 'colSpan',\n      'usemap': 'useMap',\n      'frameborder': 'frameBorder',\n      'contenteditable': 'contentEditable'\n    },\n    isArray = Array.isArray ||\n      function(object){ return object instanceof Array }\n\n  zepto.matches = function(element, selector) {\n    if (!selector || !element || element.nodeType !== 1) return false\n    var matchesSelector = element.matches || element.webkitMatchesSelector ||\n                          element.mozMatchesSelector || element.oMatchesSelector ||\n                          element.matchesSelector\n    if (matchesSelector) return matchesSelector.call(element, selector)\n    // fall back to performing a selector:\n    var match, parent = element.parentNode, temp = !parent\n    if (temp) (parent = tempParent).appendChild(element)\n    match = ~zepto.qsa(parent, selector).indexOf(element)\n    temp && tempParent.removeChild(element)\n    return match\n  }\n\n  function type(obj) {\n    return obj == null ? String(obj) :\n      class2type[toString.call(obj)] || \"object\"\n  }\n\n  function isFunction(value) { return type(value) == \"function\" }\n  function isWindow(obj)     { return obj != null && obj == obj.window }\n  function isDocument(obj)   { return obj != null && obj.nodeType == obj.DOCUMENT_NODE }\n  function isObject(obj)     { return type(obj) == \"object\" }\n  function isPlainObject(obj) {\n    return isObject(obj) && !isWindow(obj) && Object.getPrototypeOf(obj) == Object.prototype\n  }\n\n  function likeArray(obj) {\n    var length = !!obj && 'length' in obj && obj.length,\n      type = $.type(obj)\n\n    return 'function' != type && !isWindow(obj) && (\n      'array' == type || length === 0 ||\n        (typeof length == 'number' && length > 0 && (length - 1) in obj)\n    )\n  }\n\n  function compact(array) { return filter.call(array, function(item){ return item != null }) }\n  function flatten(array) { return array.length > 0 ? $.fn.concat.apply([], array) : array }\n  camelize = function(str){ return str.replace(/-+(.)?/g, function(match, chr){ return chr ? chr.toUpperCase() : '' }) }\n  function dasherize(str) {\n    return str.replace(/::/g, '/')\n           .replace(/([A-Z]+)([A-Z][a-z])/g, '$1_$2')\n           .replace(/([a-z\\d])([A-Z])/g, '$1_$2')\n           .replace(/_/g, '-')\n           .toLowerCase()\n  }\n  uniq = function(array){ return filter.call(array, function(item, idx){ return array.indexOf(item) == idx }) }\n\n  function classRE(name) {\n    return name in classCache ?\n      classCache[name] : (classCache[name] = new RegExp('(^|\\\\s)' + name + '(\\\\s|$)'))\n  }\n\n  function maybeAddPx(name, value) {\n    return (typeof value == \"number\" && !cssNumber[dasherize(name)]) ? value + \"px\" : value\n  }\n\n  function defaultDisplay(nodeName) {\n    var element, display\n    if (!elementDisplay[nodeName]) {\n      element = document.createElement(nodeName)\n      document.body.appendChild(element)\n      display = getComputedStyle(element, '').getPropertyValue(\"display\")\n      element.parentNode.removeChild(element)\n      display == \"none\" && (display = \"block\")\n      elementDisplay[nodeName] = display\n    }\n    return elementDisplay[nodeName]\n  }\n\n  function children(element) {\n    return 'children' in element ?\n      slice.call(element.children) :\n      $.map(element.childNodes, function(node){ if (node.nodeType == 1) return node })\n  }\n\n  function Z(dom, selector) {\n    var i, len = dom ? dom.length : 0\n    for (i = 0; i < len; i++) this[i] = dom[i]\n    this.length = len\n    this.selector = selector || ''\n  }\n\n  // `$.zepto.fragment` takes a html string and an optional tag name\n  // to generate DOM nodes from the given html string.\n  // The generated DOM nodes are returned as an array.\n  // This function can be overridden in plugins for example to make\n  // it compatible with browsers that don't support the DOM fully.\n  zepto.fragment = function(html, name, properties) {\n    var dom, nodes, container\n\n    // A special case optimization for a single tag\n    if (singleTagRE.test(html)) dom = $(document.createElement(RegExp.$1))\n\n    if (!dom) {\n      if (html.replace) html = html.replace(tagExpanderRE, \"<$1></$2>\")\n      if (name === undefined) name = fragmentRE.test(html) && RegExp.$1\n      if (!(name in containers)) name = '*'\n\n      container = containers[name]\n      container.innerHTML = '' + html\n      dom = $.each(slice.call(container.childNodes), function(){\n        container.removeChild(this)\n      })\n    }\n\n    if (isPlainObject(properties)) {\n      nodes = $(dom)\n      $.each(properties, function(key, value) {\n        if (methodAttributes.indexOf(key) > -1) nodes[key](value)\n        else nodes.attr(key, value)\n      })\n    }\n\n    return dom\n  }\n\n  // `$.zepto.Z` swaps out the prototype of the given `dom` array\n  // of nodes with `$.fn` and thus supplying all the Zepto functions\n  // to the array. This method can be overridden in plugins.\n  zepto.Z = function(dom, selector) {\n    return new Z(dom, selector)\n  }\n\n  // `$.zepto.isZ` should return `true` if the given object is a Zepto\n  // collection. This method can be overridden in plugins.\n  zepto.isZ = function(object) {\n    return object instanceof zepto.Z\n  }\n\n  // `$.zepto.init` is Zepto's counterpart to jQuery's `$.fn.init` and\n  // takes a CSS selector and an optional context (and handles various\n  // special cases).\n  // This method can be overridden in plugins.\n  zepto.init = function(selector, context) {\n    var dom\n    // If nothing given, return an empty Zepto collection\n    if (!selector) return zepto.Z()\n    // Optimize for string selectors\n    else if (typeof selector == 'string') {\n      selector = selector.trim()\n      // If it's a html fragment, create nodes from it\n      // Note: In both Chrome 21 and Firefox 15, DOM error 12\n      // is thrown if the fragment doesn't begin with <\n      if (selector[0] == '<' && fragmentRE.test(selector))\n        dom = zepto.fragment(selector, RegExp.$1, context), selector = null\n      // If there's a context, create a collection on that context first, and select\n      // nodes from there\n      else if (context !== undefined) return $(context).find(selector)\n      // If it's a CSS selector, use it to select nodes.\n      else dom = zepto.qsa(document, selector)\n    }\n    // If a function is given, call it when the DOM is ready\n    else if (isFunction(selector)) return $(document).ready(selector)\n    // If a Zepto collection is given, just return it\n    else if (zepto.isZ(selector)) return selector\n    else {\n      // normalize array if an array of nodes is given\n      if (isArray(selector)) dom = compact(selector)\n      // Wrap DOM nodes.\n      else if (isObject(selector))\n        dom = [selector], selector = null\n      // If it's a html fragment, create nodes from it\n      else if (fragmentRE.test(selector))\n        dom = zepto.fragment(selector.trim(), RegExp.$1, context), selector = null\n      // If there's a context, create a collection on that context first, and select\n      // nodes from there\n      else if (context !== undefined) return $(context).find(selector)\n      // And last but no least, if it's a CSS selector, use it to select nodes.\n      else dom = zepto.qsa(document, selector)\n    }\n    // create a new Zepto collection from the nodes found\n    return zepto.Z(dom, selector)\n  }\n\n  // `$` will be the base `Zepto` object. When calling this\n  // function just call `$.zepto.init, which makes the implementation\n  // details of selecting nodes and creating Zepto collections\n  // patchable in plugins.\n  $ = function(selector, context){\n    return zepto.init(selector, context)\n  }\n\n  function extend(target, source, deep) {\n    for (key in source)\n      if (deep && (isPlainObject(source[key]) || isArray(source[key]))) {\n        if (isPlainObject(source[key]) && !isPlainObject(target[key]))\n          target[key] = {}\n        if (isArray(source[key]) && !isArray(target[key]))\n          target[key] = []\n        extend(target[key], source[key], deep)\n      }\n      else if (source[key] !== undefined) target[key] = source[key]\n  }\n\n  // Copy all but undefined properties from one or more\n  // objects to the `target` object.\n  $.extend = function(target){\n    var deep, args = slice.call(arguments, 1)\n    if (typeof target == 'boolean') {\n      deep = target\n      target = args.shift()\n    }\n    args.forEach(function(arg){ extend(target, arg, deep) })\n    return target\n  }\n\n  // `$.zepto.qsa` is Zepto's CSS selector implementation which\n  // uses `document.querySelectorAll` and optimizes for some special cases, like `#id`.\n  // This method can be overridden in plugins.\n  zepto.qsa = function(element, selector){\n    var found,\n        maybeID = selector[0] == '#',\n        maybeClass = !maybeID && selector[0] == '.',\n        nameOnly = maybeID || maybeClass ? selector.slice(1) : selector, // Ensure that a 1 char tag name still gets checked\n        isSimple = simpleSelectorRE.test(nameOnly)\n    return (element.getElementById && isSimple && maybeID) ? // Safari DocumentFragment doesn't have getElementById\n      ( (found = element.getElementById(nameOnly)) ? [found] : [] ) :\n      (element.nodeType !== 1 && element.nodeType !== 9 && element.nodeType !== 11) ? [] :\n      slice.call(\n        isSimple && !maybeID && element.getElementsByClassName ? // DocumentFragment doesn't have getElementsByClassName/TagName\n          maybeClass ? element.getElementsByClassName(nameOnly) : // If it's simple, it could be a class\n          element.getElementsByTagName(selector) : // Or a tag\n          element.querySelectorAll(selector) // Or it's not simple, and we need to query all\n      )\n  }\n\n  function filtered(nodes, selector) {\n    return selector == null ? $(nodes) : $(nodes).filter(selector)\n  }\n\n  $.contains = document.documentElement.contains ?\n    function(parent, node) {\n      return parent !== node && parent.contains(node)\n    } :\n    function(parent, node) {\n      while (node && (node = node.parentNode))\n        if (node === parent) return true\n      return false\n    }\n\n  function funcArg(context, arg, idx, payload) {\n    return isFunction(arg) ? arg.call(context, idx, payload) : arg\n  }\n\n  function setAttribute(node, name, value) {\n    value == null ? node.removeAttribute(name) : node.setAttribute(name, value)\n  }\n\n  // access className property while respecting SVGAnimatedString\n  function className(node, value){\n    var klass = node.className || '',\n        svg   = klass && klass.baseVal !== undefined\n\n    if (value === undefined) return svg ? klass.baseVal : klass\n    svg ? (klass.baseVal = value) : (node.className = value)\n  }\n\n  // \"true\"  => true\n  // \"false\" => false\n  // \"null\"  => null\n  // \"42\"    => 42\n  // \"42.5\"  => 42.5\n  // \"08\"    => \"08\"\n  // JSON    => parse if valid\n  // String  => self\n  function deserializeValue(value) {\n    try {\n      return value ?\n        value == \"true\" ||\n        ( value == \"false\" ? false :\n          value == \"null\" ? null :\n          +value + \"\" == value ? +value :\n          /^[\\[\\{]/.test(value) ? $.parseJSON(value) :\n          value )\n        : value\n    } catch(e) {\n      return value\n    }\n  }\n\n  $.type = type\n  $.isFunction = isFunction\n  $.isWindow = isWindow\n  $.isArray = isArray\n  $.isPlainObject = isPlainObject\n\n  $.isEmptyObject = function(obj) {\n    var name\n    for (name in obj) return false\n    return true\n  }\n\n  $.isNumeric = function(val) {\n    var num = Number(val), type = typeof val\n    return val != null && type != 'boolean' &&\n      (type != 'string' || val.length) &&\n      !isNaN(num) && isFinite(num) || false\n  }\n\n  $.inArray = function(elem, array, i){\n    return emptyArray.indexOf.call(array, elem, i)\n  }\n\n  $.camelCase = camelize\n  $.trim = function(str) {\n    return str == null ? \"\" : String.prototype.trim.call(str)\n  }\n\n  // plugin compatibility\n  $.uuid = 0\n  $.support = { }\n  $.expr = { }\n  $.noop = function() {}\n\n  $.map = function(elements, callback){\n    var value, values = [], i, key\n    if (likeArray(elements))\n      for (i = 0; i < elements.length; i++) {\n        value = callback(elements[i], i)\n        if (value != null) values.push(value)\n      }\n    else\n      for (key in elements) {\n        value = callback(elements[key], key)\n        if (value != null) values.push(value)\n      }\n    return flatten(values)\n  }\n\n  $.each = function(elements, callback){\n    var i, key\n    if (likeArray(elements)) {\n      for (i = 0; i < elements.length; i++)\n        if (callback.call(elements[i], i, elements[i]) === false) return elements\n    } else {\n      for (key in elements)\n        if (callback.call(elements[key], key, elements[key]) === false) return elements\n    }\n\n    return elements\n  }\n\n  $.grep = function(elements, callback){\n    return filter.call(elements, callback)\n  }\n\n  if (window.JSON) $.parseJSON = JSON.parse\n\n  // Populate the class2type map\n  $.each(\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"), function(i, name) {\n    class2type[ \"[object \" + name + \"]\" ] = name.toLowerCase()\n  })\n\n  // Define methods that will be available on all\n  // Zepto collections\n  $.fn = {\n    constructor: zepto.Z,\n    length: 0,\n\n    // Because a collection acts like an array\n    // copy over these useful array functions.\n    forEach: emptyArray.forEach,\n    reduce: emptyArray.reduce,\n    push: emptyArray.push,\n    sort: emptyArray.sort,\n    splice: emptyArray.splice,\n    indexOf: emptyArray.indexOf,\n    concat: function(){\n      var i, value, args = []\n      for (i = 0; i < arguments.length; i++) {\n        value = arguments[i]\n        args[i] = zepto.isZ(value) ? value.toArray() : value\n      }\n      return concat.apply(zepto.isZ(this) ? this.toArray() : this, args)\n    },\n\n    // `map` and `slice` in the jQuery API work differently\n    // from their array counterparts\n    map: function(fn){\n      return $($.map(this, function(el, i){ return fn.call(el, i, el) }))\n    },\n    slice: function(){\n      return $(slice.apply(this, arguments))\n    },\n\n    ready: function(callback){\n      // need to check if document.body exists for IE as that browser reports\n      // document ready when it hasn't yet created the body element\n      if (readyRE.test(document.readyState) && document.body) callback($)\n      else document.addEventListener('DOMContentLoaded', function(){ callback($) }, false)\n      return this\n    },\n    get: function(idx){\n      return idx === undefined ? slice.call(this) : this[idx >= 0 ? idx : idx + this.length]\n    },\n    toArray: function(){ return this.get() },\n    size: function(){\n      return this.length\n    },\n    remove: function(){\n      return this.each(function(){\n        if (this.parentNode != null)\n          this.parentNode.removeChild(this)\n      })\n    },\n    each: function(callback){\n      emptyArray.every.call(this, function(el, idx){\n        return callback.call(el, idx, el) !== false\n      })\n      return this\n    },\n    filter: function(selector){\n      if (isFunction(selector)) return this.not(this.not(selector))\n      return $(filter.call(this, function(element){\n        return zepto.matches(element, selector)\n      }))\n    },\n    add: function(selector,context){\n      return $(uniq(this.concat($(selector,context))))\n    },\n    is: function(selector){\n      return this.length > 0 && zepto.matches(this[0], selector)\n    },\n    not: function(selector){\n      var nodes=[]\n      if (isFunction(selector) && selector.call !== undefined)\n        this.each(function(idx){\n          if (!selector.call(this,idx)) nodes.push(this)\n        })\n      else {\n        var excludes = typeof selector == 'string' ? this.filter(selector) :\n          (likeArray(selector) && isFunction(selector.item)) ? slice.call(selector) : $(selector)\n        this.forEach(function(el){\n          if (excludes.indexOf(el) < 0) nodes.push(el)\n        })\n      }\n      return $(nodes)\n    },\n    has: function(selector){\n      return this.filter(function(){\n        return isObject(selector) ?\n          $.contains(this, selector) :\n          $(this).find(selector).size()\n      })\n    },\n    eq: function(idx){\n      return idx === -1 ? this.slice(idx) : this.slice(idx, + idx + 1)\n    },\n    first: function(){\n      var el = this[0]\n      return el && !isObject(el) ? el : $(el)\n    },\n    last: function(){\n      var el = this[this.length - 1]\n      return el && !isObject(el) ? el : $(el)\n    },\n    find: function(selector){\n      var result, $this = this\n      if (!selector) result = $()\n      else if (typeof selector == 'object')\n        result = $(selector).filter(function(){\n          var node = this\n          return emptyArray.some.call($this, function(parent){\n            return $.contains(parent, node)\n          })\n        })\n      else if (this.length == 1) result = $(zepto.qsa(this[0], selector))\n      else result = this.map(function(){ return zepto.qsa(this, selector) })\n      return result\n    },\n    closest: function(selector, context){\n      var nodes = [], collection = typeof selector == 'object' && $(selector)\n      this.each(function(_, node){\n        while (node && !(collection ? collection.indexOf(node) >= 0 : zepto.matches(node, selector)))\n          node = node !== context && !isDocument(node) && node.parentNode\n        if (node && nodes.indexOf(node) < 0) nodes.push(node)\n      })\n      return $(nodes)\n    },\n    parents: function(selector){\n      var ancestors = [], nodes = this\n      while (nodes.length > 0)\n        nodes = $.map(nodes, function(node){\n          if ((node = node.parentNode) && !isDocument(node) && ancestors.indexOf(node) < 0) {\n            ancestors.push(node)\n            return node\n          }\n        })\n      return filtered(ancestors, selector)\n    },\n    parent: function(selector){\n      return filtered(uniq(this.pluck('parentNode')), selector)\n    },\n    children: function(selector){\n      return filtered(this.map(function(){ return children(this) }), selector)\n    },\n    contents: function() {\n      return this.map(function() { return this.contentDocument || slice.call(this.childNodes) })\n    },\n    siblings: function(selector){\n      return filtered(this.map(function(i, el){\n        return filter.call(children(el.parentNode), function(child){ return child!==el })\n      }), selector)\n    },\n    empty: function(){\n      return this.each(function(){ this.innerHTML = '' })\n    },\n    // `pluck` is borrowed from Prototype.js\n    pluck: function(property){\n      return $.map(this, function(el){ return el[property] })\n    },\n    show: function(){\n      return this.each(function(){\n        this.style.display == \"none\" && (this.style.display = '')\n        if (getComputedStyle(this, '').getPropertyValue(\"display\") == \"none\")\n          this.style.display = defaultDisplay(this.nodeName)\n      })\n    },\n    replaceWith: function(newContent){\n      return this.before(newContent).remove()\n    },\n    wrap: function(structure){\n      var func = isFunction(structure)\n      if (this[0] && !func)\n        var dom   = $(structure).get(0),\n            clone = dom.parentNode || this.length > 1\n\n      return this.each(function(index){\n        $(this).wrapAll(\n          func ? structure.call(this, index) :\n            clone ? dom.cloneNode(true) : dom\n        )\n      })\n    },\n    wrapAll: function(structure){\n      if (this[0]) {\n        $(this[0]).before(structure = $(structure))\n        var children\n        // drill down to the inmost element\n        while ((children = structure.children()).length) structure = children.first()\n        $(structure).append(this)\n      }\n      return this\n    },\n    wrapInner: function(structure){\n      var func = isFunction(structure)\n      return this.each(function(index){\n        var self = $(this), contents = self.contents(),\n            dom  = func ? structure.call(this, index) : structure\n        contents.length ? contents.wrapAll(dom) : self.append(dom)\n      })\n    },\n    unwrap: function(){\n      this.parent().each(function(){\n        $(this).replaceWith($(this).children())\n      })\n      return this\n    },\n    clone: function(){\n      return this.map(function(){ return this.cloneNode(true) })\n    },\n    hide: function(){\n      return this.css(\"display\", \"none\")\n    },\n    toggle: function(setting){\n      return this.each(function(){\n        var el = $(this)\n        ;(setting === undefined ? el.css(\"display\") == \"none\" : setting) ? el.show() : el.hide()\n      })\n    },\n    prev: function(selector){ return $(this.pluck('previousElementSibling')).filter(selector || '*') },\n    next: function(selector){ return $(this.pluck('nextElementSibling')).filter(selector || '*') },\n    html: function(html){\n      return 0 in arguments ?\n        this.each(function(idx){\n          var originHtml = this.innerHTML\n          $(this).empty().append( funcArg(this, html, idx, originHtml) )\n        }) :\n        (0 in this ? this[0].innerHTML : null)\n    },\n    text: function(text){\n      return 0 in arguments ?\n        this.each(function(idx){\n          var newText = funcArg(this, text, idx, this.textContent)\n          this.textContent = newText == null ? '' : ''+newText\n        }) :\n        (0 in this ? this.pluck('textContent').join(\"\") : null)\n    },\n    attr: function(name, value){\n      var result\n      return (typeof name == 'string' && !(1 in arguments)) ?\n        (0 in this && this[0].nodeType == 1 && (result = this[0].getAttribute(name)) != null ? result : undefined) :\n        this.each(function(idx){\n          if (this.nodeType !== 1) return\n          if (isObject(name)) for (key in name) setAttribute(this, key, name[key])\n          else setAttribute(this, name, funcArg(this, value, idx, this.getAttribute(name)))\n        })\n    },\n    removeAttr: function(name){\n      return this.each(function(){ this.nodeType === 1 && name.split(' ').forEach(function(attribute){\n        setAttribute(this, attribute)\n      }, this)})\n    },\n    prop: function(name, value){\n      name = propMap[name] || name\n      return (1 in arguments) ?\n        this.each(function(idx){\n          this[name] = funcArg(this, value, idx, this[name])\n        }) :\n        (this[0] && this[0][name])\n    },\n    removeProp: function(name){\n      name = propMap[name] || name\n      return this.each(function(){ delete this[name] })\n    },\n    data: function(name, value){\n      var attrName = 'data-' + name.replace(capitalRE, '-$1').toLowerCase()\n\n      var data = (1 in arguments) ?\n        this.attr(attrName, value) :\n        this.attr(attrName)\n\n      return data !== null ? deserializeValue(data) : undefined\n    },\n    val: function(value){\n      if (0 in arguments) {\n        if (value == null) value = \"\"\n        return this.each(function(idx){\n          this.value = funcArg(this, value, idx, this.value)\n        })\n      } else {\n        return this[0] && (this[0].multiple ?\n           $(this[0]).find('option').filter(function(){ return this.selected }).pluck('value') :\n           this[0].value)\n      }\n    },\n    offset: function(coordinates){\n      if (coordinates) return this.each(function(index){\n        var $this = $(this),\n            coords = funcArg(this, coordinates, index, $this.offset()),\n            parentOffset = $this.offsetParent().offset(),\n            props = {\n              top:  coords.top  - parentOffset.top,\n              left: coords.left - parentOffset.left\n            }\n\n        if ($this.css('position') == 'static') props['position'] = 'relative'\n        $this.css(props)\n      })\n      if (!this.length) return null\n      if (document.documentElement !== this[0] && !$.contains(document.documentElement, this[0]))\n        return {top: 0, left: 0}\n      var obj = this[0].getBoundingClientRect()\n      return {\n        left: obj.left + window.pageXOffset,\n        top: obj.top + window.pageYOffset,\n        width: Math.round(obj.width),\n        height: Math.round(obj.height)\n      }\n    },\n    css: function(property, value){\n      if (arguments.length < 2) {\n        var element = this[0]\n        if (typeof property == 'string') {\n          if (!element) return\n          return element.style[camelize(property)] || getComputedStyle(element, '').getPropertyValue(property)\n        } else if (isArray(property)) {\n          if (!element) return\n          var props = {}\n          var computedStyle = getComputedStyle(element, '')\n          $.each(property, function(_, prop){\n            props[prop] = (element.style[camelize(prop)] || computedStyle.getPropertyValue(prop))\n          })\n          return props\n        }\n      }\n\n      var css = ''\n      if (type(property) == 'string') {\n        if (!value && value !== 0)\n          this.each(function(){ this.style.removeProperty(dasherize(property)) })\n        else\n          css = dasherize(property) + \":\" + maybeAddPx(property, value)\n      } else {\n        for (key in property)\n          if (!property[key] && property[key] !== 0)\n            this.each(function(){ this.style.removeProperty(dasherize(key)) })\n          else\n            css += dasherize(key) + ':' + maybeAddPx(key, property[key]) + ';'\n      }\n\n      return this.each(function(){ this.style.cssText += ';' + css })\n    },\n    index: function(element){\n      return element ? this.indexOf($(element)[0]) : this.parent().children().indexOf(this[0])\n    },\n    hasClass: function(name){\n      if (!name) return false\n      return emptyArray.some.call(this, function(el){\n        return this.test(className(el))\n      }, classRE(name))\n    },\n    addClass: function(name){\n      if (!name) return this\n      return this.each(function(idx){\n        if (!('className' in this)) return\n        classList = []\n        var cls = className(this), newName = funcArg(this, name, idx, cls)\n        newName.split(/\\s+/g).forEach(function(klass){\n          if (!$(this).hasClass(klass)) classList.push(klass)\n        }, this)\n        classList.length && className(this, cls + (cls ? \" \" : \"\") + classList.join(\" \"))\n      })\n    },\n    removeClass: function(name){\n      return this.each(function(idx){\n        if (!('className' in this)) return\n        if (name === undefined) return className(this, '')\n        classList = className(this)\n        funcArg(this, name, idx, classList).split(/\\s+/g).forEach(function(klass){\n          classList = classList.replace(classRE(klass), \" \")\n        })\n        className(this, classList.trim())\n      })\n    },\n    toggleClass: function(name, when){\n      if (!name) return this\n      return this.each(function(idx){\n        var $this = $(this), names = funcArg(this, name, idx, className(this))\n        names.split(/\\s+/g).forEach(function(klass){\n          (when === undefined ? !$this.hasClass(klass) : when) ?\n            $this.addClass(klass) : $this.removeClass(klass)\n        })\n      })\n    },\n    scrollTop: function(value){\n      if (!this.length) return\n      var hasScrollTop = 'scrollTop' in this[0]\n      if (value === undefined) return hasScrollTop ? this[0].scrollTop : this[0].pageYOffset\n      return this.each(hasScrollTop ?\n        function(){ this.scrollTop = value } :\n        function(){ this.scrollTo(this.scrollX, value) })\n    },\n    scrollLeft: function(value){\n      if (!this.length) return\n      var hasScrollLeft = 'scrollLeft' in this[0]\n      if (value === undefined) return hasScrollLeft ? this[0].scrollLeft : this[0].pageXOffset\n      return this.each(hasScrollLeft ?\n        function(){ this.scrollLeft = value } :\n        function(){ this.scrollTo(value, this.scrollY) })\n    },\n    position: function() {\n      if (!this.length) return\n\n      var elem = this[0],\n        // Get *real* offsetParent\n        offsetParent = this.offsetParent(),\n        // Get correct offsets\n        offset       = this.offset(),\n        parentOffset = rootNodeRE.test(offsetParent[0].nodeName) ? { top: 0, left: 0 } : offsetParent.offset()\n\n      // Subtract element margins\n      // note: when an element has margin: auto the offsetLeft and marginLeft\n      // are the same in Safari causing offset.left to incorrectly be 0\n      offset.top  -= parseFloat( $(elem).css('margin-top') ) || 0\n      offset.left -= parseFloat( $(elem).css('margin-left') ) || 0\n\n      // Add offsetParent borders\n      parentOffset.top  += parseFloat( $(offsetParent[0]).css('border-top-width') ) || 0\n      parentOffset.left += parseFloat( $(offsetParent[0]).css('border-left-width') ) || 0\n\n      // Subtract the two offsets\n      return {\n        top:  offset.top  - parentOffset.top,\n        left: offset.left - parentOffset.left\n      }\n    },\n    offsetParent: function() {\n      return this.map(function(){\n        var parent = this.offsetParent || document.body\n        while (parent && !rootNodeRE.test(parent.nodeName) && $(parent).css(\"position\") == \"static\")\n          parent = parent.offsetParent\n        return parent\n      })\n    }\n  }\n\n  // for now\n  $.fn.detach = $.fn.remove\n\n  // Generate the `width` and `height` functions\n  ;['width', 'height'].forEach(function(dimension){\n    var dimensionProperty =\n      dimension.replace(/./, function(m){ return m[0].toUpperCase() })\n\n    $.fn[dimension] = function(value){\n      var offset, el = this[0]\n      if (value === undefined) return isWindow(el) ? el['inner' + dimensionProperty] :\n        isDocument(el) ? el.documentElement['scroll' + dimensionProperty] :\n        (offset = this.offset()) && offset[dimension]\n      else return this.each(function(idx){\n        el = $(this)\n        el.css(dimension, funcArg(this, value, idx, el[dimension]()))\n      })\n    }\n  })\n\n  function traverseNode(node, fun) {\n    fun(node)\n    for (var i = 0, len = node.childNodes.length; i < len; i++)\n      traverseNode(node.childNodes[i], fun)\n  }\n\n  // Generate the `after`, `prepend`, `before`, `append`,\n  // `insertAfter`, `insertBefore`, `appendTo`, and `prependTo` methods.\n  adjacencyOperators.forEach(function(operator, operatorIndex) {\n    var inside = operatorIndex % 2 //=> prepend, append\n\n    $.fn[operator] = function(){\n      // arguments can be nodes, arrays of nodes, Zepto objects and HTML strings\n      var argType, nodes = $.map(arguments, function(arg) {\n            var arr = []\n            argType = type(arg)\n            if (argType == \"array\") {\n              arg.forEach(function(el) {\n                if (el.nodeType !== undefined) return arr.push(el)\n                else if ($.zepto.isZ(el)) return arr = arr.concat(el.get())\n                arr = arr.concat(zepto.fragment(el))\n              })\n              return arr\n            }\n            return argType == \"object\" || arg == null ?\n              arg : zepto.fragment(arg)\n          }),\n          parent, copyByClone = this.length > 1\n      if (nodes.length < 1) return this\n\n      return this.each(function(_, target){\n        parent = inside ? target : target.parentNode\n\n        // convert all methods to a \"before\" operation\n        target = operatorIndex == 0 ? target.nextSibling :\n                 operatorIndex == 1 ? target.firstChild :\n                 operatorIndex == 2 ? target :\n                 null\n\n        var parentInDocument = $.contains(document.documentElement, parent)\n\n        nodes.forEach(function(node){\n          if (copyByClone) node = node.cloneNode(true)\n          else if (!parent) return $(node).remove()\n\n          parent.insertBefore(node, target)\n          if (parentInDocument) traverseNode(node, function(el){\n            if (el.nodeName != null && el.nodeName.toUpperCase() === 'SCRIPT' &&\n               (!el.type || el.type === 'text/javascript') && !el.src){\n              var target = el.ownerDocument ? el.ownerDocument.defaultView : window\n              target['eval'].call(target, el.innerHTML)\n            }\n          })\n        })\n      })\n    }\n\n    // after    => insertAfter\n    // prepend  => prependTo\n    // before   => insertBefore\n    // append   => appendTo\n    $.fn[inside ? operator+'To' : 'insert'+(operatorIndex ? 'Before' : 'After')] = function(html){\n      $(html)[operator](this)\n      return this\n    }\n  })\n\n  zepto.Z.prototype = Z.prototype = $.fn\n\n  // Export internal API functions in the `$.zepto` namespace\n  zepto.uniq = uniq\n  zepto.deserializeValue = deserializeValue\n  $.zepto = zepto\n\n  return $\n})()\n\nwindow.Zepto = Zepto\nwindow.$ === undefined && (window.$ = Zepto)\n\n;(function($){\n  var _zid = 1, undefined,\n      slice = Array.prototype.slice,\n      isFunction = $.isFunction,\n      isString = function(obj){ return typeof obj == 'string' },\n      handlers = {},\n      specialEvents={},\n      focusinSupported = 'onfocusin' in window,\n      focus = { focus: 'focusin', blur: 'focusout' },\n      hover = { mouseenter: 'mouseover', mouseleave: 'mouseout' }\n\n  specialEvents.click = specialEvents.mousedown = specialEvents.mouseup = specialEvents.mousemove = 'MouseEvents'\n\n  function zid(element) {\n    return element._zid || (element._zid = _zid++)\n  }\n  function findHandlers(element, event, fn, selector) {\n    event = parse(event)\n    if (event.ns) var matcher = matcherFor(event.ns)\n    return (handlers[zid(element)] || []).filter(function(handler) {\n      return handler\n        && (!event.e  || handler.e == event.e)\n        && (!event.ns || matcher.test(handler.ns))\n        && (!fn       || zid(handler.fn) === zid(fn))\n        && (!selector || handler.sel == selector)\n    })\n  }\n  function parse(event) {\n    var parts = ('' + event).split('.')\n    return {e: parts[0], ns: parts.slice(1).sort().join(' ')}\n  }\n  function matcherFor(ns) {\n    return new RegExp('(?:^| )' + ns.replace(' ', ' .* ?') + '(?: |$)')\n  }\n\n  function eventCapture(handler, captureSetting) {\n    return handler.del &&\n      (!focusinSupported && (handler.e in focus)) ||\n      !!captureSetting\n  }\n\n  function realEvent(type) {\n    return hover[type] || (focusinSupported && focus[type]) || type\n  }\n\n  function add(element, events, fn, data, selector, delegator, capture){\n    var id = zid(element), set = (handlers[id] || (handlers[id] = []))\n    events.split(/\\s/).forEach(function(event){\n      if (event == 'ready') return $(document).ready(fn)\n      var handler   = parse(event)\n      handler.fn    = fn\n      handler.sel   = selector\n      // emulate mouseenter, mouseleave\n      if (handler.e in hover) fn = function(e){\n        var related = e.relatedTarget\n        if (!related || (related !== this && !$.contains(this, related)))\n          return handler.fn.apply(this, arguments)\n      }\n      handler.del   = delegator\n      var callback  = delegator || fn\n      handler.proxy = function(e){\n        e = compatible(e)\n        if (e.isImmediatePropagationStopped()) return\n        e.data = data\n        var result = callback.apply(element, e._args == undefined ? [e] : [e].concat(e._args))\n        if (result === false) e.preventDefault(), e.stopPropagation()\n        return result\n      }\n      handler.i = set.length\n      set.push(handler)\n      if ('addEventListener' in element)\n        element.addEventListener(realEvent(handler.e), handler.proxy, eventCapture(handler, capture))\n    })\n  }\n  function remove(element, events, fn, selector, capture){\n    var id = zid(element)\n    ;(events || '').split(/\\s/).forEach(function(event){\n      findHandlers(element, event, fn, selector).forEach(function(handler){\n        delete handlers[id][handler.i]\n      if ('removeEventListener' in element)\n        element.removeEventListener(realEvent(handler.e), handler.proxy, eventCapture(handler, capture))\n      })\n    })\n  }\n\n  $.event = { add: add, remove: remove }\n\n  $.proxy = function(fn, context) {\n    var args = (2 in arguments) && slice.call(arguments, 2)\n    if (isFunction(fn)) {\n      var proxyFn = function(){ return fn.apply(context, args ? args.concat(slice.call(arguments)) : arguments) }\n      proxyFn._zid = zid(fn)\n      return proxyFn\n    } else if (isString(context)) {\n      if (args) {\n        args.unshift(fn[context], fn)\n        return $.proxy.apply(null, args)\n      } else {\n        return $.proxy(fn[context], fn)\n      }\n    } else {\n      throw new TypeError(\"expected function\")\n    }\n  }\n\n  $.fn.bind = function(event, data, callback){\n    return this.on(event, data, callback)\n  }\n  $.fn.unbind = function(event, callback){\n    return this.off(event, callback)\n  }\n  $.fn.one = function(event, selector, data, callback){\n    return this.on(event, selector, data, callback, 1)\n  }\n\n  var returnTrue = function(){return true},\n      returnFalse = function(){return false},\n      ignoreProperties = /^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,\n      eventMethods = {\n        preventDefault: 'isDefaultPrevented',\n        stopImmediatePropagation: 'isImmediatePropagationStopped',\n        stopPropagation: 'isPropagationStopped'\n      }\n\n  function compatible(event, source) {\n    if (source || !event.isDefaultPrevented) {\n      source || (source = event)\n\n      $.each(eventMethods, function(name, predicate) {\n        var sourceMethod = source[name]\n        event[name] = function(){\n          this[predicate] = returnTrue\n          return sourceMethod && sourceMethod.apply(source, arguments)\n        }\n        event[predicate] = returnFalse\n      })\n\n      event.timeStamp || (event.timeStamp = Date.now())\n\n      if (source.defaultPrevented !== undefined ? source.defaultPrevented :\n          'returnValue' in source ? source.returnValue === false :\n          source.getPreventDefault && source.getPreventDefault())\n        event.isDefaultPrevented = returnTrue\n    }\n    return event\n  }\n\n  function createProxy(event) {\n    var key, proxy = { originalEvent: event }\n    for (key in event)\n      if (!ignoreProperties.test(key) && event[key] !== undefined) proxy[key] = event[key]\n\n    return compatible(proxy, event)\n  }\n\n  $.fn.delegate = function(selector, event, callback){\n    return this.on(event, selector, callback)\n  }\n  $.fn.undelegate = function(selector, event, callback){\n    return this.off(event, selector, callback)\n  }\n\n  $.fn.live = function(event, callback){\n    $(document.body).delegate(this.selector, event, callback)\n    return this\n  }\n  $.fn.die = function(event, callback){\n    $(document.body).undelegate(this.selector, event, callback)\n    return this\n  }\n\n  $.fn.on = function(event, selector, data, callback, one){\n    var autoRemove, delegator, $this = this\n    if (event && !isString(event)) {\n      $.each(event, function(type, fn){\n        $this.on(type, selector, data, fn, one)\n      })\n      return $this\n    }\n\n    if (!isString(selector) && !isFunction(callback) && callback !== false)\n      callback = data, data = selector, selector = undefined\n    if (callback === undefined || data === false)\n      callback = data, data = undefined\n\n    if (callback === false) callback = returnFalse\n\n    return $this.each(function(_, element){\n      if (one) autoRemove = function(e){\n        remove(element, e.type, callback)\n        return callback.apply(this, arguments)\n      }\n\n      if (selector) delegator = function(e){\n        var evt, match = $(e.target).closest(selector, element).get(0)\n        if (match && match !== element) {\n          evt = $.extend(createProxy(e), {currentTarget: match, liveFired: element})\n          return (autoRemove || callback).apply(match, [evt].concat(slice.call(arguments, 1)))\n        }\n      }\n\n      add(element, event, callback, data, selector, delegator || autoRemove)\n    })\n  }\n  $.fn.off = function(event, selector, callback){\n    var $this = this\n    if (event && !isString(event)) {\n      $.each(event, function(type, fn){\n        $this.off(type, selector, fn)\n      })\n      return $this\n    }\n\n    if (!isString(selector) && !isFunction(callback) && callback !== false)\n      callback = selector, selector = undefined\n\n    if (callback === false) callback = returnFalse\n\n    return $this.each(function(){\n      remove(this, event, callback, selector)\n    })\n  }\n\n  $.fn.trigger = function(event, args){\n    event = (isString(event) || $.isPlainObject(event)) ? $.Event(event) : compatible(event)\n    event._args = args\n    return this.each(function(){\n      // handle focus(), blur() by calling them directly\n      if (event.type in focus && typeof this[event.type] == \"function\") this[event.type]()\n      // items in the collection might not be DOM elements\n      else if ('dispatchEvent' in this) this.dispatchEvent(event)\n      else $(this).triggerHandler(event, args)\n    })\n  }\n\n  // triggers event handlers on current element just as if an event occurred,\n  // doesn't trigger an actual event, doesn't bubble\n  $.fn.triggerHandler = function(event, args){\n    var e, result\n    this.each(function(i, element){\n      e = createProxy(isString(event) ? $.Event(event) : event)\n      e._args = args\n      e.target = element\n      $.each(findHandlers(element, event.type || event), function(i, handler){\n        result = handler.proxy(e)\n        if (e.isImmediatePropagationStopped()) return false\n      })\n    })\n    return result\n  }\n\n  // shortcut methods for `.bind(event, fn)` for each event type\n  ;('focusin focusout focus blur load resize scroll unload click dblclick '+\n  'mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave '+\n  'change select keydown keypress keyup error').split(' ').forEach(function(event) {\n    $.fn[event] = function(callback) {\n      return (0 in arguments) ?\n        this.bind(event, callback) :\n        this.trigger(event)\n    }\n  })\n\n  $.Event = function(type, props) {\n    if (!isString(type)) props = type, type = props.type\n    var event = document.createEvent(specialEvents[type] || 'Events'), bubbles = true\n    if (props) for (var name in props) (name == 'bubbles') ? (bubbles = !!props[name]) : (event[name] = props[name])\n    event.initEvent(type, bubbles, true)\n    return compatible(event)\n  }\n\n})(Zepto)\n\n;(function($){\n  var jsonpID = +new Date(),\n      document = window.document,\n      key,\n      name,\n      rscript = /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi,\n      scriptTypeRE = /^(?:text|application)\\/javascript/i,\n      xmlTypeRE = /^(?:text|application)\\/xml/i,\n      jsonType = 'application/json',\n      htmlType = 'text/html',\n      blankRE = /^\\s*$/,\n      originAnchor = document.createElement('a')\n\n  originAnchor.href = window.location.href\n\n  // trigger a custom event and return false if it was cancelled\n  function triggerAndReturn(context, eventName, data) {\n    var event = $.Event(eventName)\n    $(context).trigger(event, data)\n    return !event.isDefaultPrevented()\n  }\n\n  // trigger an Ajax \"global\" event\n  function triggerGlobal(settings, context, eventName, data) {\n    if (settings.global) return triggerAndReturn(context || document, eventName, data)\n  }\n\n  // Number of active Ajax requests\n  $.active = 0\n\n  function ajaxStart(settings) {\n    if (settings.global && $.active++ === 0) triggerGlobal(settings, null, 'ajaxStart')\n  }\n  function ajaxStop(settings) {\n    if (settings.global && !(--$.active)) triggerGlobal(settings, null, 'ajaxStop')\n  }\n\n  // triggers an extra global event \"ajaxBeforeSend\" that's like \"ajaxSend\" but cancelable\n  function ajaxBeforeSend(xhr, settings) {\n    var context = settings.context\n    if (settings.beforeSend.call(context, xhr, settings) === false ||\n        triggerGlobal(settings, context, 'ajaxBeforeSend', [xhr, settings]) === false)\n      return false\n\n    triggerGlobal(settings, context, 'ajaxSend', [xhr, settings])\n  }\n  function ajaxSuccess(data, xhr, settings, deferred) {\n    var context = settings.context, status = 'success'\n    settings.success.call(context, data, status, xhr)\n    if (deferred) deferred.resolveWith(context, [data, status, xhr])\n    triggerGlobal(settings, context, 'ajaxSuccess', [xhr, settings, data])\n    ajaxComplete(status, xhr, settings)\n  }\n  // type: \"timeout\", \"error\", \"abort\", \"parsererror\"\n  function ajaxError(error, type, xhr, settings, deferred) {\n    var context = settings.context\n    settings.error.call(context, xhr, type, error)\n    if (deferred) deferred.rejectWith(context, [xhr, type, error])\n    triggerGlobal(settings, context, 'ajaxError', [xhr, settings, error || type])\n    ajaxComplete(type, xhr, settings)\n  }\n  // status: \"success\", \"notmodified\", \"error\", \"timeout\", \"abort\", \"parsererror\"\n  function ajaxComplete(status, xhr, settings) {\n    var context = settings.context\n    settings.complete.call(context, xhr, status)\n    triggerGlobal(settings, context, 'ajaxComplete', [xhr, settings])\n    ajaxStop(settings)\n  }\n\n  function ajaxDataFilter(data, type, settings) {\n    if (settings.dataFilter == empty) return data\n    var context = settings.context\n    return settings.dataFilter.call(context, data, type)\n  }\n\n  // Empty function, used as default callback\n  function empty() {}\n\n  $.ajaxJSONP = function(options, deferred){\n    if (!('type' in options)) return $.ajax(options)\n\n    var _callbackName = options.jsonpCallback,\n      callbackName = ($.isFunction(_callbackName) ?\n        _callbackName() : _callbackName) || ('Zepto' + (jsonpID++)),\n      script = document.createElement('script'),\n      originalCallback = window[callbackName],\n      responseData,\n      abort = function(errorType) {\n        $(script).triggerHandler('error', errorType || 'abort')\n      },\n      xhr = { abort: abort }, abortTimeout\n\n    if (deferred) deferred.promise(xhr)\n\n    $(script).on('load error', function(e, errorType){\n      clearTimeout(abortTimeout)\n      $(script).off().remove()\n\n      if (e.type == 'error' || !responseData) {\n        ajaxError(null, errorType || 'error', xhr, options, deferred)\n      } else {\n        ajaxSuccess(responseData[0], xhr, options, deferred)\n      }\n\n      window[callbackName] = originalCallback\n      if (responseData && $.isFunction(originalCallback))\n        originalCallback(responseData[0])\n\n      originalCallback = responseData = undefined\n    })\n\n    if (ajaxBeforeSend(xhr, options) === false) {\n      abort('abort')\n      return xhr\n    }\n\n    window[callbackName] = function(){\n      responseData = arguments\n    }\n\n    script.src = options.url.replace(/\\?(.+)=\\?/, '?$1=' + callbackName)\n    document.head.appendChild(script)\n\n    if (options.timeout > 0) abortTimeout = setTimeout(function(){\n      abort('timeout')\n    }, options.timeout)\n\n    return xhr\n  }\n\n  $.ajaxSettings = {\n    // Default type of request\n    type: 'GET',\n    // Callback that is executed before request\n    beforeSend: empty,\n    // Callback that is executed if the request succeeds\n    success: empty,\n    // Callback that is executed the the server drops error\n    error: empty,\n    // Callback that is executed on request complete (both: error and success)\n    complete: empty,\n    // The context for the callbacks\n    context: null,\n    // Whether to trigger \"global\" Ajax events\n    global: true,\n    // Transport\n    xhr: function () {\n      return new window.XMLHttpRequest()\n    },\n    // MIME types mapping\n    // IIS returns Javascript as \"application/x-javascript\"\n    accepts: {\n      script: 'text/javascript, application/javascript, application/x-javascript',\n      json:   jsonType,\n      xml:    'application/xml, text/xml',\n      html:   htmlType,\n      text:   'text/plain'\n    },\n    // Whether the request is to another domain\n    crossDomain: false,\n    // Default timeout\n    timeout: 0,\n    // Whether data should be serialized to string\n    processData: true,\n    // Whether the browser should be allowed to cache GET responses\n    cache: true,\n    //Used to handle the raw response data of XMLHttpRequest.\n    //This is a pre-filtering function to sanitize the response.\n    //The sanitized response should be returned\n    dataFilter: empty\n  }\n\n  function mimeToDataType(mime) {\n    if (mime) mime = mime.split(';', 2)[0]\n    return mime && ( mime == htmlType ? 'html' :\n      mime == jsonType ? 'json' :\n      scriptTypeRE.test(mime) ? 'script' :\n      xmlTypeRE.test(mime) && 'xml' ) || 'text'\n  }\n\n  function appendQuery(url, query) {\n    if (query == '') return url\n    return (url + '&' + query).replace(/[&?]{1,2}/, '?')\n  }\n\n  // serialize payload and append it to the URL for GET requests\n  function serializeData(options) {\n    if (options.processData && options.data && $.type(options.data) != \"string\")\n      options.data = $.param(options.data, options.traditional)\n    if (options.data && (!options.type || options.type.toUpperCase() == 'GET' || 'jsonp' == options.dataType))\n      options.url = appendQuery(options.url, options.data), options.data = undefined\n  }\n\n  $.ajax = function(options){\n    var settings = $.extend({}, options || {}),\n        deferred = $.Deferred && $.Deferred(),\n        urlAnchor, hashIndex\n    for (key in $.ajaxSettings) if (settings[key] === undefined) settings[key] = $.ajaxSettings[key]\n\n    ajaxStart(settings)\n\n    if (!settings.crossDomain) {\n      urlAnchor = document.createElement('a')\n      urlAnchor.href = settings.url\n      // cleans up URL for .href (IE only), see https://github.com/madrobby/zepto/pull/1049\n      urlAnchor.href = urlAnchor.href\n      settings.crossDomain = (originAnchor.protocol + '//' + originAnchor.host) !== (urlAnchor.protocol + '//' + urlAnchor.host)\n    }\n\n    if (!settings.url) settings.url = window.location.toString()\n    if ((hashIndex = settings.url.indexOf('#')) > -1) settings.url = settings.url.slice(0, hashIndex)\n    serializeData(settings)\n\n    var dataType = settings.dataType, hasPlaceholder = /\\?.+=\\?/.test(settings.url)\n    if (hasPlaceholder) dataType = 'jsonp'\n\n    if (settings.cache === false || (\n         (!options || options.cache !== true) &&\n         ('script' == dataType || 'jsonp' == dataType)\n        ))\n      settings.url = appendQuery(settings.url, '_=' + Date.now())\n\n    if ('jsonp' == dataType) {\n      if (!hasPlaceholder)\n        settings.url = appendQuery(settings.url,\n          settings.jsonp ? (settings.jsonp + '=?') : settings.jsonp === false ? '' : 'callback=?')\n      return $.ajaxJSONP(settings, deferred)\n    }\n\n    var mime = settings.accepts[dataType],\n        headers = { },\n        setHeader = function(name, value) { headers[name.toLowerCase()] = [name, value] },\n        protocol = /^([\\w-]+:)\\/\\//.test(settings.url) ? RegExp.$1 : window.location.protocol,\n        xhr = settings.xhr(),\n        nativeSetHeader = xhr.setRequestHeader,\n        abortTimeout\n\n    if (deferred) deferred.promise(xhr)\n\n    if (!settings.crossDomain) setHeader('X-Requested-With', 'XMLHttpRequest')\n    setHeader('Accept', mime || '*/*')\n    if (mime = settings.mimeType || mime) {\n      if (mime.indexOf(',') > -1) mime = mime.split(',', 2)[0]\n      xhr.overrideMimeType && xhr.overrideMimeType(mime)\n    }\n    if (settings.contentType || (settings.contentType !== false && settings.data && settings.type.toUpperCase() != 'GET'))\n      setHeader('Content-Type', settings.contentType || 'application/x-www-form-urlencoded')\n\n    if (settings.headers) for (name in settings.headers) setHeader(name, settings.headers[name])\n    xhr.setRequestHeader = setHeader\n\n    xhr.onreadystatechange = function(){\n      if (xhr.readyState == 4) {\n        xhr.onreadystatechange = empty\n        clearTimeout(abortTimeout)\n        var result, error = false\n        if ((xhr.status >= 200 && xhr.status < 300) || xhr.status == 304 || (xhr.status == 0 && protocol == 'file:')) {\n          dataType = dataType || mimeToDataType(settings.mimeType || xhr.getResponseHeader('content-type'))\n\n          if (xhr.responseType == 'arraybuffer' || xhr.responseType == 'blob')\n            result = xhr.response\n          else {\n            result = xhr.responseText\n\n            try {\n              // http://perfectionkills.com/global-eval-what-are-the-options/\n              // sanitize response accordingly if data filter callback provided\n              result = ajaxDataFilter(result, dataType, settings)\n              if (dataType == 'script')    (1,eval)(result)\n              else if (dataType == 'xml')  result = xhr.responseXML\n              else if (dataType == 'json') result = blankRE.test(result) ? null : $.parseJSON(result)\n            } catch (e) { error = e }\n\n            if (error) return ajaxError(error, 'parsererror', xhr, settings, deferred)\n          }\n\n          ajaxSuccess(result, xhr, settings, deferred)\n        } else {\n          ajaxError(xhr.statusText || null, xhr.status ? 'error' : 'abort', xhr, settings, deferred)\n        }\n      }\n    }\n\n    if (ajaxBeforeSend(xhr, settings) === false) {\n      xhr.abort()\n      ajaxError(null, 'abort', xhr, settings, deferred)\n      return xhr\n    }\n\n    var async = 'async' in settings ? settings.async : true\n    xhr.open(settings.type, settings.url, async, settings.username, settings.password)\n\n    if (settings.xhrFields) for (name in settings.xhrFields) xhr[name] = settings.xhrFields[name]\n\n    for (name in headers) nativeSetHeader.apply(xhr, headers[name])\n\n    if (settings.timeout > 0) abortTimeout = setTimeout(function(){\n        xhr.onreadystatechange = empty\n        xhr.abort()\n        ajaxError(null, 'timeout', xhr, settings, deferred)\n      }, settings.timeout)\n\n    // avoid sending empty string (#319)\n    xhr.send(settings.data ? settings.data : null)\n    return xhr\n  }\n\n  // handle optional data/success arguments\n  function parseArguments(url, data, success, dataType) {\n    if ($.isFunction(data)) dataType = success, success = data, data = undefined\n    if (!$.isFunction(success)) dataType = success, success = undefined\n    return {\n      url: url\n    , data: data\n    , success: success\n    , dataType: dataType\n    }\n  }\n\n  $.get = function(/* url, data, success, dataType */){\n    return $.ajax(parseArguments.apply(null, arguments))\n  }\n\n  $.post = function(/* url, data, success, dataType */){\n    var options = parseArguments.apply(null, arguments)\n    options.type = 'POST'\n    return $.ajax(options)\n  }\n\n  $.getJSON = function(/* url, data, success */){\n    var options = parseArguments.apply(null, arguments)\n    options.dataType = 'json'\n    return $.ajax(options)\n  }\n\n  $.fn.load = function(url, data, success){\n    if (!this.length) return this\n    var self = this, parts = url.split(/\\s/), selector,\n        options = parseArguments(url, data, success),\n        callback = options.success\n    if (parts.length > 1) options.url = parts[0], selector = parts[1]\n    options.success = function(response){\n      self.html(selector ?\n        $('<div>').html(response.replace(rscript, \"\")).find(selector)\n        : response)\n      callback && callback.apply(self, arguments)\n    }\n    $.ajax(options)\n    return this\n  }\n\n  var escape = encodeURIComponent\n\n  function serialize(params, obj, traditional, scope){\n    var type, array = $.isArray(obj), hash = $.isPlainObject(obj)\n    $.each(obj, function(key, value) {\n      type = $.type(value)\n      if (scope) key = traditional ? scope :\n        scope + '[' + (hash || type == 'object' || type == 'array' ? key : '') + ']'\n      // handle data in serializeArray() format\n      if (!scope && array) params.add(value.name, value.value)\n      // recurse into nested objects\n      else if (type == \"array\" || (!traditional && type == \"object\"))\n        serialize(params, value, traditional, key)\n      else params.add(key, value)\n    })\n  }\n\n  $.param = function(obj, traditional){\n    var params = []\n    params.add = function(key, value) {\n      if ($.isFunction(value)) value = value()\n      if (value == null) value = \"\"\n      this.push(escape(key) + '=' + escape(value))\n    }\n    serialize(params, obj, traditional)\n    return params.join('&').replace(/%20/g, '+')\n  }\n})(Zepto)\n\n;(function($){\n  $.fn.serializeArray = function() {\n    var name, type, result = [],\n      add = function(value) {\n        if (value.forEach) return value.forEach(add)\n        result.push({ name: name, value: value })\n      }\n    if (this[0]) $.each(this[0].elements, function(_, field){\n      type = field.type, name = field.name\n      if (name && field.nodeName.toLowerCase() != 'fieldset' &&\n        !field.disabled && type != 'submit' && type != 'reset' && type != 'button' && type != 'file' &&\n        ((type != 'radio' && type != 'checkbox') || field.checked))\n          add($(field).val())\n    })\n    return result\n  }\n\n  $.fn.serialize = function(){\n    var result = []\n    this.serializeArray().forEach(function(elm){\n      result.push(encodeURIComponent(elm.name) + '=' + encodeURIComponent(elm.value))\n    })\n    return result.join('&')\n  }\n\n  $.fn.submit = function(callback) {\n    if (0 in arguments) this.bind('submit', callback)\n    else if (this.length) {\n      var event = $.Event('submit')\n      this.eq(0).trigger(event)\n      if (!event.isDefaultPrevented()) this.get(0).submit()\n    }\n    return this\n  }\n\n})(Zepto)\n\n;(function(){\n  // getComputedStyle shouldn't freak out when called\n  // without a valid element as argument\n  try {\n    getComputedStyle(undefined)\n  } catch(e) {\n    var nativeGetComputedStyle = getComputedStyle\n    window.getComputedStyle = function(element, pseudoElement){\n      try {\n        return nativeGetComputedStyle(element, pseudoElement)\n      } catch(e) {\n        return null\n      }\n    }\n  }\n})()\n  return Zepto\n}))\n\n; browserify_shim__define__module__export__(typeof $ != \"undefined\" ? $ : window.$);\n\n}).call(global, undefined, undefined, undefined, undefined, function defineExport(ex) { module.exports = ex; });\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJkZXYvYXNzZXRzL2pzL2FwcC9BcHAuanMiLCJkZXYvYXNzZXRzL2pzL2FwcC9NYWluLmpzIiwiZGV2L2Fzc2V0cy9qcy9hcHAvZGVza3RvcC9hYnN0cmFjdHMvdmlld3MvQWJzdHJhY3RQYWdlVmlldy5qcyIsImRldi9hc3NldHMvanMvYXBwL2Rlc2t0b3AvY29udHJvbGxlcnMvUGFnZXNDb250cm9sbGVyLmpzIiwiZGV2L2Fzc2V0cy9qcy9hcHAvZGVza3RvcC9tb2RlbHMvQXNzZXRzLmpzIiwiZGV2L2Fzc2V0cy9qcy9hcHAvZGVza3RvcC92aWV3cy9NYWluVmlldy5qcyIsImRldi9hc3NldHMvanMvYXBwL2Rlc2t0b3Avdmlld3MvcGFnZXMvRXJyb3I0MDQuanMiLCJkZXYvYXNzZXRzL2pzL2FwcC9kZXNrdG9wL3ZpZXdzL3BhZ2VzL0hvbWUuanMiLCJkZXYvYXNzZXRzL2pzL2FwcC9kZXNrdG9wL3ZpZXdzL3BhZ2VzL0xlZ2FsTm90aWNlcy5qcyIsImRldi9hc3NldHMvanMvYXBwL2Rlc2t0b3Avdmlld3MvcGFnZXMvUHJvamVjdC5qcyIsImRldi9hc3NldHMvanMvYXBwL2Rlc2t0b3Avdmlld3MvcGFnZXMvUHJvamVjdHMuanMiLCJkZXYvYXNzZXRzL2pzL2FwcC9kZXNrdG9wL3ZpZXdzL3N0YXRpY3MvTWFpbkxvYWRlci5qcyIsImRldi9hc3NldHMvanMvYXBwL3NoYXJlZC9hYnN0cmFjdHMvY29udHJvbGxlcnMvQWJzdHJhY3RQYWdlc0NvbnRyb2xsZXIuanMiLCJkZXYvYXNzZXRzL2pzL2FwcC9zaGFyZWQvYWJzdHJhY3RzL3ZpZXdzL0Fic3RyYWN0TWFpbkxvYWRlci5qcyIsImRldi9hc3NldHMvanMvYXBwL3NoYXJlZC9hYnN0cmFjdHMvdmlld3MvQWJzdHJhY3RNYWluVmlldy5qcyIsImRldi9hc3NldHMvanMvYXBwL3NoYXJlZC9hYnN0cmFjdHMvdmlld3MvQWJzdHJhY3RWaWV3LmpzIiwiZGV2L2Fzc2V0cy9qcy9hcHAvc2hhcmVkL2NvbmZpZ3MvQ29uZmlnLmpzIiwiZGV2L2Fzc2V0cy9qcy9hcHAvc2hhcmVkL2NvbmZpZ3MvRGV2aWNlLmpzIiwiZGV2L2Fzc2V0cy9qcy9hcHAvc2hhcmVkL2NvbmZpZ3MvTGFuZy5qcyIsImRldi9hc3NldHMvanMvYXBwL3NoYXJlZC9jb25maWdzL1BhdGguanMiLCJkZXYvYXNzZXRzL2pzL2FwcC9zaGFyZWQvY29uZmlncy9Qcm9wcy5qcyIsImRldi9hc3NldHMvanMvYXBwL3NoYXJlZC9ldmVudHMvQ3VzdG9tRXZlbnQuanMiLCJkZXYvYXNzZXRzL2pzL2FwcC9zaGFyZWQvcm91dGVzL1JvdXRlci5qcyIsImRldi9hc3NldHMvanMvYXBwL3NoYXJlZC91dGlscy9EYXRHVUkuanMiLCJkZXYvYXNzZXRzL2pzL2FwcC9zaGFyZWQvdXRpbHMvRGVidWcuanMiLCJkZXYvYXNzZXRzL2pzL2FwcC9zaGFyZWQvdXRpbHMvRlBTU3RhdHMuanMiLCJkZXYvYXNzZXRzL2pzL2FwcC9zaGFyZWQvdXRpbHMvTWVtb3J5U3RhdHMuanMiLCJkZXYvYXNzZXRzL2pzL2FwcC9zaGFyZWQvdXRpbHMvU3RyaW5nLmpzIiwiZGV2L2Fzc2V0cy9qcy92ZW5kb3IvZGF0Lmd1aS5qcyIsImRldi9hc3NldHMvanMvdmVuZG9yL21lbW9yeS1zdGF0cy5qcyIsImRldi9hc3NldHMvanMvdmVuZG9yL3NpZ25hbHMuanMiLCJkZXYvYXNzZXRzL2pzL3ZlbmRvci9zdGF0cy5qcyIsImRldi9hc3NldHMvanMvdmVuZG9yL3plcHRvLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9GQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0VBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqZEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9FQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0dBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbnNJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdElBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN2JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQy9LQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiJ3VzZSBzdHJpY3QnO1xuXG5cbnZhciBDb25maWdcdFx0XHQ9IHJlcXVpcmUoICdzaGFyZWQvY29uZmlncy9Db25maWcnICk7XG52YXIgUHJvcHNcdFx0XHQ9IHJlcXVpcmUoICdzaGFyZWQvY29uZmlncy9Qcm9wcycgKTtcbnZhciBEZXZpY2VcdFx0XHQ9IHJlcXVpcmUoICdzaGFyZWQvY29uZmlncy9EZXZpY2UnICk7XG52YXIgUGF0aFx0XHRcdD0gcmVxdWlyZSggJ3NoYXJlZC9jb25maWdzL1BhdGgnICk7XG52YXIgTGFuZ1x0XHRcdD0gcmVxdWlyZSggJ3NoYXJlZC9jb25maWdzL0xhbmcnICk7XG52YXIgRGVidWdcdFx0XHQ9IHJlcXVpcmUoICdzaGFyZWQvdXRpbHMvRGVidWcnICk7XG52YXIgTWFpblZpZXdcdFx0PSByZXF1aXJlKCAnZGVza3RvcC92aWV3cy9NYWluVmlldycgKTtcbnZhciBQYWdlc0NvbnRyb2xsZXJcdD0gcmVxdWlyZSggJ2Rlc2t0b3AvY29udHJvbGxlcnMvUGFnZXNDb250cm9sbGVyJyApO1xuXG5cblxuXG5mdW5jdGlvbiBBcHAoKSB7XG5cdFxufVxuXG5cbkFwcC5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCkge1xuXHQvKnZhciBjb25maWcgPSBDb25maWc7XG5cdGNvbmZpZy5pbml0KCk7XG5cdGNvbnNvbGUubG9nKCBjb25maWcgKTtcblx0XG5cdHZhciBwcm9wcyA9IFByb3BzO1xuXHRwcm9wcy5pbml0KCk7XG5cdGNvbnNvbGUubG9nKCBwcm9wcyApO1xuXHRcblx0dmFyIGRldmljZSA9IERldmljZTtcblx0ZGV2aWNlLmluaXQoKTtcblx0Y29uc29sZS5sb2coIGRldmljZSApO1xuXHRcblx0dmFyIHBhdGggPSBQYXRoO1xuXHRwYXRoLmluaXQoKTtcblx0Y29uc29sZS5sb2coIHBhdGggKTtcblx0XG5cdHZhciBsYW5nID0gTGFuZztcblx0bGFuZy5pbml0KCk7XG5cdGNvbnNvbGUubG9nKCBsYW5nICk7Ki9cblx0XG5cdENvbmZpZy5pbml0KCk7XG5cdFByb3BzLmluaXQoKTtcblx0RGV2aWNlLmluaXQoKTtcblx0UGF0aC5pbml0KCk7XG5cdExhbmcuaW5pdCgpO1xuXHREZWJ1Zy5pbml0KCBmYWxzZSwgZmFsc2UsIGZhbHNlICk7XG5cdFBhZ2VzQ29udHJvbGxlci5pbml0KCk7XG5cdE1haW5WaWV3LmluaXQoKTtcblx0Ly8gU1RGLlJvdXRlci5pbml0KCk7XG59O1xuXG5cbm1vZHVsZS5leHBvcnRzID0gQXBwO1xuXG4iLCIndXNlIHN0cmljdCc7XG5cblxucmVxdWlyZSggJ3plcHRvJyApO1xuXG52YXIgQXBwID0gcmVxdWlyZSggJ0FwcCcgKTtcblxuXG5cbmZ1bmN0aW9uIE1haW4oKSB7fVxuXG5cblxuTWFpbi5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgYXBwID0gbmV3IEFwcCgpO1xuXHQvLyB2YXIgcmE7XG5cdC8vIHZhciBhc2RkO1xuXHQvLyBjb25zb2xlLmxvZyggJ+Kaoe+4jyBTTFAg4pqh77iPJyApO1xuXHQvLyB3aW5kb3cuU1RGID0gYXBwO1xuXHRhcHAuaW5pdCgpO1xufTtcblxuXG52YXIgbWFpbiA9IG5ldyBNYWluKCk7XG5cbiQoIG1haW4uaW5pdC5iaW5kKCBtYWluICkgKTtcbi8vICQoIFNURi5NYWluLmluaXQuYmluZCggU1RGLk1haW4gKSApO1xuXG5cblxuLypcblNURi5NYWluID0gKCBmdW5jdGlvbiggd2luZG93ICkge1xuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRcblx0ZnVuY3Rpb24gTWFpbigpIHtcblx0XHRcblx0fVxuXHRcblx0XG5cdE1haW4ucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbigpIHtcblx0XHRTVEYuQ29uZmlnLmluaXQoKTtcblx0XHRTVEYuUHJvcHMuaW5pdCgpO1xuXHRcdFNURi5EZXZpY2UuaW5pdCgpO1xuXHRcdFNURi5QYXRoLmluaXQoKTtcblx0XHRTVEYuTGFuZy5pbml0KCk7XG5cdFx0XG5cdFx0X2luaXREZWJ1Zy5jYWxsKCB0aGlzICk7XG5cdFx0XG5cdFx0U1RGLlBhZ2VzQ29udHJvbGxlci5pbml0KCk7XG5cdFx0U1RGLk1haW5WaWV3LmluaXQoKTtcblx0XHRTVEYuUm91dGVyLmluaXQoKTtcblx0XHRcblx0XHQvLyB0aGlzLiR3aW5kb3cub24oICdsb2FkJywgJC5wcm94eSggX3dpbmRvd0xvYWQsIHRoaXMgKSApO1xuXHR9O1xuXHRcblx0XG5cdHZhciBfaW5pdERlYnVnID0gZnVuY3Rpb24oKSB7XG5cdFx0X2luaXRGUFNTdGF0cy5jYWxsKCB0aGlzLCBmYWxzZSApO1xuXHRcdF9pbml0TWVtb3J5U3RhdHMuY2FsbCggdGhpcywgZmFsc2UgKTtcblx0XHRfaW5pdERhdEdVSS5jYWxsKCB0aGlzLCBmYWxzZSApO1xuXHR9O1xuXHRcblx0XG5cdHZhciBfaW5pdEZQU1N0YXRzID0gZnVuY3Rpb24oIGlzU2V0ICkge1xuXHRcdFNURi5Db25maWcuc2V0RlBTU3RhdHMoIGlzU2V0ICk7XG5cdFx0XG5cdFx0aWYgKCBpc1NldCAmJiAoIFNURi5Db25maWcuSVNfREVWIHx8IFNURi5Db25maWcuSVNfUFJFUFJPRF9MT0NBTCApIClcblx0XHRcdFNURi5VdGlscy5GUFNTdGF0cy5pbml0KCk7XG5cdH07XG5cdFxuXHRcblx0dmFyIF9pbml0TWVtb3J5U3RhdHMgPSBmdW5jdGlvbiggaXNTZXQgKSB7XG5cdFx0U1RGLkNvbmZpZy5zZXRNZW1vcnlTdGF0cyggaXNTZXQgKTtcblx0XHRcblx0XHRpZiAoIGlzU2V0ICYmICggU1RGLkNvbmZpZy5JU19ERVYgfHwgU1RGLkNvbmZpZy5JU19QUkVQUk9EX0xPQ0FMICkgKVxuXHRcdFx0U1RGLlV0aWxzLk1lbW9yeVN0YXRzLmluaXQoKTtcblx0fTtcblx0XG5cdFxuXHR2YXIgX2luaXREYXRHVUkgPSBmdW5jdGlvbiggaXNTZXQgKSB7XG5cdFx0aWYgKCBpc1NldCAmJiAoIFNURi5Db25maWcuSVNfREVWIHx8IFNURi5Db25maWcuSVNfUFJFUFJPRF9MT0NBTCApIClcblx0XHRcdFNURi5VdGlscy5EYXRHVUkuaW5pdCgpO1xuXHR9O1xuXHRcblx0XG5cdHJldHVybiBuZXcgTWFpbigpO1xuXHRcblx0XG59ICkgKCB3aW5kb3cgKTtcblxuXG4kKCBTVEYuTWFpbi5pbml0LmJpbmQoIFNURi5NYWluICkgKTtcbiovXG5cbiIsIid1c2Ugc3RyaWN0JztcblxuXG52YXIgQWJzdHJhY3RWaWV3ID0gcmVxdWlyZSggJ3NoYXJlZC9hYnN0cmFjdHMvdmlld3MvQWJzdHJhY3RWaWV3JyApO1xuXG5cblxuZnVuY3Rpb24gQWJzdHJhY3RQYWdlVmlldygpIHtcblx0QWJzdHJhY3RWaWV3LmNhbGwoIHRoaXMgKTtcblx0XG5cdHRoaXMuaW1nVG9MYXp5bG9hZENsYXNzTmFtZVx0PSAnaW1nLWxhenlsb2FkJzsgLy8gY2xhc3MgbmFtZSBvZiBpbWFnZXMgdG8gbGF6eWxvYWRcblx0dGhpcy5sYXp5bG9hZFBhcmVudEVsXHRcdD0gbnVsbDsgLy8gc2VsZWN0b3Igb2YgcGFyZW50IG9mIGltYWdlcyB0byBsYXp5bG9hZFxufVxuXG5cbkFic3RyYWN0UGFnZVZpZXcucHJvdG90eXBlXHRcdFx0XHQ9IE9iamVjdC5jcmVhdGUoIEFic3RyYWN0Vmlldy5wcm90b3R5cGUgKTtcbkFic3RyYWN0UGFnZVZpZXcucHJvdG90eXBlLmNvbnN0cnVjdG9yXHQ9IEFic3RyYWN0UGFnZVZpZXc7XG5cblxuQWJzdHJhY3RQYWdlVmlldy5wcm90b3R5cGUuaW5pdERPTSA9IGZ1bmN0aW9uKCkge1xuXHQvLyBjb25zb2xlLmxvZyggJ0Fic3RyYWN0UGFnZVZpZXcuaW5pdERPTSgpIOKAlCAnLCB0aGlzLmNvbnN0cnVjdG9yLm5hbWUgKTtcblx0XG5cdHRoaXMuJHBhZ2UgPSAkKCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggJ3BhZ2UnICkgKTtcbn07XG5cblxuQWJzdHJhY3RQYWdlVmlldy5wcm90b3R5cGUuaW5pdEVsID0gZnVuY3Rpb24oKSB7XG5cdC8vIGNvbnNvbGUubG9nKCAnQWJzdHJhY3RQYWdlVmlldy5pbml0RWwoKSDigJQgJywgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lICk7XG5cdFxuXHR0aGlzLmxhenlMb2FkZXIgPSBuZXcgU1RGLkxhenlMb2FkZXIoIHRoaXMuJHBhZ2UsIHRoaXMuaW1nVG9MYXp5bG9hZENsYXNzTmFtZSwgdGhpcy5sYXp5bG9hZFBhcmVudEVsLCAxLCB0cnVlICk7XG59O1xuXG5cbkFic3RyYWN0UGFnZVZpZXcucHJvdG90eXBlLmluaXRUbCA9IGZ1bmN0aW9uKCkge1xuXHQvKiBTaG93IHBhZ2UgKi9cblx0dGhpcy50bC5zaG93UGFnZSA9IG5ldyBUaW1lbGluZUxpdGUoIHtcblx0XHRwYXVzZWQ6XHRcdHRydWUsXG5cdFx0b25Db21wbGV0ZTpcdHRoaXMub25QYWdlU2hvd24uYmluZCggdGhpcyApXG5cdH0gKTtcblx0dGhpcy50bC5zaG93UGFnZS50byggdGhpcy4kcGFnZSwgMC44LCB7IG9wYWNpdHk6MSwgZWFzZTpRdWFkLmVhc2VPdXQgfSApO1xuXHRcblx0LyogSGlkZSBwYWdlICovXG5cdHRoaXMudGwuaGlkZVBhZ2UgPSBuZXcgVGltZWxpbmVMaXRlKCB7XG5cdFx0cGF1c2VkOlx0XHR0cnVlLFxuXHRcdG9uQ29tcGxldGU6XHR0aGlzLm9uUGFnZUhpZGRlbi5iaW5kKCB0aGlzIClcblx0fSApO1xuXHR0aGlzLnRsLmhpZGVQYWdlLnRvKCB0aGlzLiRwYWdlLCAwLjgsIHsgb3BhY2l0eTowLCBlYXNlOlF1YWQuZWFzZU91dCB9ICk7XG59O1xuXG5cbkFic3RyYWN0UGFnZVZpZXcucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbigpIHtcblx0Ly8gaWYgKCBTVEYuUGFnZXNDb250cm9sbGVyLmlzRmlyc3RMb2FkIClcblx0Ly8gXHR0aGlzLnRsLnNob3dQYWdlLnByb2dyZXNzKDEpO1xuXHRcdFxuXHQvLyBlbHNlXG5cdFx0dGhpcy50bC5zaG93UGFnZS5wbGF5KDApO1xufTtcblxuXG5BYnN0cmFjdFBhZ2VWaWV3LnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMudGwuaGlkZVBhZ2UucGxheSgwKTtcbn07XG5cblxuQWJzdHJhY3RQYWdlVmlldy5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuXHRBYnN0cmFjdFZpZXcucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCggdGhpcyApO1xuXHRcblx0aWYgKCB0aGlzLmxhenlMb2FkZXIgIT09IHVuZGVmaW5lZCApXG5cdFx0dGhpcy5sYXp5TG9hZGVyLmRlc3Ryb3koKTtcbn07XG5cblxuQWJzdHJhY3RQYWdlVmlldy5wcm90b3R5cGUub25QYWdlU2hvd24gPSBmdW5jdGlvbigpIHtcblx0dGhpcy5kaXNwYXRjaCggdGhpcy5FLlNIT1dOICk7XG59O1xuXG5cbkFic3RyYWN0UGFnZVZpZXcucHJvdG90eXBlLm9uUGFnZUhpZGRlbiA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLmRpc3BhdGNoKCB0aGlzLkUuSElEREVOICk7XG59O1xuXG5cbm1vZHVsZS5leHBvcnRzID0gQWJzdHJhY3RQYWdlVmlldztcblxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5cbnZhciBBYnN0cmFjdFBhZ2VzQ29udHJvbGxlciA9IHJlcXVpcmUoICdzaGFyZWQvYWJzdHJhY3RzL2NvbnRyb2xsZXJzL0Fic3RyYWN0UGFnZXNDb250cm9sbGVyJyApO1xuXG5cblxuZnVuY3Rpb24gUGFnZXNDb250cm9sbGVyKCkge1xuXHRBYnN0cmFjdFBhZ2VzQ29udHJvbGxlci5jYWxsKCB0aGlzICk7XG5cdFxuXHQvLyB0aGlzLkxPQURJTkdfTU9ERVx0XHRcdD0gbnVsbDtcblx0Ly8gdGhpcy5EWU5BTUlDX0lNR19UT19MT0FEXHQ9IG51bGw7XG5cdC8vIHRoaXMuSVNfSElERV9JTklUXHRcdFx0PSBudWxsO1xufVxuXG5cblBhZ2VzQ29udHJvbGxlci5wcm90b3R5cGVcdFx0XHRcdD0gT2JqZWN0LmNyZWF0ZSggQWJzdHJhY3RQYWdlc0NvbnRyb2xsZXIucHJvdG90eXBlICk7XG5QYWdlc0NvbnRyb2xsZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yXHQ9IFBhZ2VzQ29udHJvbGxlcjtcblxuXG4vKlBhZ2VzQ29udHJvbGxlci5wcm90b3R5cGUuaW5pdFBhZ2VzID0gZnVuY3Rpb24oKSB7XG5cdFxufTsqL1xuXG5cbi8qUGFnZXNDb250cm9sbGVyLnByb3RvdHlwZS5tYW5hZ2VQYWdlSGlkaW5nVHJhbnNpdGlvbnMgPSBmdW5jdGlvbigpIHtcblx0XG59OyovXG5cblxuLypQYWdlc0NvbnRyb2xsZXIucHJvdG90eXBlLmNoZWNrUGFnZUhpZGluZyA9IGZ1bmN0aW9uKCkge1xuXHRcbn07Ki9cblxuXG4vKlBhZ2VzQ29udHJvbGxlci5wcm90b3R5cGUubWFuYWdlUGFnZVNob3dpbmdUcmFuc2l0aW9ucyA9IGZ1bmN0aW9uKCkge1xuXHRcbn07Ki9cblxuXG4vKkFic3RyYWN0UGFnZXNDb250cm9sbGVyLnByb3RvdHlwZS5jaGVja1BhZ2VTaG93aW5nID0gZnVuY3Rpb24oKSB7XG5cdFxufTsqL1xuXG5cblBhZ2VzQ29udHJvbGxlci5wcm90b3R5cGUubWFuYWdlTWVudUxpbmtzID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMudXBkYXRlTWVudUxpbmtzKCBTVEYuVmlld3MuU3RhdGljcy5IZWFkZXIuJG1lbnVMaW5rICk7XG5cdHRoaXMudXBkYXRlTWVudUxpbmtzKCBTVEYuVmlld3MuU3RhdGljcy5Gb290ZXIuJGZvb3RlckxpbmsgKTtcbn07XG5cblxuUGFnZXNDb250cm9sbGVyLnByb3RvdHlwZS5tYW5hZ2VMYW5nTGlua3MgPSBmdW5jdGlvbigpIHtcblx0dGhpcy5jaGFuZ2VMYW5nTGlua3MoIFNURi5WaWV3cy5TdGF0aWNzLkhlYWRlci4kaGVhZGVyTGdMaW5rICk7XG5cdHRoaXMuY2hhbmdlTGFuZ0xpbmtzKCBTVEYuVmlld3MuU3RhdGljcy5Gb290ZXIuJGZvb3RlckxnTGluayApO1xufTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBQYWdlc0NvbnRyb2xsZXIoKTtcblxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5cbnZhciBBYnN0cmFjdEFzc2V0c1x0PSByZXF1aXJlKCAnZGVza3RvcC9hYnN0cmFjdHMvdmlld3MvQWJzdHJhY3RQYWdlVmlldycgKTtcbnZhciBQYXRoXHRcdFx0PSByZXF1aXJlKCAnc2hhcmVkL2NvbmZpZ3MvUGF0aCcgKTtcblxuXG5cbmZ1bmN0aW9uIEFzc2V0cygpIHtcblx0QWJzdHJhY3RBc3NldHMuY2FsbCggdGhpcyApO1xufVxuXG5cbkFzc2V0cy5wcm90b3R5cGVcdFx0XHRcdD0gT2JqZWN0LmNyZWF0ZSggQWJzdHJhY3RBc3NldHMucHJvdG90eXBlICk7XG5Bc3NldHMucHJvdG90eXBlLmNvbnN0cnVjdG9yXHQ9IEFzc2V0cztcblxuXG5Bc3NldHMucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbigpIHtcblx0dGhpcy5hSW1nID0ge1xuXHRcdCdnbG9iYWwnOiBbXG5cdFx0XHQvKiBiZ3MgKi9cblx0XHRcdFxuXHRcdFx0LyogYnRucyAqL1xuXHRcdFx0XG5cdFx0XHQvKiBpY29ucyAqL1xuXHRcdFx0XG5cdFx0XHQvKiBsb2dvcyAqL1xuXHRcdFx0XG5cdFx0XHQvKiBvdGhlcnMgKi9cblx0XHRdLFxuXHRcdFxuXHRcdCdlcnJvci00MDQnOiBbXG5cdFx0XHQvKiB0ZW1wICovXG5cdFx0XHRQYXRoLlVSTC5pbWcgKyAndGVtcC80MDQuanBnJyxcblx0XHRdLFxuXHRcdFxuXHRcdCdub3QtYXZhaWxhYmxlJzogW1xuXHRcdFx0LyogdGVtcCAqL1xuXHRcdFx0UGF0aC5VUkwuaW1nICsgJ3RlbXAvbm90LWF2YWlsYWJsZS5naWYnLFxuXHRcdF0sXG5cdFx0XG5cdFx0J2hvbWUnOiBbXG5cdFx0XHQvKiB0ZW1wICovXG5cdFx0XHRQYXRoLlVSTC5pbWcgKyAndGVtcC9ob21lLmpwZycsXG5cdFx0XSxcblx0XHRcblx0XHQnYWJvdXQnOiBbXG5cdFx0XHQvKiB0ZW1wICovXG5cdFx0XHRQYXRoLlVSTC5pbWcgKyAndGVtcC9hYm91dC0xLmpwZycsXG5cdFx0XHRQYXRoLlVSTC5pbWcgKyAndGVtcC9hYm91dC0yLmpwZycsXG5cdFx0XSxcblx0XHRcblx0XHQncHJvamVjdHMnOiBbXG5cdFx0XHQvKiB0ZW1wICovXG5cdFx0XHRQYXRoLlVSTC5pbWcgKyAndGVtcC9wcm9qZWN0cy5qcGcnLFxuXHRcdF1cblx0fTtcblx0XG5cdFxuXHR0aGlzLmFKc29uID0ge1xuXHRcdCdnbG9iYWwnOiB7XG5cdFx0XHRnbG9iYWw6IFBhdGguVVJMLmpzb24gKyAndGVzdC1nbG9iYWwuanNvbidcblx0XHR9LFxuXHRcdFxuXHRcdCdob21lJzoge1xuXHRcdFx0aG9tZTogUGF0aC5VUkwuanNvbiArICd0ZXN0LWhvbWUuanNvbidcblx0XHR9LFxuXHRcdFxuXHRcdCdwcm9qZWN0cyc6IHtcblx0XHRcdHByb2plY3RzOiBQYXRoLlVSTC5qc29uICsgJ3Rlc3QtcHJvamVjdHMuanNvbidcblx0XHR9XG5cdH07XG59O1xuXG5cbm1vZHVsZS5leHBvcnRzID0gbmV3IEFzc2V0cygpO1xuXG4iLCIndXNlIHN0cmljdCc7XG5cblxudmFyIEFic3RyYWN0TWFpblZpZXcgPSByZXF1aXJlKCAnc2hhcmVkL2Fic3RyYWN0cy92aWV3cy9BYnN0cmFjdE1haW5WaWV3JyApO1xuXG4vLyB2YXIgUGF0aFx0XHRcdD0gcmVxdWlyZSggJ3NoYXJlZC9jb25maWdzL1BhdGgnICk7XG5cblxuXG5mdW5jdGlvbiBNYWluVmlldygpIHtcblx0QWJzdHJhY3RNYWluVmlldy5jYWxsKCB0aGlzICk7XG59XG5cblxuTWFpblZpZXcucHJvdG90eXBlXHRcdFx0XHQ9IE9iamVjdC5jcmVhdGUoIEFic3RyYWN0TWFpblZpZXcucHJvdG90eXBlICk7XG5NYWluVmlldy5wcm90b3R5cGUuY29uc3RydWN0b3JcdD0gTWFpblZpZXc7XG5cblxuLypNYWluVmlldy5wcm90b3R5cGUuaW5pdERPTSA9IGZ1bmN0aW9uKCkge1xuXHRBYnN0cmFjdE1haW5WaWV3LnByb3RvdHlwZS5pbml0RE9NLmNhbGwoIHRoaXMgKTtcbn07Ki9cblxuXG5NYWluVmlldy5wcm90b3R5cGUuaW5pdEVsID0gZnVuY3Rpb24oKSB7XG5cdC8vIGNvbnNvbGUubG9nKCAn8J+QtycsIHRoaXMgKTtcblx0XG5cdEFic3RyYWN0TWFpblZpZXcucHJvdG90eXBlLmluaXRFbC5jYWxsKCB0aGlzICk7XG5cdFxuXHR0aGlzLmRpc2FibGVTY3JvbGxSZXN0b3JhdGlvbigpO1xufTtcblxuXG4vKk1haW5WaWV3LnByb3RvdHlwZS5iaW5kRXZlbnRzID0gZnVuY3Rpb24oKSB7XG5cdEFic3RyYWN0TWFpblZpZXcucHJvdG90eXBlLmJpbmRFdmVudHMuY2FsbCggdGhpcyApO1xufTsqL1xuXG5cbi8qTWFpblZpZXcucHJvdG90eXBlLmluaXRTdGF0aWNzVmlld3MgPSBmdW5jdGlvbigpIHtcblx0QWJzdHJhY3RNYWluVmlldy5wcm90b3R5cGUuaW5pdFN0YXRpY3NWaWV3cy5jYWxsKCB0aGlzICk7XG59OyovXG5cblxubW9kdWxlLmV4cG9ydHMgPSBuZXcgTWFpblZpZXcoKTtcblxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5cbnZhciBBYnN0cmFjdFBhZ2VWaWV3ID0gcmVxdWlyZSggJ2Rlc2t0b3AvYWJzdHJhY3RzL3ZpZXdzL0Fic3RyYWN0UGFnZVZpZXcnICk7XG5cblxuXG5mdW5jdGlvbiBFcnJvcjQwNCgpIHtcblx0QWJzdHJhY3RQYWdlVmlldy5jYWxsKCB0aGlzICk7XG59XG5cblxuRXJyb3I0MDQucHJvdG90eXBlXHRcdFx0XHQ9IE9iamVjdC5jcmVhdGUoIEFic3RyYWN0UGFnZVZpZXcucHJvdG90eXBlICk7XG5FcnJvcjQwNC5wcm90b3R5cGUuY29uc3RydWN0b3JcdD0gRXJyb3I0MDQ7XG5cblxuRXJyb3I0MDQucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbigpIHtcblx0QWJzdHJhY3RQYWdlVmlldy5wcm90b3R5cGUuaW5pdC5jYWxsKCB0aGlzICk7XG59O1xuXG5cbkVycm9yNDA0LnByb3RvdHlwZS5iaW5kRXZlbnRzID0gZnVuY3Rpb24oKSB7XG5cdEFic3RyYWN0UGFnZVZpZXcucHJvdG90eXBlLmJpbmRFdmVudHMuY2FsbCggdGhpcyApO1xufTtcblxuXG5FcnJvcjQwNC5wcm90b3R5cGUudW5iaW5kRXZlbnRzID0gZnVuY3Rpb24oKSB7XG5cdEFic3RyYWN0UGFnZVZpZXcucHJvdG90eXBlLnVuYmluZEV2ZW50cy5jYWxsKCB0aGlzICk7XG59O1xuXG5cbkVycm9yNDA0LnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbigpIHtcblx0XG59O1xuXG5cbm1vZHVsZS5leHBvcnRzID0gRXJyb3I0MDQ7XG5cbiIsIid1c2Ugc3RyaWN0JztcblxuXG52YXIgQWJzdHJhY3RQYWdlVmlldyA9IHJlcXVpcmUoICdkZXNrdG9wL2Fic3RyYWN0cy92aWV3cy9BYnN0cmFjdFBhZ2VWaWV3JyApO1xuXG5cblxuZnVuY3Rpb24gSG9tZSgpIHtcblx0QWJzdHJhY3RQYWdlVmlldy5jYWxsKCB0aGlzICk7XG59XG5cblxuSG9tZS5wcm90b3R5cGVcdFx0XHRcdD0gT2JqZWN0LmNyZWF0ZSggQWJzdHJhY3RQYWdlVmlldy5wcm90b3R5cGUgKTtcbkhvbWUucHJvdG90eXBlLmNvbnN0cnVjdG9yXHQ9IEhvbWU7XG5cblxuSG9tZS5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCkge1xuXHRBYnN0cmFjdFBhZ2VWaWV3LnByb3RvdHlwZS5pbml0LmNhbGwoIHRoaXMgKTtcbn07XG5cblxuSG9tZS5wcm90b3R5cGUuYmluZEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuXHRBYnN0cmFjdFBhZ2VWaWV3LnByb3RvdHlwZS5iaW5kRXZlbnRzLmNhbGwoIHRoaXMgKTtcbn07XG5cblxuSG9tZS5wcm90b3R5cGUudW5iaW5kRXZlbnRzID0gZnVuY3Rpb24oKSB7XG5cdEFic3RyYWN0UGFnZVZpZXcucHJvdG90eXBlLnVuYmluZEV2ZW50cy5jYWxsKCB0aGlzICk7XG59O1xuXG5cbkhvbWUucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uKCkge1xuXHRcbn07XG5cblxubW9kdWxlLmV4cG9ydHMgPSBIb21lO1xuXG4iLCIndXNlIHN0cmljdCc7XG5cblxudmFyIEFic3RyYWN0UGFnZVZpZXcgPSByZXF1aXJlKCAnZGVza3RvcC9hYnN0cmFjdHMvdmlld3MvQWJzdHJhY3RQYWdlVmlldycgKTtcblxuXG5cbmZ1bmN0aW9uIExlZ2FsTm90aWNlcygpIHtcblx0QWJzdHJhY3RQYWdlVmlldy5jYWxsKCB0aGlzICk7XG59XG5cblxuTGVnYWxOb3RpY2VzLnByb3RvdHlwZVx0XHRcdFx0PSBPYmplY3QuY3JlYXRlKCBBYnN0cmFjdFBhZ2VWaWV3LnByb3RvdHlwZSApO1xuTGVnYWxOb3RpY2VzLnByb3RvdHlwZS5jb25zdHJ1Y3Rvclx0PSBMZWdhbE5vdGljZXM7XG5cblxuTGVnYWxOb3RpY2VzLnByb3RvdHlwZS5pbml0RE9NID0gZnVuY3Rpb24oKSB7XG5cdEFic3RyYWN0UGFnZVZpZXcucHJvdG90eXBlLmluaXRET00uY2FsbCggdGhpcyApO1xuXHRcblx0dGhpcy4kZW1haWxcdD0gdGhpcy4kcGFnZS5maW5kKCAnLmVtYWlsJyApO1xuXHRcblx0Ly8gU1RGX2dsX2VuY3J5cHRNYWlsdG8oIHRoaXMuJC5lbWFpbCwgJ2NvbnRhY3QnLCAnZG9tYWluJywgJ2NvbScsIHRydWUgKTtcbn07XG5cblxuTGVnYWxOb3RpY2VzLnByb3RvdHlwZS5iaW5kRXZlbnRzID0gZnVuY3Rpb24oKSB7XG5cdEFic3RyYWN0UGFnZVZpZXcucHJvdG90eXBlLmJpbmRFdmVudHMuY2FsbCggdGhpcyApO1xufTtcblxuXG5MZWdhbE5vdGljZXMucHJvdG90eXBlLnVuYmluZEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuXHRBYnN0cmFjdFBhZ2VWaWV3LnByb3RvdHlwZS51bmJpbmRFdmVudHMuY2FsbCggdGhpcyApO1xufTtcblxuXG5MZWdhbE5vdGljZXMucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uKCkge1xuXHRcbn07XG5cblxubW9kdWxlLmV4cG9ydHMgPSBMZWdhbE5vdGljZXM7XG5cbiIsIid1c2Ugc3RyaWN0JztcblxuXG52YXIgQWJzdHJhY3RQYWdlVmlldyA9IHJlcXVpcmUoICdkZXNrdG9wL2Fic3RyYWN0cy92aWV3cy9BYnN0cmFjdFBhZ2VWaWV3JyApO1xuXG5cblxuZnVuY3Rpb24gUHJvamVjdCgpIHtcblx0QWJzdHJhY3RQYWdlVmlldy5jYWxsKCB0aGlzICk7XG59XG5cblxuUHJvamVjdC5wcm90b3R5cGVcdFx0XHRcdD0gT2JqZWN0LmNyZWF0ZSggQWJzdHJhY3RQYWdlVmlldy5wcm90b3R5cGUgKTtcblByb2plY3QucHJvdG90eXBlLmNvbnN0cnVjdG9yXHQ9IFByb2plY3Q7XG5cblxuUHJvamVjdC5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCkge1xuXHRBYnN0cmFjdFBhZ2VWaWV3LnByb3RvdHlwZS5pbml0LmNhbGwoIHRoaXMgKTtcbn07XG5cblxuUHJvamVjdC5wcm90b3R5cGUuYmluZEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuXHRBYnN0cmFjdFBhZ2VWaWV3LnByb3RvdHlwZS5iaW5kRXZlbnRzLmNhbGwoIHRoaXMgKTtcbn07XG5cblxuUHJvamVjdC5wcm90b3R5cGUudW5iaW5kRXZlbnRzID0gZnVuY3Rpb24oKSB7XG5cdEFic3RyYWN0UGFnZVZpZXcucHJvdG90eXBlLnVuYmluZEV2ZW50cy5jYWxsKCB0aGlzICk7XG59O1xuXG5cblByb2plY3QucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uKCkge1xuXHRcbn07XG5cblxubW9kdWxlLmV4cG9ydHMgPSBQcm9qZWN0O1xuXG4iLCIndXNlIHN0cmljdCc7XG5cblxudmFyIEFic3RyYWN0UGFnZVZpZXcgPSByZXF1aXJlKCAnZGVza3RvcC9hYnN0cmFjdHMvdmlld3MvQWJzdHJhY3RQYWdlVmlldycgKTtcblxuXG5cbmZ1bmN0aW9uIFByb2plY3RzKCkge1xuXHRBYnN0cmFjdFBhZ2VWaWV3LmNhbGwoIHRoaXMgKTtcbn1cblxuXG5Qcm9qZWN0cy5wcm90b3R5cGVcdFx0XHRcdD0gT2JqZWN0LmNyZWF0ZSggQWJzdHJhY3RQYWdlVmlldy5wcm90b3R5cGUgKTtcblByb2plY3RzLnByb3RvdHlwZS5jb25zdHJ1Y3Rvclx0PSBQcm9qZWN0cztcblxuXG5Qcm9qZWN0cy5wcm90b3R5cGUuaW5pdERPTSA9IGZ1bmN0aW9uKCkge1xuXHRBYnN0cmFjdFBhZ2VWaWV3LnByb3RvdHlwZS5pbml0RE9NLmNhbGwoIHRoaXMgKTtcblx0XG5cdHRoaXMuJHByb2plY3RMaW5rID0gdGhpcy4kcGFnZS5maW5kKCAnLnByb2otbGluaycgKTtcbn07XG5cblxuUHJvamVjdHMucHJvdG90eXBlLmJpbmRFdmVudHMgPSBmdW5jdGlvbigpIHtcblx0QWJzdHJhY3RQYWdlVmlldy5wcm90b3R5cGUuYmluZEV2ZW50cy5jYWxsKCB0aGlzICk7XG5cdFxuXHR0aGlzLiRwcm9qZWN0TGluay5vbiggJ2NsaWNrJywgJC5wcm94eSggdGhpcy5jaGFuZ2VVcmwsIHRoaXMgKSApO1xufTtcblxuXG5Qcm9qZWN0cy5wcm90b3R5cGUudW5iaW5kRXZlbnRzID0gZnVuY3Rpb24oKSB7XG5cdEFic3RyYWN0UGFnZVZpZXcucHJvdG90eXBlLnVuYmluZEV2ZW50cy5jYWxsKCB0aGlzICk7XG5cdFxuXHR0aGlzLiRwcm9qZWN0TGluay5vZmYoICdjbGljaycsICQucHJveHkoIHRoaXMuY2hhbmdlVXJsLCB0aGlzICkgKTtcbn07XG5cblxuUHJvamVjdHMucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uKCkge1xuXHRcbn07XG5cblxubW9kdWxlLmV4cG9ydHMgPSBQcm9qZWN0cztcblxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5cbnZhciBBYnN0cmFjdE1haW5Mb2FkZXIgPSByZXF1aXJlKCAnc2hhcmVkL2Fic3RyYWN0cy92aWV3cy9BYnN0cmFjdE1haW5Mb2FkZXInICk7XG5cblxuXG5mdW5jdGlvbiBNYWluTG9hZGVyKCkge1xuXHRBYnN0cmFjdE1haW5Mb2FkZXIuY2FsbCggdGhpc8KgKTtcbn1cblxuXG5NYWluTG9hZGVyLnByb3RvdHlwZVx0XHRcdFx0PSBPYmplY3QuY3JlYXRlKCBBYnN0cmFjdE1haW5Mb2FkZXIucHJvdG90eXBlICk7XG5NYWluTG9hZGVyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvclx0PSBNYWluTG9hZGVyO1xuXG5cbi8qTWFpbkxvYWRlci5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCkge1xuXHRBYnN0cmFjdE1haW5Mb2FkZXIucHJvdG90eXBlLmluaXQuY2FsbCggdGhpcyApO1xufTsqL1xuXG5cbk1haW5Mb2FkZXIucHJvdG90eXBlLmluaXRET00gPSBmdW5jdGlvbigpIHtcblx0dGhpcy4kbG9hZGVyXHRcdD0gJCggZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoICdtYWluLWxvYWRlcicgKSApO1xuXHR0aGlzLiRsb2FkZXJDb250XHQ9IHRoaXMuJGxvYWRlci5maW5kKCAnLm1haW4tbG9hZGVyLWNvbnRhaW5lcicgKTtcblx0dGhpcy4kcGVyY2VudGFnZVx0PSB0aGlzLiRsb2FkZXIuZmluZCggJy5tYWluLWxvYWRlci1wZXJjZW50YWdlJyApO1xuXHR0aGlzLiRwcm9ncmVzc1x0XHQ9IHRoaXMuJGxvYWRlci5maW5kKCAnLm1haW4tbG9hZGVyLXByb2dyZXNzJyApO1xuXHR0aGlzLiRsb2FkaW5nXHRcdD0gdGhpcy4kbG9hZGVyLmZpbmQoICcubWFpbi1sb2FkZXItbG9hZGluZycgKTtcbn07XG5cblxuTWFpbkxvYWRlci5wcm90b3R5cGUuaW5pdFRsID0gZnVuY3Rpb24oKSB7XG5cdC8qIEhpZGUgaW5pdCAqL1xuXHR0aGlzLnRsLmhpZGVJbml0ID0gbmV3IFRpbWVsaW5lTGl0ZSggeyBwYXVzZWQ6dHJ1ZSwgb25Db21wbGV0ZTpfb25IaWRlSW5pdENvbXBsZXRlLmJpbmQoIHRoaXMgKSB9ICk7XG5cdFxuXHR0aGlzLnRsLmhpZGVJbml0LnRvKCB0aGlzLiRsb2FkZXIsIDEuNSwgeyB4UGVyY2VudDoxMDAsIGVhc2U6UXVhcnQuZWFzZUluT3V0IH0sIDAgKTtcblx0dGhpcy50bC5oaWRlSW5pdC50byggdGhpcy4kbG9hZGVyQ29udCwgMS41LCB7IHhQZXJjZW50Oi0xMDAsIGVhc2U6UXVhcnQuZWFzZUluT3V0IH0sIDAgKTtcblx0XG5cdFxuXHQvKiBTaG93ICovXG5cdHRoaXMudGwuc2hvdyA9IG5ldyBUaW1lbGluZUxpdGUoIHsgcGF1c2VkOnRydWUsIG9uQ29tcGxldGU6X29uU2hvd0NvbXBsZXRlLmJpbmQoIHRoaXMgKSB9ICk7XG5cdFxuXHR0aGlzLnRsLnNob3cuc2V0KCB0aGlzLiRsb2FkZXIsIHsgeFBlcmNlbnQ6LTEwMCB9LCAwICk7XG5cdHRoaXMudGwuc2hvdy5zZXQoIHRoaXMuJGxvYWRlckNvbnQsIHsgeFBlcmNlbnQ6MTAwIH0sIDAgKTtcblx0dGhpcy50bC5zaG93LnRvKCB0aGlzLiRsb2FkZXIsIDEsIHsgeFBlcmNlbnQ6MCwgZWFzZTpRdWFydC5lYXNlSW5PdXQgfSwgMCApO1xuXHR0aGlzLnRsLnNob3cudG8oIHRoaXMuJGxvYWRlckNvbnQsIDEsIHsgeFBlcmNlbnQ6MCwgZWFzZTpRdWFydC5lYXNlSW5PdXQgfSwgMCApO1xuXHRcblx0XG5cdC8qIEhpZGUgKi9cblx0dGhpcy50bC5oaWRlID0gbmV3IFRpbWVsaW5lTGl0ZSggeyBwYXVzZWQ6dHJ1ZSwgb25Db21wbGV0ZTpfb25IaWRlQ29tcGxldGUuYmluZCggdGhpcyApIH0gKTtcblx0XG5cdHRoaXMudGwuaGlkZS50byggdGhpcy4kbG9hZGVyLCAxLCB7IHhQZXJjZW50OjEwMCwgZWFzZTpRdWFydC5lYXNlSW5PdXQgfSwgMCApO1xuXHR0aGlzLnRsLmhpZGUudG8oIHRoaXMuJGxvYWRlckNvbnQsIDEsIHsgeFBlcmNlbnQ6LTEwMCwgZWFzZTpRdWFydC5lYXNlSW5PdXQgfSwgMCApO1xufTtcblxuXG5NYWluTG9hZGVyLnByb3RvdHlwZS5vblByb2dyZXNzID0gZnVuY3Rpb24oIHBlcmNlbnRhZ2UgKSB7XG5cdHZhciBwb3NYID0gcGVyY2VudGFnZSAtIDEwMDtcblx0XG5cdHRoaXMuJHBlcmNlbnRhZ2VbMF0uaW5uZXJIVE1MXHRcdFx0XHRcdD0gcGFyc2VJbnQoIHBlcmNlbnRhZ2UgKSArICcgJSc7XG5cdHRoaXMuJHByb2dyZXNzWzBdLnN0eWxlWyBTVEYuUHJvcHMuVFJBTlNGT1JNIF1cdD0gJ3RyYW5zbGF0ZSgnICsgcG9zWCArICclLCAwJSknO1xufTtcblxuXG5NYWluTG9hZGVyLnByb3RvdHlwZS5oaWRlSW5pdCA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLnRsLmhpZGVJbml0LnBsYXkoKTtcblx0XG5cdFxuXHQvLyB0aGlzLiRsb2FkZXJbMF0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcblx0Ly8gdGhpcy5kaXNwYXRjaCggdGhpcy5FLkhJRERFTiApO1xufTtcblxuXG5NYWluTG9hZGVyLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMuJGxvYWRlclswXS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblx0dGhpcy4kbG9hZGVyWzBdLm9mZnNldEhlaWdodDsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cdFxuXHR0aGlzLnRsLnNob3cucGxheSgwKTtcbn07XG5cblxuTWFpbkxvYWRlci5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLnRsLmhpZGUucGxheSgwKTtcbn07XG5cblxudmFyIF9vbkhpZGVJbml0Q29tcGxldGUgPSBmdW5jdGlvbigpIHtcblx0dGhpcy5raWxsVGltZWxpbmUoICdoaWRlSW5pdCcgKTtcblx0XG5cdFNURl9kb21fcmVtb3ZlQ2xhc3MoIHRoaXMuJGxvYWRlclswXSwgJ2luaXQnICk7XG5cdHRoaXMuJGxvYWRlclswXS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXHRcblx0dGhpcy5kaXNwYXRjaCggdGhpcy5FLkhJRERFTiApO1xufTtcblxuXG52YXIgX29uU2hvd0NvbXBsZXRlID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMuZGlzcGF0Y2goIHRoaXMuRS5TSE9XTiApO1xufTtcblxuXG52YXIgX29uSGlkZUNvbXBsZXRlID0gZnVuY3Rpb24oKSB7XG5cdC8vIExPQURJTkdfTU9ERSA9PSAnYnlQYWdlU3RhdGljJyAmJiBMT0FESU5HX01PREUgPT0gJ2J5UGFnZUR5bmFtaWMnXG5cdHRoaXMuJHBlcmNlbnRhZ2VbMF0uaW5uZXJIVE1MXHRcdFx0XHRcdD0gJzAgJSc7XG5cdHRoaXMuJHByb2dyZXNzWzBdLnN0eWxlWyBTVEYuUHJvcHMuVFJBTlNGT1JNIF1cdD0gJ3RyYW5zbGF0ZSgtMTAwJSwgMCUpJztcblx0XG5cdHRoaXMuJGxvYWRlclswXS5zdHlsZS5kaXNwbGF5XHRcdFx0XHRcdD0gJ25vbmUnO1xuXHRcblx0dGhpcy5kaXNwYXRjaCggdGhpcy5FLkhJRERFTiApO1xufTtcblxuXG5yZXR1cm4gbmV3IE1haW5Mb2FkZXIoKTtcblxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5cbnZhciBDdXN0b21FdmVudFx0XHQ9IHJlcXVpcmUoICdzaGFyZWQvZXZlbnRzL0N1c3RvbUV2ZW50JyApO1xuXG52YXIgRXJyb3I0MDRcdFx0PSByZXF1aXJlKCAnZGVza3RvcC92aWV3cy9wYWdlcy9FcnJvcjQwNCcgKTtcbnZhciBMZWdhbE5vdGljZXNcdD0gcmVxdWlyZSggJ2Rlc2t0b3Avdmlld3MvcGFnZXMvTGVnYWxOb3RpY2VzJyApO1xudmFyIEhvbWVcdFx0XHQ9IHJlcXVpcmUoICdkZXNrdG9wL3ZpZXdzL3BhZ2VzL0hvbWUnICk7XG4vLyB2YXIgQWJvdXRcdFx0XHQ9IHJlcXVpcmUoICdkZXNrdG9wL3ZpZXdzL3BhZ2VzL0Fib3V0JyApO1xudmFyIFByb2plY3RzXHRcdD0gcmVxdWlyZSggJ2Rlc2t0b3Avdmlld3MvcGFnZXMvUHJvamVjdHMnICk7XG52YXIgUHJvamVjdFx0XHRcdD0gcmVxdWlyZSggJ2Rlc2t0b3Avdmlld3MvcGFnZXMvUHJvamVjdCcgKTtcblxudmFyIEFzc2V0c01vZGVsXHRcdD0gcmVxdWlyZSggJ2Rlc2t0b3AvbW9kZWxzL0Fzc2V0cycgKTtcbnZhciBNYWluTG9hZGVyXHRcdD0gcmVxdWlyZSggJ2Rlc2t0b3Avdmlld3Mvc3RhdGljcy9NYWluTG9hZGVyJyApO1xuXG5cblxuZnVuY3Rpb24gQWJzdHJhY3RQYWdlc0NvbnRyb2xsZXIoKSB7XG5cdEN1c3RvbUV2ZW50LmNhbGwoIHRoaXMgKTtcblx0XG5cdHRoaXMuTE9BRElOR19NT0RFXHRcdFx0PSAnYnlQYWdlU3RhdGljJzsgLy8gY2FuIGJlIGFsbFN0YXRpYywgYnlQYWdlU3RhdGljLCBieVBhZ2VEeW5hbWljXG5cdHRoaXMuRFlOQU1JQ19JTUdfVE9fTE9BRFx0PSAnaW1nJzsgLy8gdXNlZCB3aGVuIExPQURJTkdfTU9ERSA9PSAnYnlQYWdlRHluYW1pYycsIGNhbiBiZSBpbWcuY2xhc3MgZm9yIHNlbGVjdGl2ZSBwcmVsb2FkXG5cdHRoaXMuSVNfSElERV9JTklUXHRcdFx0PSB0cnVlOyAvLyBzZXQgdG8gdHJ1ZSBpZiBuZWVkIGEgZGlmZmVyZW50IGJlaGF2aW9yIHdoZW4gaGlkZSBsb2FkZXIgb24gaW5pdFxuXHRcblx0dGhpcy5wYWdlc1x0XHRcdFx0XHQ9IHt9O1xuXHR0aGlzLnBhZ2VcdFx0XHRcdFx0PSBudWxsO1xuXHR0aGlzLnByZXZQYWdlSW5mb3NcdFx0XHQ9IHt9O1xuXHR0aGlzLnBhZ2VJbmZvc1x0XHRcdFx0PSB7fTtcblx0XG5cdHRoaXMuaXNGaXJzdExvYWRcdFx0XHQ9IHRydWU7XG5cdHRoaXMuaXNQYWdlQ2hhbmdlXHRcdFx0PSB0cnVlO1xuXHR0aGlzLmlzQ29udGVudExvYWRlZFx0XHQ9IGZhbHNlO1xuXHR0aGlzLmlzQXNzZXRzTG9hZGVkXHRcdFx0PSBmYWxzZTtcblx0dGhpcy5pc1BhZ2VIaWRkZW5cdFx0XHQ9IGZhbHNlO1xuXHR0aGlzLmlzUGFnZVNob3duXHRcdFx0PSBmYWxzZTtcblx0dGhpcy5pc01haW5Mb2FkZXJTaG93blx0XHQ9IGZhbHNlO1xuXHR0aGlzLmlzTWFpbkxvYWRlckhpZGRlblx0XHQ9IGZhbHNlO1xuXHRcblx0dGhpcy5kYXRhXHRcdFx0XHRcdD0gbnVsbDtcbn1cblxuXG5BYnN0cmFjdFBhZ2VzQ29udHJvbGxlci5wcm90b3R5cGVcdFx0XHRcdD0gT2JqZWN0LmNyZWF0ZSggQ3VzdG9tRXZlbnQucHJvdG90eXBlICk7XG5BYnN0cmFjdFBhZ2VzQ29udHJvbGxlci5wcm90b3R5cGUuY29uc3RydWN0b3JcdD0gQWJzdHJhY3RQYWdlc0NvbnRyb2xsZXI7XG5cblxuQWJzdHJhY3RQYWdlc0NvbnRyb2xsZXIucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbigpIHtcblx0dGhpcy5pbml0UGFnZXMoKTtcblx0dGhpcy5pbml0RWwoKTtcbn07XG5cblxuQWJzdHJhY3RQYWdlc0NvbnRyb2xsZXIucHJvdG90eXBlLmluaXRQYWdlcyA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLnBhZ2VzID0ge1xuXHRcdCdlcnJvci00MDQnOlx0XHRFcnJvcjQwNCxcblx0XHQnbGVnYWwtbm90aWNlcyc6XHRMZWdhbE5vdGljZXMsXG5cdFx0J2hvbWUnOlx0XHRcdFx0SG9tZSxcblx0XHQvLyAnYWJvdXQnOlx0XHRcdEFib3V0LFxuXHRcdCdwcm9qZWN0cyc6XHRcdFx0UHJvamVjdHMsXG5cdFx0J3Byb2plY3QnOlx0XHRcdFByb2plY3QsXG5cdH07XG59O1xuXG5cbkFic3RyYWN0UGFnZXNDb250cm9sbGVyLnByb3RvdHlwZS5pbml0RWwgPSBmdW5jdGlvbigpIHtcblx0Ly8gdGhpcy5hc3NldHNNb2RlbCA9IEFzc2V0c01vZGVsO1xuXHQvLyB0aGlzLmFzc2V0c01vZGVsLmluaXQoKTtcblx0QXNzZXRzTW9kZWwuaW5pdCgpO1xuXHRcblx0Ly8gdGhpcy5tYWluTG9hZGVyID0gU1RGLlZpZXdzLlN0YXRpY3MuTWFpbkxvYWRlcjtcbn07XG5cblxuQWJzdHJhY3RQYWdlc0NvbnRyb2xsZXIucHJvdG90eXBlLmluaXRGaXJzdFBhZ2UgPSBmdW5jdGlvbigpIHtcblx0dGhpcy5iaW5kRXZlbnRzKCk7XG5cdF9zZXRQYWdlSW5mb3MuY2FsbCggdGhpcyApO1xuXHR0aGlzLm1hbmFnZU1lbnVMaW5rcygpO1xuXHRfbG9hZEFzc2V0cy5jYWxsKCB0aGlzICk7XG59O1xuXG5cbkFic3RyYWN0UGFnZXNDb250cm9sbGVyLnByb3RvdHlwZS5iaW5kRXZlbnRzID0gZnVuY3Rpb24oKSB7XG5cdC8vIHRoaXMubWFpbkxvYWRlci5iaW5kKCB0aGlzLm1haW5Mb2FkZXIuRS5GSUxFX0xPQUQsIF9vbkZpbGVMb2FkLCB0aGlzICk7XG5cdC8vIHRoaXMubWFpbkxvYWRlci5iaW5kKCB0aGlzLm1haW5Mb2FkZXIuRS5DT01QTEVURSwgX29uQXNzZXRzTG9hZGVkLCB0aGlzICk7XG5cdE1haW5Mb2FkZXIuYmluZCggTWFpbkxvYWRlci5FLkZJTEVfTE9BRCwgX29uRmlsZUxvYWQsIHRoaXMgKTtcblx0TWFpbkxvYWRlci5iaW5kKCBNYWluTG9hZGVyLkUuQ09NUExFVEUsIF9vbkFzc2V0c0xvYWRlZCwgdGhpcyApO1xufTtcblxuXG52YXIgX3NldFBhZ2VJZCA9IGZ1bmN0aW9uKCB1cmwgKSB7XG5cdHZhciBwYXRoXHQ9IFNURi5Sb3V0ZXIuVVJMLnBhdGggPT09ICcnID8gJ2luZGV4JyA6IFNURi5Sb3V0ZXIuVVJMLnBhdGg7XG5cdHZhciBpZFx0XHQ9IFNURi5Db25maWcuSlNfVklFV1NfSURbIHBhdGggXTtcblx0XG5cdGlmICggaWQgPT09IHVuZGVmaW5lZCApXG5cdFx0aWQgPSAnZXJyb3ItNDA0Jztcblx0XG5cdHRoaXMucHJldlBhZ2VJbmZvcy5pZFx0PSB0aGlzLnBhZ2VJbmZvcy5pZDtcblx0dGhpcy5wYWdlSW5mb3MuaWRcdFx0PSBpZDtcbn07XG5cblxudmFyIF9zZXRQYWdlSW5mb3MgPSBmdW5jdGlvbigpIHtcblx0dmFyICRwYWdlXHQ9ICQoIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCAncGFnZScgKSApO1xuXHR2YXIgaWRcdFx0PSAkcGFnZVswXS5nZXRBdHRyaWJ1dGUoICdkYXRhLWpzLWlkJyApO1xuXHR2YXIgdGl0bGVcdD0gJHBhZ2VbMF0uZ2V0QXR0cmlidXRlKCAnZGF0YS10aXRsZScgKTtcblx0XG5cdGlmICggIVNURi5Db25maWcuTkVFRF9QQUdFX0lEIClcblx0XHR0aGlzLnByZXZQYWdlSW5mb3MuaWRcdD0gdGhpcy5wYWdlSW5mb3MuaWQ7XG5cdHRoaXMucHJldlBhZ2VJbmZvcy50aXRsZVx0PSB0aGlzLnBhZ2VJbmZvcy50aXRsZTtcblx0XG5cdHRoaXMucGFnZUluZm9zLmlkXHRcdFx0PSBpZDtcblx0dGhpcy5wYWdlSW5mb3MudGl0bGVcdFx0PSB0aXRsZTtcblx0XG5cdF9zZXRQYWdlLmNhbGwoIHRoaXMgKTtcblx0XG5cdFNURi5Sb3V0ZXIuc2V0QWx0TGFuZ1VybCggJHBhZ2UgKTtcbn07XG5cblxudmFyIF9zZXRQYWdlID0gZnVuY3Rpb24oKSB7XG5cdGlmICggdGhpcy5wYWdlc1sgdGhpcy5wYWdlSW5mb3MuaWQgXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0aWYgKCAhU1RGLkNvbmZpZy5JU19QUk9EIClcblx0XHRcdGNvbnNvbGUud2FybiggJ1BhZ2VzQ29udHJvbGxlcjogbm8gc3BlY2lmaWMgcGFnZSB2aWV3IGZvciB0aGUgXCInICsgdGhpcy5wYWdlSW5mb3MuaWQgKyAnXCIgSUQuIElmIHlvdSBuZWVkIG9uZSwgY3JlYXRlIGl0IGFuZCB0aGVuIHNldCB0aGUgdmlldyBpbiB0aGUgUGFnZXNDb250cm9sbGVyLnBhZ2VzIG9iamVjdC4nICk7XG5cdFx0XG5cdFx0dGhpcy5wYWdlID0gbmV3IFNURi5BYnN0cmFjdFBhZ2VWaWV3KCk7XG5cdH1cblx0ZWxzZVxuXHRcdHRoaXMucGFnZSA9IG5ldyB0aGlzLnBhZ2VzWyB0aGlzLnBhZ2VJbmZvcy5pZCBdKCk7XG59O1xuXG5cbkFic3RyYWN0UGFnZXNDb250cm9sbGVyLnByb3RvdHlwZS5pbml0UGFnZUNoYW5nZVZhbHVlcyA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLmlzQ29udGVudExvYWRlZFx0PSBmYWxzZTtcblx0dGhpcy5pc0Fzc2V0c0xvYWRlZFx0XHQ9IGZhbHNlO1xuXHR0aGlzLmlzUGFnZUhpZGRlblx0XHQ9IGZhbHNlO1xuXHR0aGlzLmlzUGFnZVNob3duXHRcdD0gZmFsc2U7XG5cdHRoaXMuaXNNYWluTG9hZGVyU2hvd25cdD0gZmFsc2U7XG5cdHRoaXMuaXNNYWluTG9hZGVySGlkZGVuXHQ9IGZhbHNlO1xufTtcblxuXG52YXIgX2xvYWRBc3NldHMgPSBmdW5jdGlvbigpIHtcblx0dmFyIGFBc3NldHNUb0xvYWQgPSB0aGlzLmFzc2V0c01vZGVsLmdldEFzc2V0c1RvTG9hZCggdGhpcy5wYWdlSW5mb3MuaWQsIHRoaXMuaXNGaXJzdExvYWQsIHRoaXMuTE9BRElOR19NT0RFICk7XG5cdFxuXHQvLyB0aGlzLm1haW5Mb2FkZXIubG9hZEFzc2V0cyggYUFzc2V0c1RvTG9hZCApO1xuXHRNYWluTG9hZGVyLmxvYWRBc3NldHMoIGFBc3NldHNUb0xvYWQgKTtcbn07XG5cblxudmFyIF9vbkZpbGVMb2FkID0gZnVuY3Rpb24oIGUgKSB7XG5cdGlmICggZS5pdGVtLnR5cGUgPT0gJ2ltYWdlJyApXG5cdFx0X29uSW1nTG9hZGVkLmNhbGwoIHRoaXMsIGUgKTtcblx0ZWxzZSBpZiAoIGUuaXRlbS50eXBlID09ICdqc29uJyApXG5cdFx0dGhpcy5hc3NldHNNb2RlbC5zZXRKc29uRGF0YSggZS5pdGVtLmlkLCBlLnJlc3VsdCApO1xufTtcblxuXG52YXIgX29uSW1nTG9hZGVkID0gZnVuY3Rpb24oIGUgKSB7XG5cdHZhciAkaW1ncyA9ICQoICdpbWcnICkuZmlsdGVyKCAnWyBkYXRhLXNyYz1cIicgKyBlLml0ZW0uc3JjICsgJ1wiIF0nICk7XG5cdF9zZXRJbWFnZXMuY2FsbCggdGhpcywgJGltZ3MsIGUuaXRlbS5zcmMsICdwcmVsb2FkZWQnICk7XG59O1xuXG5cbnZhciBfc2V0SW1hZ2VzID0gZnVuY3Rpb24oICRpbWdzLCBzcmMsIGRhdGFTcmMgKSB7XG5cdHZhciAkaW1nO1xuXHRcblx0Zm9yICggdmFyIGkgPSAwOyBpIDwgJGltZ3MubGVuZ3RoOyBpKysgKSB7XG5cdFx0JGltZ1x0XHQ9ICRpbWdzWyBpIF07XG5cdFx0JGltZy5zcmNcdD0gc3JjICE9PSBudWxsID8gc3JjIDogJGltZy5nZXRBdHRyaWJ1dGUoICdkYXRhLXNyYycgKTtcblx0XHRcblx0XHQkaW1nLm9mZnNldEhlaWdodDsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cdFx0JGltZy5zZXRBdHRyaWJ1dGUoICdkYXRhLXNyYycsIGRhdGFTcmMgKTtcblx0fVxufTtcblxuXG52YXIgX29uQXNzZXRzTG9hZGVkID0gZnVuY3Rpb24oKSB7XG5cdF9zaG93Tm9uTG9hZGVkSW1hZ2VzLmNhbGwoIHRoaXMgKTtcblx0XG5cdFxuXHQvLyBmaXJzdCBsb2FkXG5cdGlmICggdGhpcy5pc0ZpcnN0TG9hZCApIHtcblx0XHRTVEYuTWFpblZpZXcuaW5pdEFmdGVyQXNzZXRzTG9hZGVkKCk7XG5cdFx0XG5cdFx0dGhpcy5wYWdlLmluaXQoKTtcblx0XHRcblx0XHR0aGlzLnBhZ2UuYmluZCggdGhpcy5wYWdlLkUuU0hPV04sIHRoaXMub25QYWdlU2hvd24sIHRoaXMgKTtcblx0XHR0aGlzLnBhZ2Uuc2hvdygpO1xuXHRcdFxuXHRcdC8vIHRoaXMubWFpbkxvYWRlci5iaW5kKCB0aGlzLm1haW5Mb2FkZXIuRS5ISURERU4sIHRoaXMub25NYWluTG9hZGVySGlkZGVuLCB0aGlzICk7XG5cdFx0TWFpbkxvYWRlci5iaW5kKCBNYWluTG9hZGVyLkUuSElEREVOLCB0aGlzLm9uTWFpbkxvYWRlckhpZGRlbiwgdGhpcyApO1xuXHRcdFxuXHRcdGlmICggdGhpcy5JU19ISURFX0lOSVQgKVxuXHRcdFx0Ly8gdGhpcy5tYWluTG9hZGVyLmhpZGVJbml0KCk7XG5cdFx0XHRNYWluTG9hZGVyLmhpZGVJbml0KCk7XG5cdFx0XG5cdFx0ZWxzZVxuXHRcdFx0Ly8gdGhpcy5tYWluTG9hZGVyLmhpZGUoKTtcblx0XHRcdE1haW5Mb2FkZXIuaGlkZSgpO1xuXHR9XG5cdFxuXHRcblx0Ly8gcGFnZSBjaGFuZ2UgbG9hZFxuXHRlbHNlIGlmICggIXRoaXMuaXNGaXJzdExvYWQgJiYgKCB0aGlzLkxPQURJTkdfTU9ERSA9PSAnYnlQYWdlU3RhdGljJyB8fCB0aGlzLkxPQURJTkdfTU9ERSA9PSAnYnlQYWdlRHluYW1pYycgKSApIHtcblx0XHR0aGlzLmlzQXNzZXRzTG9hZGVkID0gdHJ1ZTtcblx0XHRcblx0XHR0aGlzLmNoZWNrUGFnZUhpZGluZygpO1xuXHR9XG59O1xuXG5cbnZhciBfc2hvd05vbkxvYWRlZEltYWdlcyA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgJGltZ3NDb250ID0gdGhpcy5pc0ZpcnN0TG9hZCA/IFNURi5NYWluVmlldy4kYm9keSA6IFNURi5NYWluVmlldy4kcGFnZUNvbnQ7XG5cdFxuXHR2YXIgJGltZ3MgPSAkaW1nc0NvbnQuZmluZCggJ2ltZycgKS5maWx0ZXIoIGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZSggJ2RhdGEtbGF6eWxvYWQnICkgIT0gJ3RydWUnICYmIHRoaXMuZ2V0QXR0cmlidXRlKCAnZGF0YS1zcmMnICkgIT0gJ3ByZWxvYWRlZCc7XG5cdH0gKTtcblx0XG5cdF9zZXRJbWFnZXMuY2FsbCggdGhpcywgJGltZ3MsIG51bGwsICdub24tcHJlbG9hZGVkJyApO1xufTtcblxuXG5BYnN0cmFjdFBhZ2VzQ29udHJvbGxlci5wcm90b3R5cGUuY2hhbmdlUGFnZSA9IGZ1bmN0aW9uKCB1cmwgKSB7XG5cdFNURi5Sb3V0ZXIudXBkYXRlR0EoKTtcblx0XG5cdGlmICggU1RGLkNvbmZpZy5ORUVEX1BBR0VfSUQgKVxuXHRcdF9zZXRQYWdlSWQuY2FsbCggdGhpcywgdXJsICk7XG5cdFxuXHRfZGlzYWJsZVBhZ2VDaGFuZ2UuY2FsbCggdGhpcyApO1xuXHR0aGlzLmluaXRQYWdlQ2hhbmdlVmFsdWVzKCk7XG5cdFxuXHRpZiAoIHRoaXMuTE9BRElOR19NT0RFID09ICdhbGxTdGF0aWMnIClcblx0XHR0aGlzLmlzQXNzZXRzTG9hZGVkID0gdHJ1ZTtcblx0XG5cdF9sb2FkQ29udGVudC5jYWxsKCB0aGlzLCB1cmwgKTtcblx0XG5cdHRoaXMubWFuYWdlUGFnZUhpZGluZ1RyYW5zaXRpb25zKCk7XG59O1xuXG5cbkFic3RyYWN0UGFnZXNDb250cm9sbGVyLnByb3RvdHlwZS5jaGFuZ2VTZWFyY2ggPSBmdW5jdGlvbigpIHtcblx0dGhpcy5wYWdlLnVwZGF0ZVNlYXJjaCgpO1xufTtcblxuXG5BYnN0cmFjdFBhZ2VzQ29udHJvbGxlci5wcm90b3R5cGUuY2hhbmdlSGFzaCA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLnBhZ2UudXBkYXRlSGFzaCgpO1xufTtcblxuXG52YXIgX2xvYWRDb250ZW50ID0gZnVuY3Rpb24oIHVybCApIHtcblx0Ly8gc2V0VGltZW91dCggZnVuY3Rpb24oKSB7IC8vIHNpbXVsYXRlIGEgdmVyeSBzbG93IGNvbm5lY3Rpb24gPSB2ZXJ5IGxvbmcgbG9hZFxuXHRcblx0JC5hamF4KHtcblx0XHRjb250ZXh0Olx0dGhpcyxcblx0XHR1cmw6XHRcdHVybCxcblx0XHR0eXBlOlx0XHQnUE9TVCcsXG5cdFx0ZGF0YTpcdFx0e1xuXHRcdFx0XHRcdFx0Ly8gdXNlZnVsIGlmIG5lZWQgZGlmZmVyZW50cyBiZWhhdmlvciBvbiBQSFAgZmlsZSB3aGVuIEFKQVggbG9hZFxuXHRcdFx0XHRcdFx0Ly8gY2FuIGJlIGdvdCB3aXRoICRfUE9TVFsnYWpheCddICYgJF9QT1NUWyd0eXBlJ11cblx0XHRcdFx0XHRcdGFqYXg6ICd0cnVlJyxcblx0XHRcdFx0XHRcdHR5cGU6ICdwYWdlQ2hhbmdlJ1xuXHRcdFx0XHRcdH0sXG5cdFx0ZGF0YVR5cGU6XHQnaHRtbCcsXG5cdFx0c3VjY2VzczpcdF9vbkNvbnRlbnRMb2FkZWQuYmluZCggdGhpcyApLFxuXHRcdGVycm9yOlx0XHRfb25Db250ZW50RXJyb3IuYmluZCggdGhpcyApXG5cdH0pO1xuXHRcblx0Ly8gfS5iaW5kKCB0aGlzICksIDMwMDAgKTsgLy8gc2ltdWxhdGUgYSB2ZXJ5IHNsb3cgY29ubmVjdGlvbiA9IHZlcnkgbG9uZyBsb2FkXG59O1xuXG5cbnZhciBfb25Db250ZW50TG9hZGVkID0gZnVuY3Rpb24oIGRhdGEgKSB7XG5cdHRoaXMuZGF0YSA9IGRhdGE7XG5cdFxuXHR0aGlzLmlzQ29udGVudExvYWRlZCA9IHRydWU7XG5cdHRoaXMuY2hlY2tQYWdlSGlkaW5nKCk7XG59O1xuXG5cbnZhciBfb25Db250ZW50RXJyb3IgPSBmdW5jdGlvbiggZSApIHtcblx0Y29uc29sZS53YXJuKCAnQWpheCBsb2FkaW5nIGVycm9yJywgZSApO1xuXHRcblx0aWYgKCBlLnN0YXR1cyA9PSA0MDQgKVxuXHRcdF9mb3JjZTQwNExvYWQuY2FsbCggdGhpcyApO1xufTtcblxuXG52YXIgX2ZvcmNlNDA0TG9hZCA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgbGFuZ1x0PSBTVEYuTGFuZy5NVUxUSV9MQU5HID8gU1RGLkxhbmcuTEFORyArICcvJyA6ICcnO1xuXHR2YXIgdXJsXHRcdD0gU1RGLlBhdGguVVJMLmJhc2UgKyBsYW5nICsgJzQwNCc7XG5cdFxuXHRfbG9hZENvbnRlbnQuY2FsbCggdGhpcywgdXJsICk7XG59O1xuXG5cbkFic3RyYWN0UGFnZXNDb250cm9sbGVyLnByb3RvdHlwZS5tYW5hZ2VQYWdlSGlkaW5nVHJhbnNpdGlvbnMgPSBmdW5jdGlvbigpIHtcblx0dGhpcy5wYWdlLmJpbmQoIHRoaXMucGFnZS5FLkhJRERFTiwgdGhpcy5vblBhZ2VIaWRkZW4sIHRoaXMgKTtcblx0dGhpcy5wYWdlLmhpZGUoKTtcblx0XG5cdC8vIHRoaXMubWFpbkxvYWRlci5iaW5kKCB0aGlzLm1haW5Mb2FkZXIuRS5TSE9XTiwgdGhpcy5vbk1haW5Mb2FkZXJTaG93biwgdGhpcyApO1xuXHQvLyB0aGlzLm1haW5Mb2FkZXIuc2hvdygpO1xuXHRNYWluTG9hZGVyLmJpbmQoIE1haW5Mb2FkZXIuRS5TSE9XTiwgdGhpcy5vbk1haW5Mb2FkZXJTaG93biwgdGhpcyApO1xuXHRNYWluTG9hZGVyLnNob3coKTtcbn07XG5cblxuQWJzdHJhY3RQYWdlc0NvbnRyb2xsZXIucHJvdG90eXBlLm9uUGFnZUhpZGRlbiA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLnBhZ2UudW5iaW5kKCB0aGlzLnBhZ2UuRS5ISURERU4sIHRoaXMub25QYWdlSGlkZGVuLCB0aGlzICk7XG5cdFxuXHRfZGVzdHJveVBhZ2UuY2FsbCggdGhpcyApO1xuXHRcblx0dGhpcy5pc1BhZ2VIaWRkZW4gPSB0cnVlO1xuXHR0aGlzLmNoZWNrUGFnZUhpZGluZygpO1xufTtcblxuXG52YXIgX2Rlc3Ryb3lQYWdlID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMucGFnZS5kZXN0cm95KCk7XG5cdHRoaXMucGFnZSA9IG51bGw7XG59O1xuXG5cbkFic3RyYWN0UGFnZXNDb250cm9sbGVyLnByb3RvdHlwZS5vbk1haW5Mb2FkZXJTaG93biA9IGZ1bmN0aW9uKCkge1xuXHQvLyB0aGlzLm1haW5Mb2FkZXIudW5iaW5kKCB0aGlzLm1haW5Mb2FkZXIuRS5TSE9XTiwgdGhpcy5vbk1haW5Mb2FkZXJTaG93biwgdGhpcyApO1xuXHRNYWluTG9hZGVyLnVuYmluZCggTWFpbkxvYWRlci5FLlNIT1dOLCB0aGlzLm9uTWFpbkxvYWRlclNob3duLCB0aGlzICk7XG5cdFxuXHR0aGlzLmlzTWFpbkxvYWRlclNob3duID0gdHJ1ZTtcblx0dGhpcy5jaGVja1BhZ2VIaWRpbmcoKTtcbn07XG5cblxuQWJzdHJhY3RQYWdlc0NvbnRyb2xsZXIucHJvdG90eXBlLmNoZWNrUGFnZUhpZGluZyA9IGZ1bmN0aW9uKCkge1xuXHRpZiAoIHRoaXMuIExPQURJTkdfTU9ERSA9PSAnYWxsU3RhdGljJyAmJlxuXHRcdCB0aGlzLmlzQ29udGVudExvYWRlZCAmJiB0aGlzLmlzQXNzZXRzTG9hZGVkICYmIHRoaXMuaXNQYWdlSGlkZGVuICYmIHRoaXMuaXNNYWluTG9hZGVyU2hvd24gKSB7XG5cdFx0XG5cdFx0dGhpcy5zZXRDb250ZW50KCk7XG5cdFx0dGhpcy5zaG93UGFnZSgpO1xuXHR9XG5cdFxuXHRlbHNlIGlmICggKCB0aGlzLiBMT0FESU5HX01PREUgPT0gJ2J5UGFnZVN0YXRpYycgfHwgdGhpcy4gTE9BRElOR19NT0RFID09ICdieVBhZ2VEeW5hbWljJyApICYmXG5cdFx0XHQgIHRoaXMuaXNDb250ZW50TG9hZGVkICYmICF0aGlzLmlzQXNzZXRzTG9hZGVkICYmIHRoaXMuaXNQYWdlSGlkZGVuICYmIHRoaXMuaXNNYWluTG9hZGVyU2hvd24gKSB7XG5cdFx0XG5cdFx0dGhpcy5zZXRDb250ZW50KCk7XG5cdH1cblx0XG5cdGVsc2UgaWYgKCAoIHRoaXMuIExPQURJTkdfTU9ERSA9PSAnYnlQYWdlU3RhdGljJyB8fCB0aGlzLiBMT0FESU5HX01PREUgPT0gJ2J5UGFnZUR5bmFtaWMnICkgJiZcblx0XHRcdCAgdGhpcy5pc0NvbnRlbnRMb2FkZWQgJiYgdGhpcy5pc0Fzc2V0c0xvYWRlZCAmJiB0aGlzLmlzUGFnZUhpZGRlbiAmJiB0aGlzLmlzTWFpbkxvYWRlclNob3duICkge1xuXHRcdFxuXHRcdHRoaXMuc2hvd1BhZ2UoKTtcblx0fVxufTtcblxuXG5BYnN0cmFjdFBhZ2VzQ29udHJvbGxlci5wcm90b3R5cGUuc2V0Q29udGVudCA9IGZ1bmN0aW9uKCkge1xuXHRTVEYuTWFpblZpZXcuJHBhZ2VDb250WzBdLmlubmVySFRNTCA9IHRoaXMuZGF0YTtcblx0XG5cdF9zZXRQYWdlSW5mb3MuY2FsbCggdGhpcyApO1xuXHRcblx0aWYgKCB0aGlzLiBMT0FESU5HX01PREUgIT0gJ2FsbFN0YXRpYycgKSB7XG5cdFx0U1RGX3Jlc2V0SW1ncyggU1RGLk1haW5WaWV3LiRwYWdlQ29udC5maW5kKCAnaW1nJyApICk7XG5cdFx0c2V0VGltZW91dCggZnVuY3Rpb24oKSB7IF9sb2FkQXNzZXRzLmNhbGwoIHRoaXMgKTsgfS5iaW5kKCB0aGlzICksIDAgKTtcblx0fVxuXHRcblx0dGhpcy5kYXRhID0gbnVsbDtcbn07XG5cblxuQWJzdHJhY3RQYWdlc0NvbnRyb2xsZXIucHJvdG90eXBlLnNob3dQYWdlID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMubWFuYWdlTWVudUxpbmtzKCk7XG5cdF91cGRhdGVUaXRsZS5jYWxsKCB0aGlzICk7XG5cdFxuXHR0aGlzLnBhZ2UuaW5pdCgpO1xuXHRcblx0dGhpcy5tYW5hZ2VQYWdlU2hvd2luZ1RyYW5zaXRpb25zKCk7XG59O1xuXG5cbkFic3RyYWN0UGFnZXNDb250cm9sbGVyLnByb3RvdHlwZS5tYW5hZ2VQYWdlU2hvd2luZ1RyYW5zaXRpb25zID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMucGFnZS5iaW5kKCB0aGlzLnBhZ2UuRS5TSE9XTiwgdGhpcy5vblBhZ2VTaG93biwgdGhpcyApO1xuXHR0aGlzLnBhZ2Uuc2hvdygpO1xuXHRcblx0Ly8gdGhpcy5tYWluTG9hZGVyLmJpbmQoIHRoaXMubWFpbkxvYWRlci5FLkhJRERFTiwgdGhpcy5vbk1haW5Mb2FkZXJIaWRkZW4sIHRoaXMgKTtcblx0Ly8gdGhpcy5tYWluTG9hZGVyLmhpZGUoKTtcblx0TWFpbkxvYWRlci5iaW5kKCBNYWluTG9hZGVyLkUuSElEREVOLCB0aGlzLm9uTWFpbkxvYWRlckhpZGRlbiwgdGhpcyApO1xuXHRNYWluTG9hZGVyLmhpZGUoKTtcbn07XG5cblxuQWJzdHJhY3RQYWdlc0NvbnRyb2xsZXIucHJvdG90eXBlLm9uUGFnZVNob3duID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMucGFnZS51bmJpbmQoIHRoaXMucGFnZS5FLlNIT1dOLCB0aGlzLm9uUGFnZVNob3duLCB0aGlzICk7XG5cdFxuXHR0aGlzLmlzUGFnZVNob3duID0gdHJ1ZTtcblx0dGhpcy5jaGVja1BhZ2VTaG93aW5nKCk7XG59O1xuXG5cbkFic3RyYWN0UGFnZXNDb250cm9sbGVyLnByb3RvdHlwZS5vbk1haW5Mb2FkZXJIaWRkZW4gPSBmdW5jdGlvbigpIHtcblx0Ly8gdGhpcy5tYWluTG9hZGVyLnVuYmluZCggdGhpcy5tYWluTG9hZGVyLkUuSElEREVOLCB0aGlzLm9uTWFpbkxvYWRlckhpZGRlbiwgdGhpcyApO1xuXHRNYWluTG9hZGVyLnVuYmluZCggTWFpbkxvYWRlci5FLkhJRERFTiwgdGhpcy5vbk1haW5Mb2FkZXJIaWRkZW4sIHRoaXMgKTtcblx0XG5cdHRoaXMuaXNNYWluTG9hZGVySGlkZGVuID0gdHJ1ZTtcblx0dGhpcy5jaGVja1BhZ2VTaG93aW5nKCk7XG59O1xuXG5cbkFic3RyYWN0UGFnZXNDb250cm9sbGVyLnByb3RvdHlwZS5jaGVja1BhZ2VTaG93aW5nID0gZnVuY3Rpb24oKSB7XG5cdGlmICggdGhpcy5pc1BhZ2VTaG93biAmJiB0aGlzLmlzTWFpbkxvYWRlckhpZGRlbiApXG5cdFx0dGhpcy5lbmFibGVQYWdlQ2hhbmdlKCk7XG59O1xuXG5cbkFic3RyYWN0UGFnZXNDb250cm9sbGVyLnByb3RvdHlwZS5tYW5hZ2VNZW51TGlua3MgPSBmdW5jdGlvbigpIHtcblx0XG59O1xuXG5cbkFic3RyYWN0UGFnZXNDb250cm9sbGVyLnByb3RvdHlwZS51cGRhdGVNZW51TGlua3MgPSBmdW5jdGlvbiggJGxpbmsgKSB7XG5cdHZhciAkbGlua1RvSW5hY3RpdmF0ZVx0PSAkbGluay5maWx0ZXIoICcuYWN0aXZlJyApO1xuXHR2YXIgJGxpbmtUb0FjdGl2YXRlXHRcdD0gJGxpbmsuZmlsdGVyKCAnWyBkYXRhLWxpbmstaWQ9XCInICsgdGhpcy5wYWdlSW5mb3MuaWQgKyAnXCIgXScgKTtcblx0XG5cdGlmICggJGxpbmtUb0luYWN0aXZhdGUubGVuZ3RoID4gMCApXG5cdFx0U1RGX2RvbV9yZW1vdmVDbGFzcyggJGxpbmtUb0luYWN0aXZhdGVbMF0sICdhY3RpdmUnICk7XG5cdGlmICggJGxpbmtUb0FjdGl2YXRlLmxlbmd0aCApXG5cdFx0U1RGX2RvbV9hZGRDbGFzcyggJGxpbmtUb0FjdGl2YXRlWzBdLCAnYWN0aXZlJyApO1xufTtcblxuXG5BYnN0cmFjdFBhZ2VzQ29udHJvbGxlci5wcm90b3R5cGUubWFuYWdlTGFuZ0xpbmtzID0gZnVuY3Rpb24oKSB7XG5cdFxufTtcblxuXG5BYnN0cmFjdFBhZ2VzQ29udHJvbGxlci5wcm90b3R5cGUuY2hhbmdlTGFuZ0xpbmtzID0gZnVuY3Rpb24oICRsaW5rcyApIHtcblx0dmFyICRsaW5rO1xuXHRcblx0Zm9yICggdmFyIGkgPSAwOyBpIDwgJGxpbmtzLmxlbmd0aDsgaSsrICkge1xuXHRcdCRsaW5rXHRcdD0gJGxpbmtzWyBpIF07XG5cdFx0JGxpbmsuaHJlZlx0PSBTVEYuUm91dGVyLkFMVF9MQU5HX1VSTFsgJGxpbmsuZ2V0QXR0cmlidXRlKCAnZGF0YS1sYW5nJyApIF07XG5cdH1cbn07XG5cblxudmFyIF91cGRhdGVUaXRsZSA9IGZ1bmN0aW9uKCkge1xuXHRkb2N1bWVudC50aXRsZSA9IHRoaXMucGFnZUluZm9zLnRpdGxlO1xufTtcblxuXG5BYnN0cmFjdFBhZ2VzQ29udHJvbGxlci5wcm90b3R5cGUuZW5hYmxlUGFnZUNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLmlzUGFnZUNoYW5nZSA9IGZhbHNlO1xuXHRcblx0aWYgKCB0aGlzLmlzRmlyc3RMb2FkIClcblx0XHR0aGlzLmlzRmlyc3RMb2FkID0gZmFsc2U7XG5cdFxuXHRTVEYuUm91dGVyLmNoZWNrVXJsQ29ycmVzcG9uZGVuY2UoKTtcbn07XG5cblxudmFyIF9kaXNhYmxlUGFnZUNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLmlzUGFnZUNoYW5nZSA9IHRydWU7XG59O1xuXG5cbm1vZHVsZS5leHBvcnRzID0gQWJzdHJhY3RQYWdlc0NvbnRyb2xsZXI7XG5cbiIsIid1c2Ugc3RyaWN0JztcblxuXG52YXIgQWJzdHJhY3RWaWV3ID0gcmVxdWlyZSggJ3NoYXJlZC9hYnN0cmFjdHMvdmlld3MvQWJzdHJhY3RWaWV3JyApO1xuXG5cblxuZnVuY3Rpb24gQWJzdHJhY3RNYWluTG9hZGVyKCkge1xuXHRBYnN0cmFjdFZpZXcuY2FsbCggdGhpc8KgKTtcblx0XG5cdHRoaXMuRSA9IHtcblx0XHRQUk9HUkVTUzpcdCdwcm9ncmVzcycsXG5cdFx0RklMRV9MT0FEOlx0J2ZpbGVMb2FkJyxcblx0XHRDT01QTEVURTpcdCdjb21wbGV0ZScsXG5cdFx0U0hPV046XHRcdCdzaG93bicsXG5cdFx0SElEREVOOlx0XHQnaGlkZGVuJ1xuXHR9O1xufVxuXG5cbkFic3RyYWN0TWFpbkxvYWRlci5wcm90b3R5cGVcdFx0XHRcdD0gT2JqZWN0LmNyZWF0ZSggQWJzdHJhY3RWaWV3LnByb3RvdHlwZSApO1xuQWJzdHJhY3RNYWluTG9hZGVyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvclx0PSBBYnN0cmFjdE1haW5Mb2FkZXI7XG5cblxuQWJzdHJhY3RNYWluTG9hZGVyLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oKSB7XG5cdEFic3RyYWN0Vmlldy5wcm90b3R5cGUuaW5pdC5jYWxsKCB0aGlzICk7XG5cdFxuXHRfaW5zdGFuY2VBc3NldHNMb2FkZXIuY2FsbCggdGhpcyApO1xufTtcblxuXG5BYnN0cmFjdE1haW5Mb2FkZXIucHJvdG90eXBlLmluaXRET00gPSBmdW5jdGlvbigpIHtcblx0XG59O1xuXG5cbkFic3RyYWN0TWFpbkxvYWRlci5wcm90b3R5cGUuaW5pdFRsID0gZnVuY3Rpb24oKSB7XG5cdFxufTtcblxuXG5BYnN0cmFjdE1haW5Mb2FkZXIucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uKCkge1xuXHRBYnN0cmFjdFZpZXcucHJvdG90eXBlLnJlc2l6ZS5jYWxsKCB0aGlzICk7XG59O1xuXG5cbnZhciBfaW5zdGFuY2VBc3NldHNMb2FkZXIgPSBmdW5jdGlvbigpIHtcblx0dGhpcy5hc3NldHNMb2FkZXIgPSBuZXcgU1RGLkxvYWRlciggdHJ1ZSwgdHJ1ZSApO1xuXHR0aGlzLmFzc2V0c0xvYWRlci5pbml0KCk7XG5cdFxuXHR0aGlzLmFzc2V0c0xvYWRlci5iaW5kKCB0aGlzLmFzc2V0c0xvYWRlci5FLlBST0dSRVNTLCB0aGlzLm9uUHJvZ3Jlc3MsIHRoaXMgKTtcblx0dGhpcy5hc3NldHNMb2FkZXIuYmluZCggdGhpcy5hc3NldHNMb2FkZXIuRS5GSUxFX0xPQUQsIF9vbkZpbGVMb2FkLCB0aGlzICk7XG5cdHRoaXMuYXNzZXRzTG9hZGVyLmJpbmQoIHRoaXMuYXNzZXRzTG9hZGVyLkUuQ09NUExFVEUsIF9vbkNvbXBsZXRlLCB0aGlzICk7XG59O1xuXG5cbkFic3RyYWN0TWFpbkxvYWRlci5wcm90b3R5cGUubG9hZEFzc2V0cyA9IGZ1bmN0aW9uKCBhQXNzZXRzVG9Mb2FkICkge1xuXHQvLyBjb25zb2xlLmxvZyggYUFzc2V0c1RvTG9hZCApO1xuXHRcblx0dGhpcy5hc3NldHNMb2FkZXIuc3RhcnRMb2FkKCBhQXNzZXRzVG9Mb2FkICk7XG59O1xuXG5cbkFic3RyYWN0TWFpbkxvYWRlci5wcm90b3R5cGUub25Qcm9ncmVzcyA9IGZ1bmN0aW9uKCBwZXJjZW50YWdlICkge1xuXHRcbn07XG5cblxudmFyIF9vbkZpbGVMb2FkID0gZnVuY3Rpb24oIGUgKSB7XG5cdHRoaXMuZGlzcGF0Y2goIHRoaXMuRS5GSUxFX0xPQUQsIGUgKTtcbn07XG5cblxudmFyIF9vbkNvbXBsZXRlID0gZnVuY3Rpb24oIGRhdGEgKSB7XG5cdHRoaXMuZGlzcGF0Y2goIHRoaXMuRS5DT01QTEVURSwgZGF0YSApO1xufTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IEFic3RyYWN0TWFpbkxvYWRlcjtcblxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5cbnZhciBBYnN0cmFjdFZpZXdcdD0gcmVxdWlyZSggJ3NoYXJlZC9hYnN0cmFjdHMvdmlld3MvQWJzdHJhY3RWaWV3JyApO1xuLy8gdmFyIEN1c3RvbUV2ZW50XHRcdD0gcmVxdWlyZSggJ3NoYXJlZC9ldmVudHMvQ3VzdG9tRXZlbnQnICk7XG52YXIgUGF0aFx0XHRcdD0gcmVxdWlyZSggJ3NoYXJlZC9jb25maWdzL1BhdGgnICk7XG5cbi8vIHZhciBNYWluTG9hZGVyXHRcdD0gcmVxdWlyZSggJ2Rlc2t0b3Avdmlld3Mvc3RhdGljcy9NYWluTG9hZGVyJyApO1xuLy8gdmFyIEhlYWRlclx0XHRcdD0gcmVxdWlyZSggJ2Rlc2t0b3Avdmlld3Mvc3RhdGljcy9IZWFkZXInICk7XG4vLyB2YXIgUGFnZXNDb250cm9sbGVyXHQ9IHJlcXVpcmUoICdkZXNrdG9wL2NvbnRyb2xsZXJzL1BhZ2VzQ29udHJvbGxlcicgKTtcblxuXG5cbmZ1bmN0aW9uIEFic3RyYWN0TWFpblZpZXcoKSB7XG5cdEFic3RyYWN0Vmlldy5jYWxsKCB0aGlzICk7XG5cdC8vIEN1c3RvbUV2ZW50LmNhbGwoIHRoaXMgKTtcblx0XG5cdHRoaXMuRSA9IHtcblx0XHRSRVNJWkU6XHRcdFx0J3Jlc2l6ZScsXG5cdFx0UkFGOlx0XHRcdCdyYWYnLFxuXHRcdE1PVVNFX01PVkU6XHRcdCdtb3VzZW1vdmUnLFxuXHRcdE1PVVNFX0RPV046XHRcdCdtb3VzZWRvd24nLFxuXHRcdE1PVVNFX1VQOlx0XHQnbW91c2V1cCcsXG5cdFx0VE9VQ0hfTU9WRTpcdFx0J3RvdWNobW92ZScsXG5cdFx0VE9VQ0hfU1RBUlQ6XHQndG91Y2hzdGFydCcsXG5cdFx0VE9VQ0hfRU5EOlx0XHQndG91Y2hlbmQnLFxuXHRcdFdJTkRPV19PVVQ6XHRcdCd3aW5kb3dvdXQnLFxuXHRcdFdJTkRPV19JTjpcdFx0J3dpbmRvd2luJ1xuXHR9O1xuXHRcblx0dGhpcy5iV1x0XHQ9IG51bGw7IC8vIGJvZHkgd2lkdGhcblx0dGhpcy5iSFx0XHQ9IG51bGw7IC8vIGJvZHkgaGVpZ2h0XG5cdHRoaXMud1dcdFx0PSBudWxsOyAvLyB3aW5kb3cgd2lkdGhcblx0dGhpcy53SFx0XHQ9IG51bGw7IC8vIHdpbmRvdyBoZWlnaHRcblx0dGhpcy5jWFx0XHQ9IG51bGw7IC8vIGNlbnRlciBYXG5cdHRoaXMuY1lcdFx0PSBudWxsOyAvLyBjZW50ZXIgWVxuXHR0aGlzLnNZXHRcdD0gbnVsbDsgLy8gc2Nyb2xsIFlcblx0dGhpcy5zaVlcdD0gbnVsbDsgLy8gc2Nyb2xsIGluZXJ0aWEgWVxuXHR0aGlzLm1YXHRcdD0gbnVsbDsgLy8gbW91c2UgWFxuXHR0aGlzLm1ZXHRcdD0gbnVsbDsgLy8gbW91c2UgWVxuXHR0aGlzLm1pWFx0PSBudWxsOyAvLyBtb3VzZSBpbmVydGlhIFhcblx0dGhpcy5taVlcdD0gbnVsbDsgLy8gbW91c2UgaW5lcnRpYSBZXG5cdHRoaXMudFhcdFx0PSBudWxsOyAvLyB0b3VjaCBYXG5cdHRoaXMudFlcdFx0PSBudWxsOyAvLyB0b3VjaCBZXG5cdFxuXHR0aGlzLlNDUk9MTF9JTkVSVElBXHRcdD0gMC4wNztcblx0dGhpcy5NT1VTRV9JTkVSVElBXHRcdD0gMC4wMztcblx0XG5cdHRoaXMuaXNXaW5kb3dGb2N1c2VkXHQ9IHRydWU7XG59XG5cblxuQWJzdHJhY3RNYWluVmlldy5wcm90b3R5cGVcdFx0XHRcdD0gT2JqZWN0LmNyZWF0ZSggQWJzdHJhY3RWaWV3LnByb3RvdHlwZSApO1xuQWJzdHJhY3RNYWluVmlldy5wcm90b3R5cGUuY29uc3RydWN0b3JcdD0gQWJzdHJhY3RNYWluVmlldztcbi8vIEFic3RyYWN0TWFpblZpZXcucHJvdG90eXBlXHRcdFx0XHQ9IE9iamVjdC5jcmVhdGUoIEN1c3RvbUV2ZW50LnByb3RvdHlwZSApO1xuLy8gQWJzdHJhY3RNYWluVmlldy5wcm90b3R5cGUuY29uc3RydWN0b3JcdD0gQWJzdHJhY3RNYWluVmlldztcblxuXG5BYnN0cmFjdE1haW5WaWV3LnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMuaW5pdERPTSgpO1xuXHR0aGlzLmluaXRFbCgpO1xuXHR0aGlzLmJpbmRFdmVudHMoKTtcblx0XG5cdHRoaXMuaW5pdFN0YXRpY3NWaWV3cygpO1xuXHRcblx0dGhpcy5yZXNpemUoKTtcbn07XG5cblxuQWJzdHJhY3RNYWluVmlldy5wcm90b3R5cGUuaW5pdERPTSA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLiR3aW5kb3dcdD0gJCggd2luZG93ICk7XG5cdHRoaXMuJGJvZHlcdFx0PSAkKCBkb2N1bWVudC5ib2R5ICk7XG5cdHRoaXMuJG1haW5Db250XHQ9ICQoIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCAnbWFpbi1jb250YWluZXInICkgKTtcblx0dGhpcy4kcGFnZUNvbnRcdD0gJCggZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoICdwYWdlLWNvbnRhaW5lcicgKSApO1xufTtcblxuXG5BYnN0cmFjdE1haW5WaWV3LnByb3RvdHlwZS5pbml0RWwgPSBmdW5jdGlvbigpIHtcblx0UGF0aC5vdmVyd3JpdGVTcGVjaWFsUGF0aHMoIHRoaXMuJG1haW5Db250WzBdLmdldEF0dHJpYnV0ZSggJ2RhdGEtYXNzZXRzLWJhc2UtdXJsJyApICk7XG59O1xuXG5cbkFic3RyYWN0TWFpblZpZXcucHJvdG90eXBlLmJpbmRFdmVudHMgPSBmdW5jdGlvbigpIHtcblx0dGhpcy4kd2luZG93Lm9uKCAncmVzaXplJywgJC5wcm94eSggdGhpcy5yZXNpemUsIHRoaXMgKSApO1xuXHQvLyBUd2VlbkxpdGUudGlja2VyLmFkZEV2ZW50TGlzdGVuZXIoICd0aWNrJywgdGhpcy5yYWYsIHRoaXMgKTtcblx0Ly8gdGhpcy4kd2luZG93Lm9uKCAnbW91c2Vtb3ZlJywgJC5wcm94eSggdGhpcy5tb3VzZU1vdmUsIHRoaXMgKSApO1xuXHQvLyB0aGlzLiR3aW5kb3cub24oICdtb3VzZWRvd24nLCAkLnByb3h5KCB0aGlzLm1vdXNlRG93biwgdGhpcyApICk7XG5cdC8vIHRoaXMuJHdpbmRvdy5vbiggJ21vdXNldXAnLCAkLnByb3h5KCB0aGlzLm1vdXNlVXAsIHRoaXMgKSApO1xuXHQvLyB0aGlzLiR3aW5kb3cub24oICd0b3VjaG1vdmUnLCAkLnByb3h5KCB0aGlzLnRvdWNoTW92ZSwgdGhpcyApICk7XG5cdC8vIHRoaXMuJHdpbmRvdy5vbiggJ3RvdWNoc3RhcnQnLCAkLnByb3h5KCB0aGlzLnRvdWNoU3RhcnQsIHRoaXMgKSApO1xuXHQvLyB0aGlzLiR3aW5kb3cub24oICd0b3VjaGVuZCcsICQucHJveHkoIHRoaXMudG91Y2hFbmQsIHRoaXMgKSApO1xuXHQvLyB0aGlzLiR3aW5kb3cub24oICdibHVyJywgJC5wcm94eSggdGhpcy53aW5kb3dPdXQsIHRoaXMgKSApO1xuXHQvLyB0aGlzLiR3aW5kb3cub24oICdmb2N1cycsICQucHJveHkoIHRoaXMud2luZG93SW4sIHRoaXMgKSApO1xufTtcblxuXG5BYnN0cmFjdE1haW5WaWV3LnByb3RvdHlwZS5pbml0U3RhdGljc1ZpZXdzID0gZnVuY3Rpb24oKSB7XG5cdC8vIFNURi5WaWV3cy5TdGF0aWNzLk1haW5Mb2FkZXIuaW5pdCgpO1xuXHQvLyBTVEYuVmlld3MuU3RhdGljcy5IZWFkZXIuaW5pdCgpO1xuXHQvLyBTVEYuVmlld3MuU3RhdGljcy5Gb290ZXIuaW5pdCgpO1xuXHRcblx0Ly8gU1RGX2RvbV9yZW1vdmVDbGFzcyggdGhpcy4kbWFpbkNvbnRbMF0sICdwcmVsb2FkJyApO1xufTtcblxuXG5BYnN0cmFjdE1haW5WaWV3LnByb3RvdHlwZS5kaXNhYmxlU2Nyb2xsUmVzdG9yYXRpb24gPSBmdW5jdGlvbigpIHtcblx0aWYgKCAnc2Nyb2xsUmVzdG9yYXRpb24nIGluIGhpc3RvcnkgKVxuXHRcdGhpc3Rvcnkuc2Nyb2xsUmVzdG9yYXRpb24gPSAnbWFudWFsJztcbn07XG5cblxuQWJzdHJhY3RNYWluVmlldy5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24oKSB7XG5cdF9zZXRSZXNpemVQcm9wcy5jYWxsKCB0aGlzICk7XG5cdFxuXHR0aGlzLmRpc3BhdGNoKCB0aGlzLkUuUkVTSVpFICk7XG59O1xuXG5cbnZhciBfc2V0UmVzaXplUHJvcHMgPSBmdW5jdGlvbigpIHtcblx0dGhpcy5iVyA9IHRoaXMuJGJvZHkud2lkdGgoKTtcblx0dGhpcy5iSCA9IHRoaXMuJGJvZHkuaGVpZ2h0KCk7XG5cdHRoaXMud1cgPSB0aGlzLiR3aW5kb3cud2lkdGgoKTtcblx0dGhpcy53SCA9IHRoaXMuJHdpbmRvdy5oZWlnaHQoKTtcblx0dGhpcy5jWCA9IE1hdGgucm91bmQoIHRoaXMuYlcgLyAyICk7XG5cdHRoaXMuY1kgPSBNYXRoLnJvdW5kKCB0aGlzLndIIC8gMiApO1xuXHRcblx0aWYgKCB0aGlzLm1YID09PSBudWxsICYmIHRoaXMubVkgPT09IG51bGwgKSB7XG5cdFx0dGhpcy5tWCA9IHRoaXMuY1g7XG5cdFx0dGhpcy5tWSA9IHRoaXMuY1k7XG5cdH1cbn07XG5cblxuQWJzdHJhY3RNYWluVmlldy5wcm90b3R5cGUucmFmID0gZnVuY3Rpb24oKSB7XG5cdGlmICggU1RGLkNvbmZpZy5IQVNfRlBTX1NUQVRTICYmICggU1RGLkNvbmZpZy5JU19ERVYgfHwgU1RGLkNvbmZpZy5JU19QUkVQUk9EX0xPQ0FMICkgKVxuXHRcdFNURi5VdGlscy5GUFNTdGF0cy5iZWdpbigpO1xuXHRcblx0XG5cdF9zZXRSYWZQcm9wcy5jYWxsKCB0aGlzICk7XG5cdFxuXHR0aGlzLmRpc3BhdGNoKCB0aGlzLkUuUkFGICk7XG5cdFxuXHRcblx0aWYgKCBTVEYuQ29uZmlnLkhBU19GUFNfU1RBVFMgJiYgKCBTVEYuQ29uZmlnLklTX0RFViB8fCBTVEYuQ29uZmlnLklTX1BSRVBST0RfTE9DQUwgKSApXG5cdFx0U1RGLlV0aWxzLkZQU1N0YXRzLmVuZCgpO1xuXHRcblx0aWYgKCBTVEYuQ29uZmlnLkhBU19NRU1PUllfU1RBVFMgJiYgKCBTVEYuQ29uZmlnLklTX0RFViB8fCBTVEYuQ29uZmlnLklTX1BSRVBST0RfTE9DQUwgKSApXG5cdFx0U1RGLlV0aWxzLk1lbW9yeVN0YXRzLnVwZGF0ZSgpO1xufTtcblxuXG52YXIgX3NldFJhZlByb3BzID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMuc1lcdFx0PSB0aGlzLiR3aW5kb3dbMF0uc2Nyb2xsWSB8fCB0aGlzLiR3aW5kb3dbMF0ucGFnZVlPZmZzZXQ7XG5cdHRoaXMuc2lZXHQ9IFNURl9tYXRoX2dldEluZXJ0aWEoIHRoaXMuc1ksIHRoaXMuc2lZLCB0aGlzLlNDUk9MTF9JTkVSVElBICk7XG5cdFxuXHR0aGlzLm1pWFx0PSBTVEZfbWF0aF9nZXRJbmVydGlhKCB0aGlzLm1YLCB0aGlzLm1pWCwgdGhpcy5NT1VTRV9JTkVSVElBICk7XG5cdHRoaXMubWlZXHQ9IFNURl9tYXRoX2dldEluZXJ0aWEoIHRoaXMubVksIHRoaXMubWlZLCB0aGlzLk1PVVNFX0lORVJUSUEgKTtcbn07XG5cblxuQWJzdHJhY3RNYWluVmlldy5wcm90b3R5cGUubW91c2VNb3ZlID0gZnVuY3Rpb24oIGUgKSB7XG5cdHRoaXMubVggPSBlLmNsaWVudFg7XG5cdHRoaXMubVkgPSBlLmNsaWVudFk7XG5cdFxuXHQvLyBjb25zb2xlLmxvZyggJ0Fic3RyYWN0TWFpblZpZXcgX21vdXNlTW92ZSgpJywgdGhpcy5tWCwgdGhpcy5tWSApO1xuXHRcblx0dGhpcy5kaXNwYXRjaCggdGhpcy5FLk1PVVNFX01PVkUgKTtcbn07XG5cblxuQWJzdHJhY3RNYWluVmlldy5wcm90b3R5cGUubW91c2VEb3duID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMuZGlzcGF0Y2goIHRoaXMuRS5NT1VTRV9ET1dOICk7XG59O1xuXG5cbkFic3RyYWN0TWFpblZpZXcucHJvdG90eXBlLm1vdXNlVXAgPSBmdW5jdGlvbigpIHtcblx0dGhpcy5kaXNwYXRjaCggdGhpcy5FLk1PVVNFX1VQICk7XG59O1xuXG5cbkFic3RyYWN0TWFpblZpZXcucHJvdG90eXBlLnRvdWNoTW92ZSA9IGZ1bmN0aW9uKCBlICkge1xuXHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFxuXHQvLyBaZXB0b1xuXHR0aGlzLnRYID0gZS50b3VjaGVzWzBdLnBhZ2VYO1xuXHR0aGlzLnRZID0gZS50b3VjaGVzWzBdLnBhZ2VZO1xuXHQvLyBqUXVlcnlcblx0Ly8gdGhpcy50WCA9IGUub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdLnBhZ2VYO1xuXHQvLyB0aGlzLnRZID0gZS5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF0ucGFnZVk7XG5cdFxuXHR0aGlzLmRpc3BhdGNoKCB0aGlzLkUuVE9VQ0hfTU9WRSApO1xufTtcblxuXG5BYnN0cmFjdE1haW5WaWV3LnByb3RvdHlwZS50b3VjaFN0YXJ0ID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMuZGlzcGF0Y2goIHRoaXMuRS5UT1VDSF9TVEFSVCApO1xufTtcblxuXG5BYnN0cmFjdE1haW5WaWV3LnByb3RvdHlwZS50b3VjaEVuZCA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLmRpc3BhdGNoKCB0aGlzLkUuVE9VQ0hfRU5EICk7XG59O1xuXG5cbkFic3RyYWN0TWFpblZpZXcucHJvdG90eXBlLndpbmRvd091dCA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLmlzV2luZG93Rm9jdXNlZCA9IGZhbHNlO1xuXHRcblx0dGhpcy5kaXNwYXRjaCggdGhpcy5FLldJTkRPV19PVVQgKTtcbn07XG5cblxuQWJzdHJhY3RNYWluVmlldy5wcm90b3R5cGUud2luZG93SW4gPSBmdW5jdGlvbigpIHtcblx0dGhpcy5pc1dpbmRvd0ZvY3VzZWQgPSB0cnVlO1xuXHRcblx0dGhpcy5kaXNwYXRjaCggdGhpcy5FLldJTkRPV19JTiApO1xufTtcblxuXG5BYnN0cmFjdE1haW5WaWV3LnByb3RvdHlwZS5zZXRTY3JvbGxZID0gZnVuY3Rpb24oIHNjcm9sbFkgKSB7XG5cdHRoaXMuc1lcdFx0PSBzY3JvbGxZO1xuXHR0aGlzLnNpWVx0PSBzY3JvbGxZO1xuXHRcblx0dGhpcy4kd2luZG93WzBdLnNjcm9sbFRvKCAwLCBzY3JvbGxZICk7XG59O1xuXG5cbkFic3RyYWN0TWFpblZpZXcucHJvdG90eXBlLnNldEJvZHlIZWlnaHQgPSBmdW5jdGlvbiggYm9keUggKSB7XG5cdGlmICggYm9keUggPT09IG51bGwgKVxuXHRcdGJvZHlIID0gdGhpcy4kcGFnZUNvbnQuaGVpZ2h0KCk7XG5cdFxuXHR0aGlzLiRib2R5WzBdLnN0eWxlLmhlaWdodCA9IGJvZHlIICsgJ3B4Jztcbn07XG5cblxuQWJzdHJhY3RNYWluVmlldy5wcm90b3R5cGUuaW5pdEFmdGVyQXNzZXRzTG9hZGVkID0gZnVuY3Rpb24oKSB7XG5cdFxufTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IEFic3RyYWN0TWFpblZpZXc7XG5cbiIsIid1c2Ugc3RyaWN0JztcblxuXG52YXIgQ3VzdG9tRXZlbnRcdD0gcmVxdWlyZSggJ3NoYXJlZC9ldmVudHMvQ3VzdG9tRXZlbnQnICk7XG52YXIgTWFpblZpZXdcdD0gcmVxdWlyZSggJ2Rlc2t0b3Avdmlld3MvTWFpblZpZXcnICk7XG5cblxuXG5mdW5jdGlvbiBBYnN0cmFjdFZpZXcoKSB7XG5cdEN1c3RvbUV2ZW50LmNhbGwoIHRoaXMgKTtcblx0XG5cdHRoaXMuRVx0XHQ9IHtcblx0XHRTSE9XOlx0J3Nob3cnLFxuXHRcdFNIT1dOOlx0J3Nob3duJyxcblx0XHRISURFOlx0J2hpZGUnLFxuXHRcdEhJRERFTjpcdCdoaWRkZW4nXG5cdH07XG5cdFxuXHR0aGlzLnR3XHRcdD0ge307XG5cdHRoaXMudGxcdFx0PSB7fTtcblx0XG5cdHRoaXMuaXNJbml0XHQ9IGZhbHNlO1xufVxuXG5cbkFic3RyYWN0Vmlldy5wcm90b3R5cGVcdFx0XHRcdD0gT2JqZWN0LmNyZWF0ZSggQ3VzdG9tRXZlbnQucHJvdG90eXBlICk7XG5BYnN0cmFjdFZpZXcucHJvdG90eXBlLmNvbnN0cnVjdG9yXHQ9IEFic3RyYWN0VmlldztcblxuXG5BYnN0cmFjdFZpZXcucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbigpIHtcblx0dGhpcy5pbml0RE9NKCk7XG5cdHRoaXMuaW5pdEVsKCk7XG5cdHRoaXMuaW5pdFRsKCk7XG5cdHRoaXMuYmluZEV2ZW50cygpO1xuXHRcblx0dGhpcy5yZXNpemUoKTtcbn07XG5cblxuQWJzdHJhY3RWaWV3LnByb3RvdHlwZS5pbml0RE9NID0gZnVuY3Rpb24oKSB7XG5cdC8vIGNvbnNvbGUubG9nKCAnQWJzdHJhY3RWaWV3LmluaXRET00oKSDigJQgJywgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lICk7XG59O1xuXG5cbkFic3RyYWN0Vmlldy5wcm90b3R5cGUuaW5pdEVsID0gZnVuY3Rpb24oKSB7XG5cdC8vIGNvbnNvbGUubG9nKCAnQWJzdHJhY3RWaWV3LmluaXRFbCgpIOKAlCAnLCB0aGlzLmNvbnN0cnVjdG9yLm5hbWUgKTtcbn07XG5cblxuQWJzdHJhY3RWaWV3LnByb3RvdHlwZS5pbml0VGwgPSBmdW5jdGlvbigpIHtcblx0Ly8gY29uc29sZS5sb2coICdBYnN0cmFjdFZpZXcuaW5pdFRsKCkg4oCUICcsIHRoaXMuY29uc3RydWN0b3IubmFtZSApO1xufTtcblxuXG5BYnN0cmFjdFZpZXcucHJvdG90eXBlLmJpbmRFdmVudHMgPSBmdW5jdGlvbigpIHtcblx0Ly8gY29uc29sZS5sb2coICdBYnN0cmFjdFZpZXcuYmluZEV2ZW50cygpIOKAlCAnLCB0aGlzLmNvbnN0cnVjdG9yLm5hbWUgKTtcblx0XG5cdC8vIFNURi5NYWluVmlldy5iaW5kKCBTVEYuTWFpblZpZXcuRS5SRVNJWkUsIHRoaXMucmVzaXplLCB0aGlzICk7XG5cdE1haW5WaWV3LmJpbmQoIE1haW5WaWV3LkUuUkVTSVpFLCB0aGlzLnJlc2l6ZSwgdGhpcyApO1xufTtcblxuXG5BYnN0cmFjdFZpZXcucHJvdG90eXBlLnVuYmluZEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuXHQvLyBjb25zb2xlLmxvZyggJ0Fic3RyYWN0Vmlldy51bmJpbmRFdmVudHMoKSDigJQgJywgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lICk7XG5cdFxuXHQvLyBTVEYuTWFpblZpZXcudW5iaW5kKCBTVEYuTWFpblZpZXcuRS5SRVNJWkUsIHRoaXMucmVzaXplLCB0aGlzICk7XG5cdE1haW5WaWV3LnVuYmluZCggTWFpblZpZXcuRS5SRVNJWkUsIHRoaXMucmVzaXplLCB0aGlzICk7XG59O1xuXG5cbkFic3RyYWN0Vmlldy5wcm90b3R5cGUuaW5pdFZpZXcgPSBmdW5jdGlvbigpIHtcblx0Ly8gY29uc29sZS5sb2coICdBYnN0cmFjdFZpZXcuaW5pdFZpZXcoKSDigJQgJywgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lICk7XG5cdFxuXHR0aGlzLmlzSW5pdCA9IHRydWU7XG59O1xuXG5cbkFic3RyYWN0Vmlldy5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uKCkge1xuXHQvLyBjb25zb2xlLmxvZyggJ0Fic3RyYWN0Vmlldy5zaG93KCkg4oCUICcsIHRoaXMuY29uc3RydWN0b3IubmFtZSApO1xufTtcblxuXG5BYnN0cmFjdFZpZXcucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbigpIHtcblx0Ly8gY29uc29sZS5sb2coICdBYnN0cmFjdFZpZXcuaGlkZSgpIOKAlCAnLCB0aGlzLmNvbnN0cnVjdG9yLm5hbWUgKTtcbn07XG5cblxuQWJzdHJhY3RWaWV3LnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbigpIHtcblx0Ly8gY29uc29sZS5sb2coICdBYnN0cmFjdFZpZXcucmVzaXplKCkg4oCUICcsIHRoaXMuY29uc3RydWN0b3IubmFtZSApO1xufTtcblxuXG5BYnN0cmFjdFZpZXcucHJvdG90eXBlLnJhZiA9IGZ1bmN0aW9uKCkge1xuXHQvLyBjb25zb2xlLmxvZyggJ0Fic3RyYWN0Vmlldy5yYWYoKSDigJQgJywgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lICk7XG59O1xuXG5cbkFic3RyYWN0Vmlldy5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLmlzSW5pdCA9IGZhbHNlO1xuXHRcblx0dGhpcy51bmJpbmRFdmVudHMoKTtcblx0XG5cdHRoaXMuZGVzdHJveUdTQVAoKTtcbn07XG5cblxuQWJzdHJhY3RWaWV3LnByb3RvdHlwZS5kZXN0cm95R1NBUCA9IGZ1bmN0aW9uKCkge1xuXHQvKiB0d2VlbiAqL1xuXHRmb3IgKCB2YXIgdHdlZW4gaW4gdGhpcy50dyApXG5cdFx0dGhpcy5raWxsVHdlZW4oIHR3ZWVuICk7XG5cdFxuXHQvKiB0aW1lbGluZSAqL1xuXHRmb3IgKCB2YXIgdGltZWxpbmUgaW4gdGhpcy50bCApXG5cdFx0dGhpcy5raWxsVGltZWxpbmUoIHRpbWVsaW5lICk7XG5cdFxuXHR0aGlzLnRsID0ge307XG5cdHRoaXMudHcgPSB7fTtcbn07XG5cblxuQWJzdHJhY3RWaWV3LnByb3RvdHlwZS5raWxsVHdlZW4gPSBmdW5jdGlvbiggdHdOYW1lICkge1xuXHRpZiAoICF0aGlzLnR3WyB0d05hbWUgXSApXG5cdFx0cmV0dXJuO1xuXHRcblx0dGhpcy50d1sgdHdOYW1lIF0ua2lsbCgpO1xuXHRcblx0dGhpcy50d1sgdHdOYW1lIF0gPSBudWxsO1xufTtcblxuXG5BYnN0cmFjdFZpZXcucHJvdG90eXBlLmtpbGxUaW1lbGluZSA9IGZ1bmN0aW9uKCB0bE5hbWUgKSB7XG5cdGlmICggIXRoaXMudGxbIHRsTmFtZSBdIClcblx0XHRyZXR1cm47XG5cdFxuXHR0aGlzLnRsWyB0bE5hbWUgXS5zdG9wKCk7XG5cdHRoaXMudGxbIHRsTmFtZSBdLmNsZWFyKCk7XG5cdHRoaXMudGxbIHRsTmFtZSBdLmtpbGwoKTtcblx0XG5cdHRoaXMudGxbIHRsTmFtZSBdID0gbnVsbDtcbn07XG5cblxuLyoqXG4gKiBDaGFuZ2UgdGhlIHVybFxuICogQHBhcmFtcyB7b2JqZWN0IG9yIHN0cmluZ30gZTogbW9zdCBvZiB0aW1lIGlzIGFuIG9iamVjdCB3aGVuIGl0IGNvbWUgZnJvbSBhIGNsaWNrIG9uIGEgbGluayxcbiAqXHRcdFx0XHRcdFx0XHRcdCBidXQgaWYgeW91IG5lZWQgdG8gZm9yY2UgYSBzcGVjaWZpYyB1cmwgeW91IGNhbiBkaXJlY3RseSBwYXNzIGEgc3RyaW5nXG4gKi9cbkFic3RyYWN0Vmlldy5wcm90b3R5cGUuY2hhbmdlVXJsID0gZnVuY3Rpb24oIGUgKSB7XG5cdGlmICggU1RGLlByb3BzLkhBU19QVVNIU1RBVEUgKSB7IC8vIGlmIHB1c2hzdGF0ZSBzdXBwb3J0ZWRcblx0XHR2YXIgdXJsO1xuXHRcdFxuXHRcdGlmICggdHlwZW9mIGUgPT0gJ29iamVjdCcgKSB7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcblx0XHRcdHVybCA9IGUuY3VycmVudFRhcmdldC5ocmVmO1xuXHRcdH1cblx0XHRlbHNlIGlmICggdHlwZW9mIGUgPT0gJ3N0cmluZycgKVxuXHRcdFx0dXJsID0gZTtcblx0XHRcblx0XHRTVEYuUm91dGVyLnVwZGF0ZVVybCggdXJsICk7XG5cdH1cbn07XG5cblxuQWJzdHJhY3RWaWV3LnByb3RvdHlwZS51cGRhdGVTZWFyY2ggPSBmdW5jdGlvbigpIHtcblx0aWYgKCAhU1RGLkNvbmZpZy5JU19QUk9EIClcblx0XHRjb25zb2xlLndhcm4oICdZb3UgbmVlZCB0byBvdmVycmlkZSB0aGUgdXBkYXRlU2VhcmNoKCkgbWV0aG9kIGZyb20gQWJzdHJhY3RWaWV3IGluIHRoZSBjdXJyZW50IHBhZ2Ugdmlldy4nICk7XG59O1xuXG5cbkFic3RyYWN0Vmlldy5wcm90b3R5cGUudXBkYXRlSGFzaCA9IGZ1bmN0aW9uKCkge1xuXHRpZiAoICFTVEYuQ29uZmlnLklTX1BST0QgKVxuXHRcdGNvbnNvbGUud2FybiggJ1lvdSBuZWVkIHRvIG92ZXJyaWRlIHRoZSB1cGRhdGVIYXNoKCkgbWV0aG9kIGZyb20gQWJzdHJhY3RWaWV3IGluIHRoZSBjdXJyZW50IHBhZ2Ugdmlldy4nICk7XG59O1xuXG5cbm1vZHVsZS5leHBvcnRzID0gQWJzdHJhY3RWaWV3O1xuXG4iLCIndXNlIHN0cmljdCc7XG5cblxuXG5mdW5jdGlvbiBDb25maWcoKSB7XG5cdHRoaXMuRU5WXHRcdFx0XHQ9IG51bGw7XG5cdHRoaXMuRU5WU1x0XHRcdFx0PSBudWxsO1xuXHR0aGlzLkFMTF9MQU5HXHRcdFx0PSBudWxsO1xuXHR0aGlzLkZPUkNFX0RFVklDRVx0XHQ9IG51bGw7XG5cdHRoaXMuR0FfSURcdFx0XHRcdD0gbnVsbDtcblx0dGhpcy5DUkVESVRTXHRcdFx0PSBudWxsO1xuXHRcblx0dGhpcy5JU19ERVZcdFx0XHRcdD0gbnVsbDtcblx0dGhpcy5JU19QUkVQUk9EX0xPQ0FMXHQ9IG51bGw7XG5cdHRoaXMuSVNfUFJFUFJPRFx0XHRcdD0gbnVsbDtcblx0dGhpcy5JU19QUk9EXHRcdFx0PSBudWxsO1xuXHR0aGlzLk5FRURfUEFHRV9JRFx0XHQ9IG51bGw7XG5cdFxuXHR0aGlzLkpTX1ZJRVdTX0lEXHRcdD0gbnVsbDtcblx0XG5cdHRoaXMuSEFTX0ZQU19TVEFUU1x0XHQ9IG51bGw7XG5cdHRoaXMuSEFTX01FTU9SWV9TVEFUU1x0PSBudWxsO1xufVxuXG5cbkNvbmZpZy5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCkge1xuXHRfc2V0Q29uZmlnLmNhbGwoIHRoaXMgKTtcblx0X3NldEpzVmlld3NJZC5jYWxsKCB0aGlzICk7XG5cdF9zaG93Q3JlZGl0c0xvZy5jYWxsKCB0aGlzICk7XG59O1xuXG5cbnZhciBfc2V0Q29uZmlnID0gZnVuY3Rpb24oKSB7XG5cdGZvciAoIHZhciB2YXJOYW1lIGluIFNURl9Db25maWcgKVxuXHRcdHRoaXNbIHZhck5hbWUgXSA9IFNURl9Db25maWdbIHZhck5hbWUgXTtcbn07XG5cblxudmFyIF9zZXRKc1ZpZXdzSWQgPSBmdW5jdGlvbigpIHtcblx0dGhpcy5KU19WSUVXU19JRCA9IFNURl9KU19WSUVXU19JRDtcbn07XG5cblxudmFyIF9zaG93Q3JlZGl0c0xvZyA9IGZ1bmN0aW9uKCkge1xuXHRjb25zb2xlLmxvZyhcblx0XHQnJWNtYWRlIGJ5ICVj4oCUICcgKyB0aGlzLkNSRURJVFMuYXV0aG9yICsgJyDigJQlYyAnICsgdGhpcy5DUkVESVRTLmF1dGhvclVybCxcblx0XHQncGFkZGluZzo4cHggNXB4OyBjb2xvcjonICsgdGhpcy5DUkVESVRTLmNvbG9yMSArICc7IGxpbmUtaGVpZ2h0OjI1cHg7Jyxcblx0XHQncGFkZGluZzo4cHggMTVweDsgY29sb3I6JyArIHRoaXMuQ1JFRElUUy5jb2xvcjIgKyAnOyBiYWNrZ3JvdW5kLWNvbG9yOicgKyB0aGlzLkNSRURJVFMuY29sb3IzICsgJzsgbGluZS1oZWlnaHQ6MjVweDsnLFxuXHRcdCdwYWRkaW5nOjhweCA1cHg7IGNvbG9yOicgKyB0aGlzLkNSRURJVFMuY29sb3IzICsgJzsgbGluZS1oZWlnaHQ6MjVweDsnXG5cdCk7XG59O1xuXG5cbkNvbmZpZy5wcm90b3R5cGUuc2V0RlBTU3RhdHMgPSBmdW5jdGlvbiggaXNTZXQgKSB7XG5cdHRoaXMuSEFTX0ZQU19TVEFUUyA9IGlzU2V0O1xufTtcblxuXG5Db25maWcucHJvdG90eXBlLnNldE1lbW9yeVN0YXRzID0gZnVuY3Rpb24oIGlzU2V0ICkge1xuXHR0aGlzLkhBU19NRU1PUllfU1RBVFMgPSBpc1NldDtcbn07XG5cblxubW9kdWxlLmV4cG9ydHMgPSBuZXcgQ29uZmlnKCk7XG5cbiIsIid1c2Ugc3RyaWN0JztcblxuXG5cbmZ1bmN0aW9uIERldmljZSgpIHtcblx0dGhpcy5IQVNfTU9CSUxFX1ZFUlNJT05cdD0gbnVsbDtcblx0dGhpcy5UQUJMRVRfVkVSU0lPTlx0XHQ9IG51bGw7XG5cdHRoaXMuRk9SQ0VfREVWSUNFXHRcdD0gbnVsbDtcblx0XG5cdHRoaXMuREVWSUNFXHRcdFx0XHQ9IG51bGw7XG5cdHRoaXMuSVNfREVTS1RPUFx0XHRcdD0gbnVsbDtcblx0dGhpcy5JU19UQUJMRVRcdFx0XHQ9IG51bGw7XG5cdHRoaXMuSVNfTU9CSUxFXHRcdFx0PSBudWxsO1xuXHR0aGlzLkJST1dTRVJcdFx0XHQ9IG51bGw7XG5cdHRoaXMuQlJPV1NFUl9WRVJTSU9OXHQ9IG51bGw7XG5cdHRoaXMuQlJPV1NFUl9FTkdJTkVcdFx0PSBudWxsO1xuXHR0aGlzLklTX09MRF9CUk9XU0VSXHRcdD0gbnVsbDtcblx0dGhpcy5JU19JRVx0XHRcdFx0PSBudWxsO1xuXHR0aGlzLklTX0VER0VcdFx0XHQ9IG51bGw7XG59XG5cblxuRGV2aWNlLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oKSB7XG5cdF9zZXREZXZpY2UuY2FsbCggdGhpcyApO1xufTtcblxuXG52YXIgX3NldERldmljZSA9IGZ1bmN0aW9uKCkge1xuXHRmb3IgKCB2YXIgdmFyTmFtZSBpbiBTVEZfRGV2aWNlIClcblx0XHR0aGlzWyB2YXJOYW1lIF0gPSBTVEZfRGV2aWNlWyB2YXJOYW1lIF07XG59O1xuXG5cbm1vZHVsZS5leHBvcnRzID0gbmV3IERldmljZSgpO1xuXG4iLCIndXNlIHN0cmljdCc7XG5cblxudmFyIFJvdXRlclx0PSByZXF1aXJlKCAnc2hhcmVkL3JvdXRlcy9Sb3V0ZXInICk7XG52YXIgQ29uZmlnXHQ9IHJlcXVpcmUoICdzaGFyZWQvY29uZmlncy9Db25maWcnICk7XG5cblxuXG5mdW5jdGlvbiBMYW5nKCkge1xuXHRcbn1cblxuXG5MYW5nLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oKSB7XG5cdF9zZXRHbG9iYWxJbmZvcy5jYWxsKCB0aGlzICk7XG5cdFJvdXRlci5zZXRVcmwoIHRydWUsIG51bGwgKTtcblx0X3NldEN1cnJlbnRMYW5nLmNhbGwoIHRoaXMgKTtcblx0X2NoZWNrRGVmYXVsdExhbmcuY2FsbCggdGhpcyApO1xuXHRfc2V0TGFuZ0xpbmtzLmNhbGwoIHRoaXMgKTtcbn07XG5cblxudmFyIF9zZXRHbG9iYWxJbmZvcyA9IGZ1bmN0aW9uKCkge1xuXHQvLyBhbGwgbGFuZ1xuXHR0aGlzLkFMTF9MQU5HID0gQ29uZmlnLkFMTF9MQU5HO1xuXHRcblx0Ly8gZGVmYXVsdCBsYW5nXG5cdHRoaXMuREVGQVVMVF9MQU5HID0gdGhpcy5BTExfTEFOR1swXTtcblx0XG5cdC8vIG11bHRpLWxhbmdcblx0aWYgKCB0aGlzLkFMTF9MQU5HLmxlbmd0aCA9PSAxIClcblx0XHR0aGlzLk1VTFRJX0xBTkcgPSBmYWxzZTtcblx0ZWxzZVxuXHRcdHRoaXMuTVVMVElfTEFORyA9IHRydWU7XG59O1xuXG5cbnZhciBfc2V0Q3VycmVudExhbmcgPSBmdW5jdGlvbigpIHtcblx0aWYgKCAhdGhpcy5NVUxUSV9MQU5HIHx8IFJvdXRlci5VUkwucGF0aC5sZW5ndGggPT09IDAgKVxuXHRcdHRoaXMuTEFORyA9IHRoaXMuREVGQVVMVF9MQU5HO1xuXHRlbHNlXG5cdFx0dGhpcy5MQU5HID0gUm91dGVyLlVSTC5wYXRoUGFyYW1zWzBdO1xufTtcblxuXG52YXIgX2NoZWNrRGVmYXVsdExhbmcgPSBmdW5jdGlvbigpIHtcblx0aWYgKCB0aGlzLkFMTF9MQU5HLmluZGV4T2YoIHRoaXMuTEFORyApIDwgMCApXG5cdFx0dGhpcy5MQU5HID0gdGhpcy5ERUZBVUxUX0xBTkc7XG59O1xuXG5cbnZhciBfc2V0TGFuZ0xpbmtzID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMuTEFOR19MSU5LX1JPT1RcdD0gdGhpcy5MQU5HID09IHRoaXMuREVGQVVMVF9MQU5HID8gJycgOiB0aGlzLkxBTkc7XG5cdHRoaXMuTEFOR19MSU5LXHRcdD0gdGhpcy5NVUxUSV9MQU5HID8gdGhpcy5MQU5HICsgJy8nIDogJyc7XG59O1xuXG5cbm1vZHVsZS5leHBvcnRzID0gbmV3IExhbmcoKTtcblxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5cbnZhciBDb25maWdcdFx0PSByZXF1aXJlKCAnc2hhcmVkL2NvbmZpZ3MvQ29uZmlnJyApO1xuXG5cblxuZnVuY3Rpb24gUGF0aCgpIHtcblx0dGhpcy5VUkwgPSBudWxsO1xufVxuXG5cblBhdGgucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbigpIHtcblx0X3NldFBhdGhzLmNhbGwoIHRoaXMgKTtcbn07XG5cblxudmFyIF9zZXRQYXRocyA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgYmFzZVVybCA9IENvbmZpZy5FTlZTLmJhc2VfdXJsO1xuXHRcblx0Ly8gdXJsIHBhdGhzXG5cdHRoaXMuVVJMID0ge1xuXHRcdGJhc2U6XHRcdGJhc2VVcmwsXG5cdFx0YXNzZXRzOlx0XHRiYXNlVXJsICsgJ2Fzc2V0cy8nLFxuXHRcdGNzczpcdFx0YmFzZVVybCArICdhc3NldHMvY3NzLycsXG5cdFx0ZmF2aWNvbnM6XHRiYXNlVXJsICsgJ2Fzc2V0cy9mYXZpY29ucy8nLFxuXHRcdGZpbGVzOlx0XHRiYXNlVXJsICsgJ2Fzc2V0cy9maWxlcy8nLFxuXHRcdGltZzpcdFx0YmFzZVVybCArICdhc3NldHMvaW1nLycsXG5cdFx0anM6XHRcdFx0YmFzZVVybCArICdhc3NldHMvanMvJyxcblx0XHRqc29uOlx0XHRiYXNlVXJsICsgJ2Fzc2V0cy9qc29uLycsXG5cdFx0c291bmRzOlx0XHRiYXNlVXJsICsgJ2Fzc2V0cy9zb3VuZHMvJyxcblx0XHRzdmc6XHRcdGJhc2VVcmwgKyAnYXNzZXRzL3N2Zy8nLFxuXHRcdHZpZGVvczpcdFx0YmFzZVVybCArICdhc3NldHMvdmlkZW9zLycsXG5cdFx0cm91dGVzOlx0XHRiYXNlVXJsICsgJ2NvbmZpZ3Mvcm91dGVzLycsXG5cdFx0c2VydmVyOlx0XHRiYXNlVXJsICsgJ3NlcnZlci8nLFxuXHR9O1xufTtcblxuXG5QYXRoLnByb3RvdHlwZS5vdmVyd3JpdGVTcGVjaWFsUGF0aHMgPSBmdW5jdGlvbiggYXNzZXRzQmFzZVVybCApIHtcblx0aWYgKCAhYXNzZXRzQmFzZVVybCApXG5cdFx0cmV0dXJuO1xuXHRcblx0XG5cdGZvciAoIHZhciBrZXkgaW4gdGhpcy5VUkwgKVxuXHRcdHRoaXMuVVJMWyBrZXkgXSA9IHRoaXMuVVJMWyBrZXkgXS5yZXBsYWNlKCAnYXNzZXRzLycsIGFzc2V0c0Jhc2VVcmwgKTtcbn07XG5cblxubW9kdWxlLmV4cG9ydHMgPSBuZXcgUGF0aCgpO1xuXG4iLCIndXNlIHN0cmljdCc7XG5cblxuZnVuY3Rpb24gUHJvcHMoKSB7XG5cdHRoaXMuSEFTX1BVU0hTVEFURVx0XHQ9IG51bGw7XG5cdHRoaXMuVFJBTlNGT1JNXHRcdFx0PSBudWxsO1xuXHR0aGlzLkhBU19UUkFOU0ZPUk1TXHRcdD0gbnVsbDtcblx0dGhpcy5IQVNfVFJBTlNGT1JNU18zRFx0PSBudWxsO1xuXHR0aGlzLkhBU19UUkFOU0lUSU9OU1x0PSBudWxsO1xuXHR0aGlzLkhBU19BTklNQVRJT05TXHRcdD0gbnVsbDtcbn1cblxuXG5Qcm9wcy5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCkge1xuXHRfc2V0UHJvcGVydGllcy5jYWxsKCB0aGlzICk7XG59O1xuXG5cbnZhciBfc2V0UHJvcGVydGllcyA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLkhBU19QVVNIU1RBVEVcdFx0PSBNb2Rlcm5penIuaGlzdG9yeTtcblx0dGhpcy5UUkFOU0ZPUk1cdFx0XHQ9IE1vZGVybml6ci5wcmVmaXhlZCggJ3RyYW5zZm9ybScgKTtcblx0dGhpcy5IQVNfVFJBTlNGT1JNU1x0XHQ9IE1vZGVybml6ci5jc3N0cmFuc2Zvcm1zO1xuXHR0aGlzLkhBU19UUkFOU0ZPUk1TXzNEXHQ9IE1vZGVybml6ci5jc3N0cmFuc2Zvcm1zM2Q7XG5cdHRoaXMuSEFTX1RSQU5TSVRJT05TXHQ9IE1vZGVybml6ci5jc3N0cmFuc2l0aW9ucztcblx0dGhpcy5IQVNfQU5JTUFUSU9OU1x0XHQ9IE1vZGVybml6ci5jc3NhbmltYXRpb25zO1xufTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBQcm9wcygpO1xuXG4iLCIndXNlIHN0cmljdCc7XG5cblxudmFyIHNpZ25hbHNcdD0gcmVxdWlyZSggJ3NpZ25hbHMnICk7XG5cbnZhciBDb25maWdcdD0gcmVxdWlyZSggJ3NoYXJlZC9jb25maWdzL0NvbmZpZycgKTtcblxuXG5cbmZ1bmN0aW9uIEN1c3RvbUV2ZW50KCkge1xuXHR0aGlzLmVcdFx0XHRcdFx0XHQ9IHt9O1xuXHR0aGlzLkVcdFx0XHRcdFx0XHQ9IHt9O1xuXHRcblx0dGhpcy5pc1dhcm5pbmdEaXNwYXRjaGVkXHQ9IGZhbHNlO1xufVxuXG5cbkN1c3RvbUV2ZW50LnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24oIG5hbWUsIGZjdCwgY29udGV4dCApIHtcblx0aWYgKCAhbmFtZSB8fCAhZmN0ICkge1xuXHRcdGlmICggIUNvbmZpZy5JU19QUk9EICkge1xuXHRcdFx0dmFyIG1pc3NpbmdQYXJhbXM7XG5cdFx0XHRcblx0XHRcdGlmICggIW5hbWUgJiYgIWZjdCApXG5cdFx0XHRcdG1pc3NpbmdQYXJhbXMgPSAnbmFtZSBhbmQgYSBmdW5jdGlvbic7XG5cdFx0XHRlbHNlIGlmICggIW5hbWUgKVxuXHRcdFx0XHRtaXNzaW5nUGFyYW1zID0gJ25hbWUnO1xuXHRcdFx0ZWxzZSBpZiAoICFmY3QgKVxuXHRcdFx0XHRtaXNzaW5nUGFyYW1zID0gJ2Z1bmN0aW9uJztcblx0XHRcdFxuXHRcdFx0Y29uc29sZS53YXJuKCAnWW91IG11c3QgdG8gcHJvdmlkZSBhICcgKyBtaXNzaW5nUGFyYW1zICsgJyB0byB0aGUgY3VzdG9tIGV2ZW50IHlvdSB3YW50IHRvIGJpbmQuJyApO1xuXHRcdH1cblx0XHRcblx0XHRyZXR1cm47XG5cdH1cblx0XG5cdGlmICggIWNvbnRleHQgJiYgIUNvbmZpZy5JU19QUk9EIClcblx0XHRjb25zb2xlLndhcm4oICdCaW5kIFwiJyArIG5hbWUgKyAnXCIgY3VzdG9tIGV2ZW50IHdpdGhvdXQgY29udGV4dC4nICk7XG5cdFxuXHRpZiAoIHRoaXMuZVsgbmFtZSBdID09PSB1bmRlZmluZWQgKSAvLyBpZiB0aGUgY3VzdG9tIGV2ZW50IGRvZXNuJ3QgZXhpc3QsIGNyZWF0ZSBpdFxuXHRcdHRoaXMuZVsgbmFtZSBdID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG5cdFxuXHR0aGlzLmVbIG5hbWUgXS5hZGQoIGZjdCwgY29udGV4dCApOyAvLyBhZGQgdGhlIGxpc3RlbmVyIHRvIHRoZSBjdXN0b20gZXZlbnRcbn07XG5cblxuQ3VzdG9tRXZlbnQucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uKCBuYW1lLCBmY3QsIGNvbnRleHQgKSB7XG5cdGlmICggIW5hbWUgKSB7XG5cdFx0aWYgKCAhQ29uZmlnLklTX1BST0QgKVxuXHRcdFx0Y29uc29sZS53YXJuKCAnWW91IG11c3QgdG8gZGVmaW5lIHRoZSBuYW1lIG9mIHRoZSBjdXN0b20gZXZlbnQgeW91IHdhbnQgdG8gdW5iaW5kLicgKTtcblx0XHRcblx0XHRyZXR1cm47XG5cdH1cblx0XG5cdFxuXHRpZiAoIGZjdCAhPT0gdW5kZWZpbmVkICYmIGZjdCAhPT0gbnVsbCApIC8vIHJlbW92ZSBhIHNpbmdsZSBsaXN0ZW5lciBmcm9tIHRoZSBjdXN0b20gZXZlbnRcblx0XHR0aGlzLmVbIG5hbWUgXS5yZW1vdmUoIGZjdCwgY29udGV4dCApO1xuXHRcblx0ZWxzZSAvLyByZW1vdmUgYWxsIGxpc3RlbmVycyBmcm9tIHRoZSBjdXN0b20gZXZlbnRcblx0XHR0aGlzLmVbIG5hbWUgXS5yZW1vdmVBbGwoKTtcblx0XG5cdFxuXHRpZiAoIHRoaXMuZVsgbmFtZSBdLmdldE51bUxpc3RlbmVycygpID09PSAwICkgeyAvLyBkaXNwb3NlICYgZGVsZXRlIHRoZSBldmVudCBpZiBsaXN0ZW5lcnMgbm8gbG9uZ2VyIGV4aXN0XG5cdFx0dGhpcy5lWyBuYW1lIF0uZGlzcG9zZSgpO1xuXHRcdGRlbGV0ZSB0aGlzLmVbIG5hbWUgXTtcblx0fVxufTtcblxuXG5DdXN0b21FdmVudC5wcm90b3R5cGUuZGlzcGF0Y2ggPSBmdW5jdGlvbiggbmFtZSwgcGFyYW1zICkge1xuXHRpZiAoIHRoaXMuZVsgbmFtZSBdID09PSB1bmRlZmluZWQgKSB7IC8vIGlmIHRoZSBldmVudCBpcyBub3QgcmVnaXN0cmVkXG5cdFx0aWYgKCAhQ29uZmlnLklTX1BST0QgJiYgIXRoaXMuaXNXYXJuaW5nRGlzcGF0Y2hlZCApIHtcblx0XHRcdGNvbnNvbGUud2FybiggJ1RyeWluZyB0byBkaXNwYXRoIFwiJyArIG5hbWUgKyAnXCIgY3VzdG9tIGV2ZW50IHdoaWNoIGlzIHVuZGVmaW5lZC4nICk7XG5cdFx0XHRcblx0XHRcdHRoaXMuaXNXYXJuaW5nRGlzcGF0Y2hlZCA9IHRydWU7XG5cdFx0fVxuXHRcdFxuXHRcdHJldHVybjtcblx0fVxuXHRcblx0aWYgKCBwYXJhbXMgPT09IHVuZGVmaW5lZCApXG5cdFx0dGhpcy5lWyBuYW1lIF0uZGlzcGF0Y2goKTtcblx0ZWxzZVxuXHRcdHRoaXMuZVsgbmFtZSBdLmRpc3BhdGNoKCBwYXJhbXMgKTtcbn07XG5cblxubW9kdWxlLmV4cG9ydHMgPSBDdXN0b21FdmVudDtcblxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5cbnZhciBDdXN0b21FdmVudFx0PSByZXF1aXJlKCAnc2hhcmVkL2V2ZW50cy9DdXN0b21FdmVudCcgKTtcbnZhciBQYXRoXHRcdD0gcmVxdWlyZSggJ3NoYXJlZC9jb25maWdzL1BhdGgnICk7XG5cbnZhciBTVEZfU3RyaW5nID0gcmVxdWlyZSggJ3NoYXJlZC91dGlscy9TdHJpbmcnICk7XG5cblxuXG5mdW5jdGlvbiBSb3V0ZXIoKSB7XG5cdEN1c3RvbUV2ZW50LmNhbGwoIHRoaXMgKTtcblx0XG5cdHRoaXMuVVJMXHRcdFx0XHRcdD0ge307XG5cdHRoaXMuQUxUX0xBTkdfVVJMXHRcdFx0PSB7fTtcblx0XG5cdHRoaXMuaXNIb21lcGFnZVx0XHRcdFx0PSBudWxsO1xuXHR0aGlzLmlzUGFnZUNoYW5nZVx0XHRcdD0gbnVsbDtcblx0dGhpcy5pc1BhZ2VDaGFuZ2VCeUNsaWNrXHQ9IG51bGw7XG5cdHRoaXMuaXNTZWFyY2hDaGFuZ2VcdFx0XHQ9IG51bGw7XG5cdHRoaXMuaXNIYXNoQ2hhbmdlXHRcdFx0PSBudWxsO1xufVxuXG5cblJvdXRlci5wcm90b3R5cGVcdFx0XHRcdD0gT2JqZWN0LmNyZWF0ZSggQ3VzdG9tRXZlbnQucHJvdG90eXBlICk7XG5Sb3V0ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yXHQ9IFJvdXRlcjtcblxuXG5Sb3V0ZXIucHJvdG90eXBlLnNldFVybCA9IGZ1bmN0aW9uKCBpc0luaXQsIHVybCApIHtcblx0dGhpcy5VUkwuZnVsbFx0XHRcdD0gX2dldEZ1bGxVcmwuY2FsbCggdGhpcywgdXJsICk7XG5cdHRoaXMuVVJMLnBhdGhcdFx0XHQ9IFNURl9TdHJpbmcuZ2V0UGF0aCggdGhpcy5VUkwuZnVsbCApO1xuXHR0aGlzLlVSTC5wYXRoUGFyYW1zXHRcdD0gdGhpcy5VUkwucGF0aC5zcGxpdCggJy8nICk7XG5cdHRoaXMuVVJMLnNlYXJjaFx0XHRcdD0gU1RGX1N0cmluZy5nZXRTZWFyY2goIHRoaXMuVVJMLmZ1bGwgKTtcblx0dGhpcy5VUkwuc2VhcmNoUGFyYW1zXHQ9IFNURl9TdHJpbmcuZ2V0UGFyYW1zKCB0aGlzLlVSTC5mdWxsLCAnc2VhcmNoJyApO1xuXHR0aGlzLlVSTC5oYXNoXHRcdFx0PSBTVEZfU3RyaW5nLmdldEhhc2goIHRoaXMuVVJMLmZ1bGwgKTtcblx0dGhpcy5VUkwuaGFzaFBhcmFtc1x0XHQ9IFNURl9TdHJpbmcuZ2V0UGFyYW1zKCB0aGlzLlVSTC5mdWxsLCAnaGFzaCcgKTtcblx0dGhpcy5VUkwuZnVsbEdBXHRcdFx0PSBfZ2V0RnVsbEdhVXJsLmNhbGwoIHRoaXMgKTtcbn07XG5cblxudmFyIF9nZXRGdWxsVXJsID0gZnVuY3Rpb24oIHVybCApIHtcblx0dmFyIGZ1bGxVcmw7XG5cdFxuXHRpZiAoIHVybCA9PT0gbnVsbCApXG5cdFx0ZnVsbFVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuXHRlbHNlXG5cdFx0ZnVsbFVybCA9IHVybDtcblx0XG5cdFxuXHRyZXR1cm4gZnVsbFVybDtcbn07XG5cblxudmFyIF9nZXRGdWxsR2FVcmwgPSBmdW5jdGlvbiAoKSB7XG5cdHZhciBmdWxsR2FVcmwgPSB0aGlzLlVSTC5mdWxsLnJlcGxhY2UoIFBhdGguVVJMLmJhc2UsICcnICk7XG5cdFxuXHRcblx0cmV0dXJuIGZ1bGxHYVVybDtcbn07XG5cblxuUm91dGVyLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oKSB7XG5cdF9iaW5kRXZlbnRzLmNhbGwoIHRoaXMgKTtcblx0XG5cdFNURi5QYWdlc0NvbnRyb2xsZXIuaW5pdEZpcnN0UGFnZSgpO1xufTtcblxuXG52YXIgX2JpbmRFdmVudHMgPSBmdW5jdGlvbigpIHtcblx0U1RGLk1haW5WaWV3LiR3aW5kb3cub24oICdwb3BzdGF0ZScsICQucHJveHkoIF9vblBvcFN0YXRlLCB0aGlzICkgKTtcblx0U1RGLk1haW5WaWV3LiR3aW5kb3cub24oICdoYXNoY2hhbmdlJywgJC5wcm94eSggX29uSGFzaENoYW5nZSwgdGhpcyApICk7XG59O1xuXG5cbnZhciBfZ2V0TGFuZ0V4aXN0ZW5jZSA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgbGFuZ0V4aXN0ID0gdHJ1ZTtcblx0XG5cdGlmICggU1RGLkxhbmcuQUxMX0xBTkcuaW5kZXhPZiggU1RGLkxhbmcuTEFORyApID09IC0xICkge1xuXHRcdFNURi5MYW5nLkxBTkcgPSBTVEYuTGFuZy5ERUZBVUxUX0xBTkc7XG5cdFx0XG5cdFx0bGFuZ0V4aXN0ID0gZmFsc2U7XG5cdH1cblx0XG5cdFxuXHRyZXR1cm4gbGFuZ0V4aXN0O1xufTtcblxuXG52YXIgX3NldElzSG9tZXBhZ2UgPSBmdW5jdGlvbiggcGFnZUlkICkge1xuXHR0aGlzLmlzSG9tZXBhZ2UgPSBwYWdlSWQgPT0gJ2hvbWUnID8gdHJ1ZSA6IGZhbHNlO1xufTtcblxuXG5Sb3V0ZXIucHJvdG90eXBlLmNoZWNrVXJsQ29ycmVzcG9uZGVuY2UgPSBmdW5jdGlvbigpIHtcblx0aWYgKCB0aGlzLlVSTC5mdWxsICE9IF9nZXRGdWxsVXJsLmNhbGwoIHRoaXMsIG51bGwgKSApXG5cdFx0X29uUG9wU3RhdGUuY2FsbCggdGhpcyApO1xufTtcblxuXG5Sb3V0ZXIucHJvdG90eXBlLnVwZGF0ZVVybCA9IGZ1bmN0aW9uKCB1cmwgKSB7XG5cdGlmICggU1RGLlBhZ2VzQ29udHJvbGxlci5pc1BhZ2VDaGFuZ2UgKVxuXHRcdHJldHVybjtcblx0XG5cdHRoaXMuaXNQYWdlQ2hhbmdlQnlDbGljayA9IHRydWU7XG5cdFxuXHRfc2V0VXJsUGFydENoYW5nZS5jYWxsKCB0aGlzLCB1cmwgKTtcblx0dGhpcy5zZXRVcmwoIGZhbHNlLCB1cmwgKTtcblx0XG5cdFxuXHR2YXIgZGF0YSA9IHtcblx0XHQnaXNQYWdlQ2hhbmdlJzpcdFx0dGhpcy5pc1BhZ2VDaGFuZ2UsXG5cdFx0J2lzU2VhcmNoQ2hhbmdlJzpcdHRoaXMuaXNTZWFyY2hDaGFuZ2UsXG5cdFx0J2lzSGFzaENoYW5nZSc6XHRcdHRoaXMuaXNIYXNoQ2hhbmdlXG5cdH07XG5cdFxuXHRoaXN0b3J5LnB1c2hTdGF0ZSggZGF0YSwgJycsIHVybCApO1xuXHRcblx0XG5cdGlmICggdGhpcy5pc1BhZ2VDaGFuZ2UgKVxuXHRcdFNURi5QYWdlc0NvbnRyb2xsZXIuY2hhbmdlUGFnZSggdGhpcy5VUkwuZnVsbCApO1xuXHRlbHNlIGlmICggdGhpcy5pc1NlYXJjaENoYW5nZSApXG5cdFx0U1RGLlBhZ2VzQ29udHJvbGxlci5jaGFuZ2VTZWFyY2goKTtcblx0ZWxzZSBpZiAoIHRoaXMuaXNIYXNoQ2hhbmdlIClcblx0XHRTVEYuUGFnZXNDb250cm9sbGVyLmNoYW5nZUhhc2goKTtcbn07XG5cblxudmFyIF9vblBvcFN0YXRlID0gZnVuY3Rpb24oIGUgKSB7XG5cdGlmICggU1RGLlBhZ2VzQ29udHJvbGxlci5pc1BhZ2VDaGFuZ2UgKVxuXHRcdHJldHVybjtcblx0XG5cdHRoaXMuaXNQYWdlQ2hhbmdlQnlDbGljayA9IGZhbHNlO1xuXHRcblx0X3NldFVybFBhcnRDaGFuZ2UuY2FsbCggdGhpcywgd2luZG93LmxvY2F0aW9uLmhyZWYgKTtcblx0XG5cdFxuXHRpZiAoIHRoaXMuaXNQYWdlQ2hhbmdlIHx8IHRoaXMuaXNTZWFyY2hDaGFuZ2UgKVxuXHRcdHRoaXMuc2V0VXJsKCBmYWxzZSwgbnVsbCApO1xuXHRcblx0aWYgKCB0aGlzLmlzUGFnZUNoYW5nZSApXG5cdFx0U1RGLlBhZ2VzQ29udHJvbGxlci5jaGFuZ2VQYWdlKCB0aGlzLlVSTC5mdWxsICk7XG5cdGVsc2UgaWYgKCB0aGlzLmlzU2VhcmNoQ2hhbmdlIClcblx0XHRTVEYuUGFnZXNDb250cm9sbGVyLmNoYW5nZVNlYXJjaCgpO1xufTtcblxuXG52YXIgX29uSGFzaENoYW5nZSA9IGZ1bmN0aW9uKCBlICkge1xuXHRpZiAoIFNURi5QYWdlc0NvbnRyb2xsZXIuaXNQYWdlQ2hhbmdlIClcblx0XHRyZXR1cm47XG5cdFxuXHRfc2V0VXJsUGFydENoYW5nZS5jYWxsKCB0aGlzLCB3aW5kb3cubG9jYXRpb24uaHJlZiApO1xuXHR0aGlzLnNldFVybCggZmFsc2UsIG51bGwgKTtcblx0XG5cdFxuXHRpZiAoIHRoaXMuaXNIYXNoQ2hhbmdlICYmICF0aGlzLmlzUGFnZUNoYW5nZSAmJiAhdGhpcy5pc1NlYXJjaENoYW5nZSApXG5cdFx0U1RGLlBhZ2VzQ29udHJvbGxlci5jaGFuZ2VIYXNoKCk7XG59O1xuXG5cbnZhciBfc2V0VXJsUGFydENoYW5nZSA9IGZ1bmN0aW9uKCB1cmwgKSB7XG5cdF9pc1BhZ2VDaGFuZ2VkLmNhbGwoIHRoaXMsIHVybCApO1xuXHRfaXNTZWFyY2hDaGFuZ2VkLmNhbGwoIHRoaXMsIHVybCApO1xuXHRfaXNIYXNoQ2hhbmdlZC5jYWxsKCB0aGlzLCB1cmwgKTtcbn07XG5cblxudmFyIF9pc1BhZ2VDaGFuZ2VkID0gZnVuY3Rpb24oIHVybCApIHtcblx0dmFyIG5leHRQYXRoXHRcdD0gU1RGX1N0cmluZy5nZXRQYXRoKCB1cmwgKTtcblx0dGhpcy5pc1BhZ2VDaGFuZ2VcdD0gdGhpcy5VUkwucGF0aCAhPSBuZXh0UGF0aDtcbn07XG5cblxudmFyIF9pc1NlYXJjaENoYW5nZWQgPSBmdW5jdGlvbiggdXJsICkge1xuXHR2YXIgbmV4dFNlYXJjaFx0XHQ9IFNURl9TdHJpbmcuZ2V0U2VhcmNoKCB1cmwgKTtcblx0dGhpcy5pc1NlYXJjaENoYW5nZVx0PSB0aGlzLlVSTC5zZWFyY2ggIT0gbmV4dFNlYXJjaDtcbn07XG5cblxudmFyIF9pc0hhc2hDaGFuZ2VkID0gZnVuY3Rpb24oIHVybCApIHtcblx0dmFyIG5leHRIYXNoXHRcdD0gU1RGX1N0cmluZy5nZXRIYXNoKCB1cmwgKTtcblx0dGhpcy5pc0hhc2hDaGFuZ2VcdD0gdGhpcy5VUkwuaGFzaCAhPSBuZXh0SGFzaDtcbn07XG5cblxuUm91dGVyLnByb3RvdHlwZS5zZXRBbHRMYW5nVXJsID0gZnVuY3Rpb24oICRwYWdlICkge1xuXHR2YXIgbGFuZztcblx0XG5cdGZvciAoIHZhciBpID0gMDsgaSA8IFNURi5MYW5nLkFMTF9MQU5HLmxlbmd0aDsgaSsrICkge1xuXHRcdGxhbmcgPSBTVEYuTGFuZy5BTExfTEFOR1sgaSBdO1xuXHRcdFxuXHRcdGlmICggbGFuZyAhPSBTVEYuTGFuZy5MQU5HIClcblx0XHRcdHRoaXMuQUxUX0xBTkdfVVJMWyBsYW5nIF0gPSAkcGFnZVswXS5nZXRBdHRyaWJ1dGUoICdkYXRhLWxhbmctJyArIGxhbmcgKTtcblx0fVxufTtcblxuXG5Sb3V0ZXIucHJvdG90eXBlLnVwZGF0ZUdBID0gZnVuY3Rpb24oKSB7XG5cdGlmICggU1RGLkNvbmZpZy5JU19QUk9EICYmIE9iamVjdC5rZXlzKCBTVEYuQ29uZmlnLkdBX0lEICkubGVuZ3RoID4gMCApIHtcblx0XHRmb3IgKCB2YXIgZ2FOYW1lIGluIFNURi5Db25maWcuR0FfSUQgKSB7XG5cdFx0XHRpZiAoIGdhTmFtZSA9PSAnZGVmYXVsdCcgKVxuXHRcdFx0XHRnYSggJ3NlbmQnLCAncGFnZXZpZXcnLCAnLycgKyB0aGlzLlVSTC5mdWxsR0EgKTtcblx0XHRcdGVsc2Vcblx0XHRcdFx0Z2EoIGdhTmFtZSArICcuc2VuZCcsICdwYWdldmlldycsICcvJyArIHRoaXMuVVJMLmZ1bGxHQSApO1xuXHRcdH1cblx0fVxufTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBSb3V0ZXIoKTtcblxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5cbnZhciBkYXQgPSByZXF1aXJlKCAnZGF0Lmd1aScgKTtcblxuXG5cbmZ1bmN0aW9uIERhdEdVSSgpIHtcblx0dGhpcy5ndWlcdD0gbnVsbDtcblx0XG5cdHRoaXMudmFyMVx0PSAnbWVzc2FnZSc7XG5cdHRoaXMudmFyMlx0PSAyMztcblx0dGhpcy52YXIzXHQ9IG51bGw7XG5cdHRoaXMudmFyNFx0PSBmYWxzZTtcblx0dGhpcy52YXI1XHQ9ICcjZmU3MzczJztcbn1cblxuXG5EYXRHVUkucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbigpIHtcblx0dGhpcy5ndWkgPSBuZXcgZGF0LkdVSSgge1xuXHRcdHdpZHRoIDogMzAwXG5cdH0gKTtcblx0XG5cdHZhciB0ZXh0XHRcdD0gdGhpcy5ndWkuYWRkKCB0aGlzLCAndmFyMScsIDEwLCAxMDAgKS5uYW1lKCAnVGV4dCcgKTtcblx0dmFyIHNsaWRlclx0XHQ9IHRoaXMuZ3VpLmFkZCggdGhpcywgJ3ZhcjInLCAxMCwgMTAwICkuc3RlcCgxKS5uYW1lKCAnU2xpZGVyJyApO1xuXHR2YXIgc2VsZWN0XHRcdD0gdGhpcy5ndWkuYWRkKCB0aGlzLCAndmFyMycsIFsgJ29wdGlvbiAxJywgJ29wdGlvbiAyJywgJ29wdGlvbiAzJyBdICkubmFtZSggJ1NlbGVjdCcgKTtcblx0dmFyIGNoZWNrQm94XHQ9IHRoaXMuZ3VpLmFkZCggdGhpcywgJ3ZhcjQnICkubmFtZSggJ0NoZWNrYm94JyApO1xuXHR2YXIgY29sb3JcdFx0PSB0aGlzLmd1aS5hZGRDb2xvciggdGhpcywgJ3ZhcjUnICkubmFtZSggJ0NvbG9yJyApO1xuXHR0aGlzLmd1aS5hZGQoIHRoaXMsICdfZnVuY3Rpb24nICkubmFtZSggJ0Z1bmN0aW9uJyApO1xuXHRcblx0dGV4dC5vbkNoYW5nZSggX2NoYW5nZVRleHQuYmluZCggdGhpcyApICk7XG5cdHNsaWRlci5vbkNoYW5nZSggX2NoYW5nZVNsaWRlci5iaW5kKCB0aGlzICkgKTtcblx0c2xpZGVyLm9uRmluaXNoQ2hhbmdlKCBfZmluaXNoQ2hhbmdlU2xpZGVyLmJpbmQoIHRoaXMgKSApO1xuXHRzZWxlY3Qub25DaGFuZ2UoIF9jaGFuZ2VTZWxlY3QuYmluZCggdGhpcyApICk7XG5cdGNoZWNrQm94Lm9uQ2hhbmdlKCBfY2hhbmdlQ2hlY2tib3guYmluZCggdGhpcyApICk7XG5cdGNvbG9yLm9uQ2hhbmdlKCBfY2hhbmdlQ29sb3IuYmluZCggdGhpcyApICk7XG5cdFxuXHRcblx0Ly8gdGhpcy50ZXN0ID0gdGhpcy5ndWkuX19jb250cm9sbGVyc1sxXTtcbn07XG5cblxudmFyIF9jaGFuZ2VUZXh0ID0gZnVuY3Rpb24oIHYgKSB7XG5cdGNvbnNvbGUubG9nKCAnX2NoYW5nZVRleHQgOicsIHYgKTtcbn07XG5cblxudmFyIF9jaGFuZ2VTbGlkZXIgPSBmdW5jdGlvbiggdiApIHtcblx0Y29uc29sZS5sb2coICdfY2hhbmdlU2xpZGVyIDonLCB2ICk7XG59O1xuXG5cbnZhciBfZmluaXNoQ2hhbmdlU2xpZGVyID0gZnVuY3Rpb24oIHYgKSB7XG5cdGNvbnNvbGUubG9nKCAnX2ZpbmlzaENoYW5nZVNsaWRlciA6JywgdiApO1xufTtcblxuXG52YXIgX2NoYW5nZVNlbGVjdCA9IGZ1bmN0aW9uKCB2ICkge1xuXHRjb25zb2xlLmxvZyggJ19jaGFuZ2VTZWxlY3QgOicsIHYgKTtcbn07XG5cblxudmFyIF9jaGFuZ2VDaGVja2JveCA9IGZ1bmN0aW9uKCB2ICkge1xuXHRjb25zb2xlLmxvZyggJ19jaGFuZ2VDaGVja2JveCA6JywgdiApO1xufTtcblxuXG52YXIgX2NoYW5nZUNvbG9yID0gZnVuY3Rpb24oIHYgKSB7XG5cdGNvbnNvbGUubG9nKCAnX2NoYW5nZUNvbG9yIDonLCB2ICk7XG59O1xuXG5cbkRhdEdVSS5wcm90b3R5cGUuX2Z1bmN0aW9uID0gZnVuY3Rpb24oKSB7XG5cdGNvbnNvbGUubG9nKCAnX2Z1bmN0aW9uJyApO1xufTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBEYXRHVUkoKTtcblxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5cbnZhciBDb25maWdcdFx0PSByZXF1aXJlKCAnc2hhcmVkL2NvbmZpZ3MvQ29uZmlnJyApO1xudmFyIEZQU1N0YXRzXHQ9IHJlcXVpcmUoICdzaGFyZWQvdXRpbHMvRlBTU3RhdHMnICk7XG52YXIgTWVtb3J5U3RhdHNcdD0gcmVxdWlyZSggJ3NoYXJlZC91dGlscy9NZW1vcnlTdGF0cycgKTtcbnZhciBEYXRHVUlcdFx0PSByZXF1aXJlKCAnc2hhcmVkL3V0aWxzL0RhdEdVSScgKTtcblxuXG5cbmZ1bmN0aW9uIERlYnVnKCkge1xuXHRcbn1cblxuXG5EZWJ1Zy5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCBpc0luaXRGUFNTdGF0cywgaXNJbml0TWVtb3J5U3RhdHMsIGlzSW5pdERhdEdVSSApIHtcblx0X2luaXRGUFNTdGF0cy5jYWxsKCB0aGlzLCBpc0luaXRGUFNTdGF0cyApO1xuXHRfaW5pdE1lbW9yeVN0YXRzLmNhbGwoIHRoaXMsIGlzSW5pdE1lbW9yeVN0YXRzICk7XG5cdF9pbml0RGF0R1VJLmNhbGwoIHRoaXMsIGlzSW5pdERhdEdVSSApO1xufTtcblxuXG52YXIgX2luaXRGUFNTdGF0cyA9IGZ1bmN0aW9uKCBpc1NldCApIHtcblx0Q29uZmlnLnNldEZQU1N0YXRzKCBpc1NldCApO1xuXHRcblx0aWYgKCBpc1NldCAmJiAoIENvbmZpZy5JU19ERVYgfHwgQ29uZmlnLklTX1BSRVBST0RfTE9DQUwgKSApXG5cdFx0RlBTU3RhdHMuaW5pdCgpO1xufTtcblxuXG52YXIgX2luaXRNZW1vcnlTdGF0cyA9IGZ1bmN0aW9uKCBpc1NldCApIHtcblx0Q29uZmlnLnNldE1lbW9yeVN0YXRzKCBpc1NldCApO1xuXHRcblx0aWYgKCBpc1NldCAmJiAoIENvbmZpZy5JU19ERVYgfHwgQ29uZmlnLklTX1BSRVBST0RfTE9DQUwgKSApXG5cdFx0TWVtb3J5U3RhdHMuaW5pdCgpO1xufTtcblxuXG52YXIgX2luaXREYXRHVUkgPSBmdW5jdGlvbiggaXNTZXQgKSB7XG5cdGlmICggaXNTZXQgJiYgKCBDb25maWcuSVNfREVWIHx8IENvbmZpZy5JU19QUkVQUk9EX0xPQ0FMICkgKVxuXHRcdERhdEdVSS5pbml0KCk7XG59O1xuXG5cbm1vZHVsZS5leHBvcnRzID0gbmV3IERlYnVnKCk7XG5cbiIsIid1c2Ugc3RyaWN0JztcblxuXG52YXIgU3RhdHMgPSByZXF1aXJlKCAnc3RhdHMnICk7XG5cblxuXG5mdW5jdGlvbiBGUFNTdGF0cygpIHtcblx0dGhpcy5zdGF0cyA9IG51bGw7XG59XG5cblxuRlBTU3RhdHMucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbigpIHtcblx0dGhpcy5zdGF0cyA9IG5ldyBTdGF0cygpO1xuXHRcblx0dGhpcy5zdGF0cy5zZXRNb2RlKCAwICk7XG5cdFxuXHR0aGlzLnN0YXRzLmRvbS5zdHlsZS50b3BcdFx0PSAnYXV0byc7XG5cdHRoaXMuc3RhdHMuZG9tLnN0eWxlLmxlZnRcdFx0PSAnYXV0byc7XG5cdHRoaXMuc3RhdHMuZG9tLnN0eWxlLnJpZ2h0XHRcdD0gJzBweCc7XG5cdHRoaXMuc3RhdHMuZG9tLnN0eWxlLmJvdHRvbVx0XHQ9ICcwcHgnO1xuXHR0aGlzLnN0YXRzLmRvbS5zdHlsZS56SW5kZXhcdFx0PSA4ODtcblx0XG5cdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoIHRoaXMuc3RhdHMuZG9tICk7XG59O1xuXG5cbkZQU1N0YXRzLnByb3RvdHlwZS5iZWdpbiA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLnN0YXRzLmJlZ2luKCk7XG59O1xuXG5cbkZQU1N0YXRzLnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbigpIHtcblx0dGhpcy5zdGF0cy5lbmQoKTtcbn07XG5cblxubW9kdWxlLmV4cG9ydHMgPSBuZXcgRlBTU3RhdHMoKTtcblxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5cbnZhciBTdGF0cyA9IHJlcXVpcmUoICdtZW1vcnktc3RhdHMnICk7XG5cblxuXG5mdW5jdGlvbiBNZW1vcnlTdGF0cygpIHtcblx0dGhpcy5zdGF0cyA9IG51bGw7XG59XG5cblxuTWVtb3J5U3RhdHMucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbigpIHtcblx0dGhpcy5zdGF0cyA9IG5ldyBTdGF0cygpO1xuXHRcblx0dGhpcy5zdGF0cy5kb21FbGVtZW50LnN0eWxlLnBvc2l0aW9uXHQ9ICdmaXhlZCc7XG5cdHRoaXMuc3RhdHMuZG9tRWxlbWVudC5zdHlsZS5yaWdodFx0XHQ9ICcwcHgnO1xuXHR0aGlzLnN0YXRzLmRvbUVsZW1lbnQuc3R5bGUuYm90dG9tXHRcdD0gJzQ4cHgnO1xuXHR0aGlzLnN0YXRzLmRvbUVsZW1lbnQuc3R5bGUuekluZGV4XHRcdD0gODg7XG5cdFxuXHRkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKCB0aGlzLnN0YXRzLmRvbUVsZW1lbnQgKTtcbn07XG5cblxuTWVtb3J5U3RhdHMucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLnN0YXRzLnVwZGF0ZSgpO1xufTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBNZW1vcnlTdGF0cygpO1xuXG4iLCIndXNlIHN0cmljdCc7XG5cblxudmFyIFBhdGggPSByZXF1aXJlKCAnc2hhcmVkL2NvbmZpZ3MvUGF0aCcgKTtcblxuXG5cbmZ1bmN0aW9uIFN0cmluZygpIHtcblx0XG59XG5cblxuU3RyaW5nLnByb3RvdHlwZS5yZW1vdmVGaXJzdFNwZWNpZmljQ2hhciA9IGZ1bmN0aW9uICggc3RyaW5nLCBjaGFyICkge1xuXHRpZiAoIHN0cmluZy5zdWJzdHIoIDAsIDEgKSA9PSBjaGFyIClcblx0XHRzdHJpbmcgPSBzdHJpbmcuc3Vic3RyKCAxICk7XG5cdFxuXHRcblx0cmV0dXJuIHN0cmluZztcbn07XG5cblxuU3RyaW5nLnByb3RvdHlwZS5yZW1vdmVMYXN0U3BlY2lmaWNDaGFyID0gZnVuY3Rpb24gKCBzdHJpbmcsIGNoYXIgKSB7XG5cdGlmICggc3RyaW5nLnN1YnN0ciggc3RyaW5nLmxlbmd0aCAtIDEsIDEgKSA9PSBjaGFyIClcblx0XHRzdHJpbmcgPSBzdHJpbmcuc3Vic3RyKCAwLCBzdHJpbmcubGVuZ3RoIC0gMSApO1xuXHRcblx0XG5cdHJldHVybiBzdHJpbmc7XG59O1xuXG5cblN0cmluZy5wcm90b3R5cGUuY29udmVydFRvVXJsID0gZnVuY3Rpb24oIHN0cmluZyApIHtcblx0dmFyIGxpbmtcdD0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2EnICk7XG5cdGxpbmsuaHJlZlx0PSBzdHJpbmc7XG5cdFxuXHRcblx0cmV0dXJuIGxpbms7XG59O1xuXG5cblN0cmluZy5wcm90b3R5cGUuZ2V0UGF0aCA9IGZ1bmN0aW9uKCBzdHJpbmcsIGJhc2VVcmwgKSB7XG5cdGlmICggYmFzZVVybCA9PT0gbnVsbCB8fCBiYXNlVXJsID09PSB1bmRlZmluZWQgKVxuXHRcdGJhc2VVcmwgPSBQYXRoLlVSTC5iYXNlO1xuXHRcblx0dmFyIHBhdGhcdD0gc3RyaW5nLnJlcGxhY2UoIGJhc2VVcmwsICcnICk7XG5cdFxuXHRwYXRoXHRcdD0gcGF0aC5zcGxpdCggJyMnIClbMF07IC8vIHJlbW92ZSAjaGFzaFxuXHRwYXRoXHRcdD0gcGF0aC5zcGxpdCggJz8nIClbMF07IC8vIHJlbW92ZSA/c2VhcmNoXG5cdFxuXHRwYXRoXHRcdD0gdGhpcy5yZW1vdmVGaXJzdFNwZWNpZmljQ2hhciggcGF0aCwgJy8nICk7XG5cdHBhdGhcdFx0PSB0aGlzLnJlbW92ZUxhc3RTcGVjaWZpY0NoYXIoIHBhdGgsICcvJyApO1xuXHRcblx0XG5cdHJldHVybiBwYXRoO1xufTtcblxuXG5TdHJpbmcucHJvdG90eXBlLmdldFNlYXJjaCA9IGZ1bmN0aW9uKCBzdHJpbmcgKSB7XG5cdHZhciB1cmxcdFx0PSB0aGlzLmNvbnZlcnRUb1VybCggc3RyaW5nICk7XG5cdFxuXHR2YXIgc2VhcmNoXHQ9IHVybC5zZWFyY2guc3BsaXQoICc/JyApWzFdIHx8ICcnO1xuXHRcblx0c2VhcmNoXHRcdD0gdGhpcy5yZW1vdmVGaXJzdFNwZWNpZmljQ2hhciggc2VhcmNoLCAnLycgKTtcblx0c2VhcmNoXHRcdD0gdGhpcy5yZW1vdmVMYXN0U3BlY2lmaWNDaGFyKCBzZWFyY2gsICcvJyApO1xuXHRcblx0XG5cdHJldHVybiBzZWFyY2g7XG59O1xuXG5cblN0cmluZy5wcm90b3R5cGUuZ2V0SGFzaCA9IGZ1bmN0aW9uKCBzdHJpbmcgKSB7XG5cdHZhciB1cmxcdFx0PSB0aGlzLmNvbnZlcnRUb1VybCggc3RyaW5nICk7XG5cdFxuXHR2YXIgaGFzaFx0PSB1cmwuaGFzaC5zcGxpdCggJyMnIClbMV0gfHwgJyc7XG5cdFxuXHRoYXNoXHRcdD0gdGhpcy5yZW1vdmVGaXJzdFNwZWNpZmljQ2hhciggaGFzaCwgJy8nICk7XG5cdGhhc2hcdFx0PSB0aGlzLnJlbW92ZUxhc3RTcGVjaWZpY0NoYXIoIGhhc2gsICcvJyApO1xuXHRcblx0XG5cdHJldHVybiBoYXNoO1xufTtcblxuXG5TdHJpbmcucHJvdG90eXBlLmdldFBhcmFtcyA9IGZ1bmN0aW9uKCBzdHJpbmcsIHR5cGUgKSB7XG5cdHZhciB1cmxcdFx0PSB0aGlzLmNvbnZlcnRUb1VybCggc3RyaW5nICk7XG5cdFxuXHR2YXIgcGFyYW1zXHQ9IHt9O1xuXHR2YXIga2V5LCB2YWx1ZTtcblx0XG5cdGlmICggdXJsWyB0eXBlIF0ubGVuZ3RoID4gMSApIHtcblx0XHRmb3IgKCB2YXIgYUl0S2V5LCBuS2V5SWQgPSAwLCBhQ291cGxlcyA9IHVybFsgdHlwZSBdLnN1YnN0cigxKS5zcGxpdCggJyYnICk7IG5LZXlJZCA8IGFDb3VwbGVzLmxlbmd0aDsgbktleUlkKysgKSB7XG5cdFx0XHRhSXRLZXlcdD0gYUNvdXBsZXNbIG5LZXlJZCBdLnNwbGl0KCAnPScgKTtcblx0XHRcdFxuXHRcdFx0a2V5XHRcdD0gdW5lc2NhcGUoIGFJdEtleVswXSApO1xuXHRcdFx0a2V5XHRcdD0gdGhpcy5yZW1vdmVGaXJzdFNwZWNpZmljQ2hhcigga2V5LCAnLycgKTtcblx0XHRcdGtleVx0XHQ9IHRoaXMucmVtb3ZlTGFzdFNwZWNpZmljQ2hhcigga2V5LCAnLycgKTtcblx0XHRcdFxuXHRcdFx0dmFsdWVcdD0gYUl0S2V5Lmxlbmd0aCA+IDEgPyB1bmVzY2FwZSggYUl0S2V5WzFdICkgOiAnJztcblx0XHRcdHZhbHVlXHQ9IHRoaXMucmVtb3ZlRmlyc3RTcGVjaWZpY0NoYXIoIHZhbHVlLCAnLycgKTtcblx0XHRcdHZhbHVlXHQ9IHRoaXMucmVtb3ZlTGFzdFNwZWNpZmljQ2hhciggdmFsdWUsICcvJyApO1xuXHRcdFx0XG5cdFx0XHRwYXJhbXNbIGtleSBdID0gdmFsdWU7XG5cdFx0fVxuXHR9XG5cdFxuXHRcblx0cmV0dXJuIHBhcmFtcztcbn07XG5cblxubW9kdWxlLmV4cG9ydHMgPSBuZXcgU3RyaW5nKCk7XG5cbiIsIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcImRhdFwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJkYXRcIl0gPSBmYWN0b3J5KCk7XG59KSh0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiAvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fSxcbi8qKioqKiovIFx0XHRcdGlkOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGxvYWRlZDogZmFsc2Vcbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX2luZGV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5kZXgpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IF9pbmRleDIuZGVmYXVsdDsgLyoqXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogZGF0LWd1aSBKYXZhU2NyaXB0IENvbnRyb2xsZXIgTGlicmFyeVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIGh0dHA6Ly9jb2RlLmdvb2dsZS5jb20vcC9kYXQtZ3VpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxMSBEYXRhIEFydHMgVGVhbSwgR29vZ2xlIENyZWF0aXZlIExhYlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcbi8qIDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX0NvbG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfQ29sb3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29sb3IpO1xuXHRcblx0dmFyIF9tYXRoID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdHZhciBfbWF0aDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tYXRoKTtcblx0XG5cdHZhciBfaW50ZXJwcmV0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfaW50ZXJwcmV0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ludGVycHJldCk7XG5cdFxuXHR2YXIgX0NvbnRyb2xsZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0dmFyIF9Db250cm9sbGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbnRyb2xsZXIpO1xuXHRcblx0dmFyIF9Cb29sZWFuQ29udHJvbGxlciA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdFxuXHR2YXIgX0Jvb2xlYW5Db250cm9sbGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Jvb2xlYW5Db250cm9sbGVyKTtcblx0XG5cdHZhciBfT3B0aW9uQ29udHJvbGxlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXHRcblx0dmFyIF9PcHRpb25Db250cm9sbGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX09wdGlvbkNvbnRyb2xsZXIpO1xuXHRcblx0dmFyIF9TdHJpbmdDb250cm9sbGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cdFxuXHR2YXIgX1N0cmluZ0NvbnRyb2xsZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3RyaW5nQ29udHJvbGxlcik7XG5cdFxuXHR2YXIgX051bWJlckNvbnRyb2xsZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcblx0XG5cdHZhciBfTnVtYmVyQ29udHJvbGxlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9OdW1iZXJDb250cm9sbGVyKTtcblx0XG5cdHZhciBfTnVtYmVyQ29udHJvbGxlckJveCA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xuXHRcblx0dmFyIF9OdW1iZXJDb250cm9sbGVyQm94MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX051bWJlckNvbnRyb2xsZXJCb3gpO1xuXHRcblx0dmFyIF9OdW1iZXJDb250cm9sbGVyU2xpZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XG5cdFxuXHR2YXIgX051bWJlckNvbnRyb2xsZXJTbGlkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTnVtYmVyQ29udHJvbGxlclNsaWRlcik7XG5cdFxuXHR2YXIgX0Z1bmN0aW9uQ29udHJvbGxlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xuXHRcblx0dmFyIF9GdW5jdGlvbkNvbnRyb2xsZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRnVuY3Rpb25Db250cm9sbGVyKTtcblx0XG5cdHZhciBfQ29sb3JDb250cm9sbGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XG5cdFxuXHR2YXIgX0NvbG9yQ29udHJvbGxlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db2xvckNvbnRyb2xsZXIpO1xuXHRcblx0dmFyIF9kb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHRcblx0dmFyIF9kb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZG9tKTtcblx0XG5cdHZhciBfR1VJID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNyk7XG5cdFxuXHR2YXIgX0dVSTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HVUkpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdC8qKlxuXHQgKiBkYXQtZ3VpIEphdmFTY3JpcHQgQ29udHJvbGxlciBMaWJyYXJ5XG5cdCAqIGh0dHA6Ly9jb2RlLmdvb2dsZS5jb20vcC9kYXQtZ3VpXG5cdCAqXG5cdCAqIENvcHlyaWdodCAyMDExIERhdGEgQXJ0cyBUZWFtLCBHb29nbGUgQ3JlYXRpdmUgTGFiXG5cdCAqXG5cdCAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG5cdCAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cblx0ICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG5cdCAqXG5cdCAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuXHQgKi9cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHtcblx0ICBjb2xvcjoge1xuXHQgICAgQ29sb3I6IF9Db2xvcjIuZGVmYXVsdCxcblx0ICAgIG1hdGg6IF9tYXRoMi5kZWZhdWx0LFxuXHQgICAgaW50ZXJwcmV0OiBfaW50ZXJwcmV0Mi5kZWZhdWx0XG5cdCAgfSxcblx0XG5cdCAgY29udHJvbGxlcnM6IHtcblx0ICAgIENvbnRyb2xsZXI6IF9Db250cm9sbGVyMi5kZWZhdWx0LFxuXHQgICAgQm9vbGVhbkNvbnRyb2xsZXI6IF9Cb29sZWFuQ29udHJvbGxlcjIuZGVmYXVsdCxcblx0ICAgIE9wdGlvbkNvbnRyb2xsZXI6IF9PcHRpb25Db250cm9sbGVyMi5kZWZhdWx0LFxuXHQgICAgU3RyaW5nQ29udHJvbGxlcjogX1N0cmluZ0NvbnRyb2xsZXIyLmRlZmF1bHQsXG5cdCAgICBOdW1iZXJDb250cm9sbGVyOiBfTnVtYmVyQ29udHJvbGxlcjIuZGVmYXVsdCxcblx0ICAgIE51bWJlckNvbnRyb2xsZXJCb3g6IF9OdW1iZXJDb250cm9sbGVyQm94Mi5kZWZhdWx0LFxuXHQgICAgTnVtYmVyQ29udHJvbGxlclNsaWRlcjogX051bWJlckNvbnRyb2xsZXJTbGlkZXIyLmRlZmF1bHQsXG5cdCAgICBGdW5jdGlvbkNvbnRyb2xsZXI6IF9GdW5jdGlvbkNvbnRyb2xsZXIyLmRlZmF1bHQsXG5cdCAgICBDb2xvckNvbnRyb2xsZXI6IF9Db2xvckNvbnRyb2xsZXIyLmRlZmF1bHRcblx0ICB9LFxuXHRcblx0ICBkb206IHtcblx0ICAgIGRvbTogX2RvbTIuZGVmYXVsdFxuXHQgIH0sXG5cdFxuXHQgIGd1aToge1xuXHQgICAgR1VJOiBfR1VJMi5kZWZhdWx0XG5cdCAgfSxcblx0XG5cdCAgR1VJOiBfR1VJMi5kZWZhdWx0XG5cdH07XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0XG5cdHZhciBfaW50ZXJwcmV0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfaW50ZXJwcmV0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ludGVycHJldCk7XG5cdFxuXHR2YXIgX21hdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9tYXRoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21hdGgpO1xuXHRcblx0dmFyIF90b1N0cmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX3RvU3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RvU3RyaW5nKTtcblx0XG5cdHZhciBfY29tbW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfY29tbW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbW1vbik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH0gLyoqXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBkYXQtZ3VpIEphdmFTY3JpcHQgQ29udHJvbGxlciBMaWJyYXJ5XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvZGF0LWd1aVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDExIERhdGEgQXJ0cyBUZWFtLCBHb29nbGUgQ3JlYXRpdmUgTGFiXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cdFxuXHR2YXIgQ29sb3IgPSBmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gQ29sb3IoKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29sb3IpO1xuXHRcblx0ICAgIHRoaXMuX19zdGF0ZSA9IF9pbnRlcnByZXQyLmRlZmF1bHQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XG5cdCAgICBpZiAodGhpcy5fX3N0YXRlID09PSBmYWxzZSkge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBpbnRlcnByZXQgY29sb3IgYXJndW1lbnRzJyk7XG5cdCAgICB9XG5cdFxuXHQgICAgdGhpcy5fX3N0YXRlLmEgPSB0aGlzLl9fc3RhdGUuYSB8fCAxO1xuXHQgIH1cblx0XG5cdCAgQ29sb3IucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG5cdCAgICByZXR1cm4gKDAsIF90b1N0cmluZzIuZGVmYXVsdCkodGhpcyk7XG5cdCAgfTtcblx0XG5cdCAgQ29sb3IucHJvdG90eXBlLnRvSGV4U3RyaW5nID0gZnVuY3Rpb24gdG9IZXhTdHJpbmcoKSB7XG5cdCAgICByZXR1cm4gKDAsIF90b1N0cmluZzIuZGVmYXVsdCkodGhpcywgdHJ1ZSk7XG5cdCAgfTtcblx0XG5cdCAgQ29sb3IucHJvdG90eXBlLnRvT3JpZ2luYWwgPSBmdW5jdGlvbiB0b09yaWdpbmFsKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuX19zdGF0ZS5jb252ZXJzaW9uLndyaXRlKHRoaXMpO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiBDb2xvcjtcblx0fSgpO1xuXHRcblx0ZnVuY3Rpb24gZGVmaW5lUkdCQ29tcG9uZW50KHRhcmdldCwgY29tcG9uZW50LCBjb21wb25lbnRIZXhJbmRleCkge1xuXHQgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGNvbXBvbmVudCwge1xuXHQgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgIGlmICh0aGlzLl9fc3RhdGUuc3BhY2UgPT09ICdSR0InKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX19zdGF0ZVtjb21wb25lbnRdO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBDb2xvci5yZWNhbGN1bGF0ZVJHQih0aGlzLCBjb21wb25lbnQsIGNvbXBvbmVudEhleEluZGV4KTtcblx0XG5cdCAgICAgIHJldHVybiB0aGlzLl9fc3RhdGVbY29tcG9uZW50XTtcblx0ICAgIH0sXG5cdFxuXHQgICAgc2V0OiBmdW5jdGlvbiBzZXQodikge1xuXHQgICAgICBpZiAodGhpcy5fX3N0YXRlLnNwYWNlICE9PSAnUkdCJykge1xuXHQgICAgICAgIENvbG9yLnJlY2FsY3VsYXRlUkdCKHRoaXMsIGNvbXBvbmVudCwgY29tcG9uZW50SGV4SW5kZXgpO1xuXHQgICAgICAgIHRoaXMuX19zdGF0ZS5zcGFjZSA9ICdSR0InO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICB0aGlzLl9fc3RhdGVbY29tcG9uZW50XSA9IHY7XG5cdCAgICB9XG5cdCAgfSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGRlZmluZUhTVkNvbXBvbmVudCh0YXJnZXQsIGNvbXBvbmVudCkge1xuXHQgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGNvbXBvbmVudCwge1xuXHQgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgIGlmICh0aGlzLl9fc3RhdGUuc3BhY2UgPT09ICdIU1YnKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX19zdGF0ZVtjb21wb25lbnRdO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBDb2xvci5yZWNhbGN1bGF0ZUhTVih0aGlzKTtcblx0XG5cdCAgICAgIHJldHVybiB0aGlzLl9fc3RhdGVbY29tcG9uZW50XTtcblx0ICAgIH0sXG5cdFxuXHQgICAgc2V0OiBmdW5jdGlvbiBzZXQodikge1xuXHQgICAgICBpZiAodGhpcy5fX3N0YXRlLnNwYWNlICE9PSAnSFNWJykge1xuXHQgICAgICAgIENvbG9yLnJlY2FsY3VsYXRlSFNWKHRoaXMpO1xuXHQgICAgICAgIHRoaXMuX19zdGF0ZS5zcGFjZSA9ICdIU1YnO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICB0aGlzLl9fc3RhdGVbY29tcG9uZW50XSA9IHY7XG5cdCAgICB9XG5cdCAgfSk7XG5cdH1cblx0XG5cdENvbG9yLnJlY2FsY3VsYXRlUkdCID0gZnVuY3Rpb24gKGNvbG9yLCBjb21wb25lbnQsIGNvbXBvbmVudEhleEluZGV4KSB7XG5cdCAgaWYgKGNvbG9yLl9fc3RhdGUuc3BhY2UgPT09ICdIRVgnKSB7XG5cdCAgICBjb2xvci5fX3N0YXRlW2NvbXBvbmVudF0gPSBfbWF0aDIuZGVmYXVsdC5jb21wb25lbnRfZnJvbV9oZXgoY29sb3IuX19zdGF0ZS5oZXgsIGNvbXBvbmVudEhleEluZGV4KTtcblx0ICB9IGVsc2UgaWYgKGNvbG9yLl9fc3RhdGUuc3BhY2UgPT09ICdIU1YnKSB7XG5cdCAgICBfY29tbW9uMi5kZWZhdWx0LmV4dGVuZChjb2xvci5fX3N0YXRlLCBfbWF0aDIuZGVmYXVsdC5oc3ZfdG9fcmdiKGNvbG9yLl9fc3RhdGUuaCwgY29sb3IuX19zdGF0ZS5zLCBjb2xvci5fX3N0YXRlLnYpKTtcblx0ICB9IGVsc2Uge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdDb3JydXB0ZWQgY29sb3Igc3RhdGUnKTtcblx0ICB9XG5cdH07XG5cdFxuXHRDb2xvci5yZWNhbGN1bGF0ZUhTViA9IGZ1bmN0aW9uIChjb2xvcikge1xuXHQgIHZhciByZXN1bHQgPSBfbWF0aDIuZGVmYXVsdC5yZ2JfdG9faHN2KGNvbG9yLnIsIGNvbG9yLmcsIGNvbG9yLmIpO1xuXHRcblx0ICBfY29tbW9uMi5kZWZhdWx0LmV4dGVuZChjb2xvci5fX3N0YXRlLCB7XG5cdCAgICBzOiByZXN1bHQucyxcblx0ICAgIHY6IHJlc3VsdC52XG5cdCAgfSk7XG5cdFxuXHQgIGlmICghX2NvbW1vbjIuZGVmYXVsdC5pc05hTihyZXN1bHQuaCkpIHtcblx0ICAgIGNvbG9yLl9fc3RhdGUuaCA9IHJlc3VsdC5oO1xuXHQgIH0gZWxzZSBpZiAoX2NvbW1vbjIuZGVmYXVsdC5pc1VuZGVmaW5lZChjb2xvci5fX3N0YXRlLmgpKSB7XG5cdCAgICBjb2xvci5fX3N0YXRlLmggPSAwO1xuXHQgIH1cblx0fTtcblx0XG5cdENvbG9yLkNPTVBPTkVOVFMgPSBbJ3InLCAnZycsICdiJywgJ2gnLCAncycsICd2JywgJ2hleCcsICdhJ107XG5cdFxuXHRkZWZpbmVSR0JDb21wb25lbnQoQ29sb3IucHJvdG90eXBlLCAncicsIDIpO1xuXHRkZWZpbmVSR0JDb21wb25lbnQoQ29sb3IucHJvdG90eXBlLCAnZycsIDEpO1xuXHRkZWZpbmVSR0JDb21wb25lbnQoQ29sb3IucHJvdG90eXBlLCAnYicsIDApO1xuXHRcblx0ZGVmaW5lSFNWQ29tcG9uZW50KENvbG9yLnByb3RvdHlwZSwgJ2gnKTtcblx0ZGVmaW5lSFNWQ29tcG9uZW50KENvbG9yLnByb3RvdHlwZSwgJ3MnKTtcblx0ZGVmaW5lSFNWQ29tcG9uZW50KENvbG9yLnByb3RvdHlwZSwgJ3YnKTtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb2xvci5wcm90b3R5cGUsICdhJywge1xuXHQgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgcmV0dXJuIHRoaXMuX19zdGF0ZS5hO1xuXHQgIH0sXG5cdFxuXHQgIHNldDogZnVuY3Rpb24gc2V0KHYpIHtcblx0ICAgIHRoaXMuX19zdGF0ZS5hID0gdjtcblx0ICB9XG5cdH0pO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KENvbG9yLnByb3RvdHlwZSwgJ2hleCcsIHtcblx0ICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgIGlmICghdGhpcy5fX3N0YXRlLnNwYWNlICE9PSAnSEVYJykge1xuXHQgICAgICB0aGlzLl9fc3RhdGUuaGV4ID0gX21hdGgyLmRlZmF1bHQucmdiX3RvX2hleCh0aGlzLnIsIHRoaXMuZywgdGhpcy5iKTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gdGhpcy5fX3N0YXRlLmhleDtcblx0ICB9LFxuXHRcblx0ICBzZXQ6IGZ1bmN0aW9uIHNldCh2KSB7XG5cdCAgICB0aGlzLl9fc3RhdGUuc3BhY2UgPSAnSEVYJztcblx0ICAgIHRoaXMuX19zdGF0ZS5oZXggPSB2O1xuXHQgIH1cblx0fSk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBDb2xvcjtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0dmFyIF90b1N0cmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX3RvU3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RvU3RyaW5nKTtcblx0XG5cdHZhciBfY29tbW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfY29tbW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbW1vbik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0LyoqXG5cdCAqIGRhdC1ndWkgSmF2YVNjcmlwdCBDb250cm9sbGVyIExpYnJhcnlcblx0ICogaHR0cDovL2NvZGUuZ29vZ2xlLmNvbS9wL2RhdC1ndWlcblx0ICpcblx0ICogQ29weXJpZ2h0IDIwMTEgRGF0YSBBcnRzIFRlYW0sIEdvb2dsZSBDcmVhdGl2ZSBMYWJcblx0ICpcblx0ICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcblx0ICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuXHQgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcblx0ICpcblx0ICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG5cdCAqL1xuXHRcblx0dmFyIElOVEVSUFJFVEFUSU9OUyA9IFtcblx0Ly8gU3RyaW5nc1xuXHR7XG5cdCAgbGl0bXVzOiBfY29tbW9uMi5kZWZhdWx0LmlzU3RyaW5nLFxuXHQgIGNvbnZlcnNpb25zOiB7XG5cdCAgICBUSFJFRV9DSEFSX0hFWDoge1xuXHQgICAgICByZWFkOiBmdW5jdGlvbiByZWFkKG9yaWdpbmFsKSB7XG5cdCAgICAgICAgdmFyIHRlc3QgPSBvcmlnaW5hbC5tYXRjaCgvXiMoW0EtRjAtOV0pKFtBLUYwLTldKShbQS1GMC05XSkkL2kpO1xuXHQgICAgICAgIGlmICh0ZXN0ID09PSBudWxsKSB7XG5cdCAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgc3BhY2U6ICdIRVgnLFxuXHQgICAgICAgICAgaGV4OiBwYXJzZUludCgnMHgnICsgdGVzdFsxXS50b1N0cmluZygpICsgdGVzdFsxXS50b1N0cmluZygpICsgdGVzdFsyXS50b1N0cmluZygpICsgdGVzdFsyXS50b1N0cmluZygpICsgdGVzdFszXS50b1N0cmluZygpICsgdGVzdFszXS50b1N0cmluZygpLCAwKVxuXHQgICAgICAgIH07XG5cdCAgICAgIH0sXG5cdFxuXHQgICAgICB3cml0ZTogX3RvU3RyaW5nMi5kZWZhdWx0XG5cdCAgICB9LFxuXHRcblx0ICAgIFNJWF9DSEFSX0hFWDoge1xuXHQgICAgICByZWFkOiBmdW5jdGlvbiByZWFkKG9yaWdpbmFsKSB7XG5cdCAgICAgICAgdmFyIHRlc3QgPSBvcmlnaW5hbC5tYXRjaCgvXiMoW0EtRjAtOV17Nn0pJC9pKTtcblx0ICAgICAgICBpZiAodGVzdCA9PT0gbnVsbCkge1xuXHQgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgIHNwYWNlOiAnSEVYJyxcblx0ICAgICAgICAgIGhleDogcGFyc2VJbnQoJzB4JyArIHRlc3RbMV0udG9TdHJpbmcoKSwgMClcblx0ICAgICAgICB9O1xuXHQgICAgICB9LFxuXHRcblx0ICAgICAgd3JpdGU6IF90b1N0cmluZzIuZGVmYXVsdFxuXHQgICAgfSxcblx0XG5cdCAgICBDU1NfUkdCOiB7XG5cdCAgICAgIHJlYWQ6IGZ1bmN0aW9uIHJlYWQob3JpZ2luYWwpIHtcblx0ICAgICAgICB2YXIgdGVzdCA9IG9yaWdpbmFsLm1hdGNoKC9ecmdiXFwoXFxzKiguKylcXHMqLFxccyooLispXFxzKixcXHMqKC4rKVxccypcXCkvKTtcblx0ICAgICAgICBpZiAodGVzdCA9PT0gbnVsbCkge1xuXHQgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgIHNwYWNlOiAnUkdCJyxcblx0ICAgICAgICAgIHI6IHBhcnNlRmxvYXQodGVzdFsxXSksXG5cdCAgICAgICAgICBnOiBwYXJzZUZsb2F0KHRlc3RbMl0pLFxuXHQgICAgICAgICAgYjogcGFyc2VGbG9hdCh0ZXN0WzNdKVxuXHQgICAgICAgIH07XG5cdCAgICAgIH0sXG5cdFxuXHQgICAgICB3cml0ZTogX3RvU3RyaW5nMi5kZWZhdWx0XG5cdCAgICB9LFxuXHRcblx0ICAgIENTU19SR0JBOiB7XG5cdCAgICAgIHJlYWQ6IGZ1bmN0aW9uIHJlYWQob3JpZ2luYWwpIHtcblx0ICAgICAgICB2YXIgdGVzdCA9IG9yaWdpbmFsLm1hdGNoKC9ecmdiYVxcKFxccyooLispXFxzKixcXHMqKC4rKVxccyosXFxzKiguKylcXHMqLFxccyooLispXFxzKlxcKS8pO1xuXHQgICAgICAgIGlmICh0ZXN0ID09PSBudWxsKSB7XG5cdCAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgc3BhY2U6ICdSR0InLFxuXHQgICAgICAgICAgcjogcGFyc2VGbG9hdCh0ZXN0WzFdKSxcblx0ICAgICAgICAgIGc6IHBhcnNlRmxvYXQodGVzdFsyXSksXG5cdCAgICAgICAgICBiOiBwYXJzZUZsb2F0KHRlc3RbM10pLFxuXHQgICAgICAgICAgYTogcGFyc2VGbG9hdCh0ZXN0WzRdKVxuXHQgICAgICAgIH07XG5cdCAgICAgIH0sXG5cdFxuXHQgICAgICB3cml0ZTogX3RvU3RyaW5nMi5kZWZhdWx0XG5cdCAgICB9XG5cdCAgfVxuXHR9LFxuXHRcblx0Ly8gTnVtYmVyc1xuXHR7XG5cdCAgbGl0bXVzOiBfY29tbW9uMi5kZWZhdWx0LmlzTnVtYmVyLFxuXHRcblx0ICBjb252ZXJzaW9uczoge1xuXHRcblx0ICAgIEhFWDoge1xuXHQgICAgICByZWFkOiBmdW5jdGlvbiByZWFkKG9yaWdpbmFsKSB7XG5cdCAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgIHNwYWNlOiAnSEVYJyxcblx0ICAgICAgICAgIGhleDogb3JpZ2luYWwsXG5cdCAgICAgICAgICBjb252ZXJzaW9uTmFtZTogJ0hFWCdcblx0ICAgICAgICB9O1xuXHQgICAgICB9LFxuXHRcblx0ICAgICAgd3JpdGU6IGZ1bmN0aW9uIHdyaXRlKGNvbG9yKSB7XG5cdCAgICAgICAgcmV0dXJuIGNvbG9yLmhleDtcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICB9XG5cdFxuXHR9LFxuXHRcblx0Ly8gQXJyYXlzXG5cdHtcblx0ICBsaXRtdXM6IF9jb21tb24yLmRlZmF1bHQuaXNBcnJheSxcblx0ICBjb252ZXJzaW9uczoge1xuXHQgICAgUkdCX0FSUkFZOiB7XG5cdCAgICAgIHJlYWQ6IGZ1bmN0aW9uIHJlYWQob3JpZ2luYWwpIHtcblx0ICAgICAgICBpZiAob3JpZ2luYWwubGVuZ3RoICE9PSAzKSB7XG5cdCAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgc3BhY2U6ICdSR0InLFxuXHQgICAgICAgICAgcjogb3JpZ2luYWxbMF0sXG5cdCAgICAgICAgICBnOiBvcmlnaW5hbFsxXSxcblx0ICAgICAgICAgIGI6IG9yaWdpbmFsWzJdXG5cdCAgICAgICAgfTtcblx0ICAgICAgfSxcblx0XG5cdCAgICAgIHdyaXRlOiBmdW5jdGlvbiB3cml0ZShjb2xvcikge1xuXHQgICAgICAgIHJldHVybiBbY29sb3IuciwgY29sb3IuZywgY29sb3IuYl07XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cdFxuXHQgICAgUkdCQV9BUlJBWToge1xuXHQgICAgICByZWFkOiBmdW5jdGlvbiByZWFkKG9yaWdpbmFsKSB7XG5cdCAgICAgICAgaWYgKG9yaWdpbmFsLmxlbmd0aCAhPT0gNCkgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICBzcGFjZTogJ1JHQicsXG5cdCAgICAgICAgICByOiBvcmlnaW5hbFswXSxcblx0ICAgICAgICAgIGc6IG9yaWdpbmFsWzFdLFxuXHQgICAgICAgICAgYjogb3JpZ2luYWxbMl0sXG5cdCAgICAgICAgICBhOiBvcmlnaW5hbFszXVxuXHQgICAgICAgIH07XG5cdCAgICAgIH0sXG5cdFxuXHQgICAgICB3cml0ZTogZnVuY3Rpb24gd3JpdGUoY29sb3IpIHtcblx0ICAgICAgICByZXR1cm4gW2NvbG9yLnIsIGNvbG9yLmcsIGNvbG9yLmIsIGNvbG9yLmFdO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXHR9LFxuXHRcblx0Ly8gT2JqZWN0c1xuXHR7XG5cdCAgbGl0bXVzOiBfY29tbW9uMi5kZWZhdWx0LmlzT2JqZWN0LFxuXHQgIGNvbnZlcnNpb25zOiB7XG5cdFxuXHQgICAgUkdCQV9PQko6IHtcblx0ICAgICAgcmVhZDogZnVuY3Rpb24gcmVhZChvcmlnaW5hbCkge1xuXHQgICAgICAgIGlmIChfY29tbW9uMi5kZWZhdWx0LmlzTnVtYmVyKG9yaWdpbmFsLnIpICYmIF9jb21tb24yLmRlZmF1bHQuaXNOdW1iZXIob3JpZ2luYWwuZykgJiYgX2NvbW1vbjIuZGVmYXVsdC5pc051bWJlcihvcmlnaW5hbC5iKSAmJiBfY29tbW9uMi5kZWZhdWx0LmlzTnVtYmVyKG9yaWdpbmFsLmEpKSB7XG5cdCAgICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICBzcGFjZTogJ1JHQicsXG5cdCAgICAgICAgICAgIHI6IG9yaWdpbmFsLnIsXG5cdCAgICAgICAgICAgIGc6IG9yaWdpbmFsLmcsXG5cdCAgICAgICAgICAgIGI6IG9yaWdpbmFsLmIsXG5cdCAgICAgICAgICAgIGE6IG9yaWdpbmFsLmFcblx0ICAgICAgICAgIH07XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgfSxcblx0XG5cdCAgICAgIHdyaXRlOiBmdW5jdGlvbiB3cml0ZShjb2xvcikge1xuXHQgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICByOiBjb2xvci5yLFxuXHQgICAgICAgICAgZzogY29sb3IuZyxcblx0ICAgICAgICAgIGI6IGNvbG9yLmIsXG5cdCAgICAgICAgICBhOiBjb2xvci5hXG5cdCAgICAgICAgfTtcblx0ICAgICAgfVxuXHQgICAgfSxcblx0XG5cdCAgICBSR0JfT0JKOiB7XG5cdCAgICAgIHJlYWQ6IGZ1bmN0aW9uIHJlYWQob3JpZ2luYWwpIHtcblx0ICAgICAgICBpZiAoX2NvbW1vbjIuZGVmYXVsdC5pc051bWJlcihvcmlnaW5hbC5yKSAmJiBfY29tbW9uMi5kZWZhdWx0LmlzTnVtYmVyKG9yaWdpbmFsLmcpICYmIF9jb21tb24yLmRlZmF1bHQuaXNOdW1iZXIob3JpZ2luYWwuYikpIHtcblx0ICAgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICAgIHNwYWNlOiAnUkdCJyxcblx0ICAgICAgICAgICAgcjogb3JpZ2luYWwucixcblx0ICAgICAgICAgICAgZzogb3JpZ2luYWwuZyxcblx0ICAgICAgICAgICAgYjogb3JpZ2luYWwuYlxuXHQgICAgICAgICAgfTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICB9LFxuXHRcblx0ICAgICAgd3JpdGU6IGZ1bmN0aW9uIHdyaXRlKGNvbG9yKSB7XG5cdCAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgIHI6IGNvbG9yLnIsXG5cdCAgICAgICAgICBnOiBjb2xvci5nLFxuXHQgICAgICAgICAgYjogY29sb3IuYlxuXHQgICAgICAgIH07XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cdFxuXHQgICAgSFNWQV9PQko6IHtcblx0ICAgICAgcmVhZDogZnVuY3Rpb24gcmVhZChvcmlnaW5hbCkge1xuXHQgICAgICAgIGlmIChfY29tbW9uMi5kZWZhdWx0LmlzTnVtYmVyKG9yaWdpbmFsLmgpICYmIF9jb21tb24yLmRlZmF1bHQuaXNOdW1iZXIob3JpZ2luYWwucykgJiYgX2NvbW1vbjIuZGVmYXVsdC5pc051bWJlcihvcmlnaW5hbC52KSAmJiBfY29tbW9uMi5kZWZhdWx0LmlzTnVtYmVyKG9yaWdpbmFsLmEpKSB7XG5cdCAgICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICBzcGFjZTogJ0hTVicsXG5cdCAgICAgICAgICAgIGg6IG9yaWdpbmFsLmgsXG5cdCAgICAgICAgICAgIHM6IG9yaWdpbmFsLnMsXG5cdCAgICAgICAgICAgIHY6IG9yaWdpbmFsLnYsXG5cdCAgICAgICAgICAgIGE6IG9yaWdpbmFsLmFcblx0ICAgICAgICAgIH07XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgfSxcblx0XG5cdCAgICAgIHdyaXRlOiBmdW5jdGlvbiB3cml0ZShjb2xvcikge1xuXHQgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICBoOiBjb2xvci5oLFxuXHQgICAgICAgICAgczogY29sb3Iucyxcblx0ICAgICAgICAgIHY6IGNvbG9yLnYsXG5cdCAgICAgICAgICBhOiBjb2xvci5hXG5cdCAgICAgICAgfTtcblx0ICAgICAgfVxuXHQgICAgfSxcblx0XG5cdCAgICBIU1ZfT0JKOiB7XG5cdCAgICAgIHJlYWQ6IGZ1bmN0aW9uIHJlYWQob3JpZ2luYWwpIHtcblx0ICAgICAgICBpZiAoX2NvbW1vbjIuZGVmYXVsdC5pc051bWJlcihvcmlnaW5hbC5oKSAmJiBfY29tbW9uMi5kZWZhdWx0LmlzTnVtYmVyKG9yaWdpbmFsLnMpICYmIF9jb21tb24yLmRlZmF1bHQuaXNOdW1iZXIob3JpZ2luYWwudikpIHtcblx0ICAgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICAgIHNwYWNlOiAnSFNWJyxcblx0ICAgICAgICAgICAgaDogb3JpZ2luYWwuaCxcblx0ICAgICAgICAgICAgczogb3JpZ2luYWwucyxcblx0ICAgICAgICAgICAgdjogb3JpZ2luYWwudlxuXHQgICAgICAgICAgfTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICB9LFxuXHRcblx0ICAgICAgd3JpdGU6IGZ1bmN0aW9uIHdyaXRlKGNvbG9yKSB7XG5cdCAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgIGg6IGNvbG9yLmgsXG5cdCAgICAgICAgICBzOiBjb2xvci5zLFxuXHQgICAgICAgICAgdjogY29sb3IudlxuXHQgICAgICAgIH07XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdH1dO1xuXHRcblx0dmFyIHJlc3VsdCA9IHZvaWQgMDtcblx0dmFyIHRvUmV0dXJuID0gdm9pZCAwO1xuXHRcblx0dmFyIGludGVycHJldCA9IGZ1bmN0aW9uIGludGVycHJldCgpIHtcblx0ICB0b1JldHVybiA9IGZhbHNlO1xuXHRcblx0ICB2YXIgb3JpZ2luYWwgPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IF9jb21tb24yLmRlZmF1bHQudG9BcnJheShhcmd1bWVudHMpIDogYXJndW1lbnRzWzBdO1xuXHQgIF9jb21tb24yLmRlZmF1bHQuZWFjaChJTlRFUlBSRVRBVElPTlMsIGZ1bmN0aW9uIChmYW1pbHkpIHtcblx0ICAgIGlmIChmYW1pbHkubGl0bXVzKG9yaWdpbmFsKSkge1xuXHQgICAgICBfY29tbW9uMi5kZWZhdWx0LmVhY2goZmFtaWx5LmNvbnZlcnNpb25zLCBmdW5jdGlvbiAoY29udmVyc2lvbiwgY29udmVyc2lvbk5hbWUpIHtcblx0ICAgICAgICByZXN1bHQgPSBjb252ZXJzaW9uLnJlYWQob3JpZ2luYWwpO1xuXHRcblx0ICAgICAgICBpZiAodG9SZXR1cm4gPT09IGZhbHNlICYmIHJlc3VsdCAhPT0gZmFsc2UpIHtcblx0ICAgICAgICAgIHRvUmV0dXJuID0gcmVzdWx0O1xuXHQgICAgICAgICAgcmVzdWx0LmNvbnZlcnNpb25OYW1lID0gY29udmVyc2lvbk5hbWU7XG5cdCAgICAgICAgICByZXN1bHQuY29udmVyc2lvbiA9IGNvbnZlcnNpb247XG5cdCAgICAgICAgICByZXR1cm4gX2NvbW1vbjIuZGVmYXVsdC5CUkVBSztcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgcmV0dXJuIF9jb21tb24yLmRlZmF1bHQuQlJFQUs7XG5cdCAgICB9XG5cdCAgfSk7XG5cdFxuXHQgIHJldHVybiB0b1JldHVybjtcblx0fTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGludGVycHJldDtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiA0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGNvbG9yLCBmb3JjZUNTU0hleCkge1xuXHQgIHZhciBjb2xvckZvcm1hdCA9IGNvbG9yLl9fc3RhdGUuY29udmVyc2lvbk5hbWUudG9TdHJpbmcoKTtcblx0XG5cdCAgdmFyIHIgPSBNYXRoLnJvdW5kKGNvbG9yLnIpO1xuXHQgIHZhciBnID0gTWF0aC5yb3VuZChjb2xvci5nKTtcblx0ICB2YXIgYiA9IE1hdGgucm91bmQoY29sb3IuYik7XG5cdCAgdmFyIGEgPSBjb2xvci5hO1xuXHQgIHZhciBoID0gTWF0aC5yb3VuZChjb2xvci5oKTtcblx0ICB2YXIgcyA9IGNvbG9yLnMudG9GaXhlZCgxKTtcblx0ICB2YXIgdiA9IGNvbG9yLnYudG9GaXhlZCgxKTtcblx0XG5cdCAgaWYgKGZvcmNlQ1NTSGV4IHx8IGNvbG9yRm9ybWF0ID09PSAnVEhSRUVfQ0hBUl9IRVgnIHx8IGNvbG9yRm9ybWF0ID09PSAnU0lYX0NIQVJfSEVYJykge1xuXHQgICAgdmFyIHN0ciA9IGNvbG9yLmhleC50b1N0cmluZygxNik7XG5cdCAgICB3aGlsZSAoc3RyLmxlbmd0aCA8IDYpIHtcblx0ICAgICAgc3RyID0gJzAnICsgc3RyO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuICcjJyArIHN0cjtcblx0ICB9IGVsc2UgaWYgKGNvbG9yRm9ybWF0ID09PSAnQ1NTX1JHQicpIHtcblx0ICAgIHJldHVybiAncmdiKCcgKyByICsgJywnICsgZyArICcsJyArIGIgKyAnKSc7XG5cdCAgfSBlbHNlIGlmIChjb2xvckZvcm1hdCA9PT0gJ0NTU19SR0JBJykge1xuXHQgICAgcmV0dXJuICdyZ2JhKCcgKyByICsgJywnICsgZyArICcsJyArIGIgKyAnLCcgKyBhICsgJyknO1xuXHQgIH0gZWxzZSBpZiAoY29sb3JGb3JtYXQgPT09ICdIRVgnKSB7XG5cdCAgICByZXR1cm4gJzB4JyArIGNvbG9yLmhleC50b1N0cmluZygxNik7XG5cdCAgfSBlbHNlIGlmIChjb2xvckZvcm1hdCA9PT0gJ1JHQl9BUlJBWScpIHtcblx0ICAgIHJldHVybiAnWycgKyByICsgJywnICsgZyArICcsJyArIGIgKyAnXSc7XG5cdCAgfSBlbHNlIGlmIChjb2xvckZvcm1hdCA9PT0gJ1JHQkFfQVJSQVknKSB7XG5cdCAgICByZXR1cm4gJ1snICsgciArICcsJyArIGcgKyAnLCcgKyBiICsgJywnICsgYSArICddJztcblx0ICB9IGVsc2UgaWYgKGNvbG9yRm9ybWF0ID09PSAnUkdCX09CSicpIHtcblx0ICAgIHJldHVybiAne3I6JyArIHIgKyAnLGc6JyArIGcgKyAnLGI6JyArIGIgKyAnfSc7XG5cdCAgfSBlbHNlIGlmIChjb2xvckZvcm1hdCA9PT0gJ1JHQkFfT0JKJykge1xuXHQgICAgcmV0dXJuICd7cjonICsgciArICcsZzonICsgZyArICcsYjonICsgYiArICcsYTonICsgYSArICd9Jztcblx0ICB9IGVsc2UgaWYgKGNvbG9yRm9ybWF0ID09PSAnSFNWX09CSicpIHtcblx0ICAgIHJldHVybiAne2g6JyArIGggKyAnLHM6JyArIHMgKyAnLHY6JyArIHYgKyAnfSc7XG5cdCAgfSBlbHNlIGlmIChjb2xvckZvcm1hdCA9PT0gJ0hTVkFfT0JKJykge1xuXHQgICAgcmV0dXJuICd7aDonICsgaCArICcsczonICsgcyArICcsdjonICsgdiArICcsYTonICsgYSArICd9Jztcblx0ICB9XG5cdFxuXHQgIHJldHVybiAndW5rbm93biBmb3JtYXQnO1xuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IC8qKlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogZGF0LWd1aSBKYXZhU2NyaXB0IENvbnRyb2xsZXIgTGlicmFyeVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogaHR0cDovL2NvZGUuZ29vZ2xlLmNvbS9wL2RhdC1ndWlcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxMSBEYXRhIEFydHMgVGVhbSwgR29vZ2xlIENyZWF0aXZlIExhYlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXG4vKioqLyB9LFxuLyogNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0LyoqXG5cdCAqIGRhdC1ndWkgSmF2YVNjcmlwdCBDb250cm9sbGVyIExpYnJhcnlcblx0ICogaHR0cDovL2NvZGUuZ29vZ2xlLmNvbS9wL2RhdC1ndWlcblx0ICpcblx0ICogQ29weXJpZ2h0IDIwMTEgRGF0YSBBcnRzIFRlYW0sIEdvb2dsZSBDcmVhdGl2ZSBMYWJcblx0ICpcblx0ICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcblx0ICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuXHQgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcblx0ICpcblx0ICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG5cdCAqL1xuXHRcblx0dmFyIEFSUl9FQUNIID0gQXJyYXkucHJvdG90eXBlLmZvckVhY2g7XG5cdHZhciBBUlJfU0xJQ0UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG5cdFxuXHQvKipcblx0ICogQmFuZC1haWQgbWV0aG9kcyBmb3IgdGhpbmdzIHRoYXQgc2hvdWxkIGJlIGEgbG90IGVhc2llciBpbiBKYXZhU2NyaXB0LlxuXHQgKiBJbXBsZW1lbnRhdGlvbiBhbmQgc3RydWN0dXJlIGluc3BpcmVkIGJ5IHVuZGVyc2NvcmUuanNcblx0ICogaHR0cDovL2RvY3VtZW50Y2xvdWQuZ2l0aHViLmNvbS91bmRlcnNjb3JlL1xuXHQgKi9cblx0XG5cdHZhciBDb21tb24gPSB7XG5cdCAgQlJFQUs6IHt9LFxuXHRcblx0ICBleHRlbmQ6IGZ1bmN0aW9uIGV4dGVuZCh0YXJnZXQpIHtcblx0ICAgIHRoaXMuZWFjaChBUlJfU0xJQ0UuY2FsbChhcmd1bWVudHMsIDEpLCBmdW5jdGlvbiAob2JqKSB7XG5cdCAgICAgIHZhciBrZXlzID0gdGhpcy5pc09iamVjdChvYmopID8gT2JqZWN0LmtleXMob2JqKSA6IFtdO1xuXHQgICAgICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHQgICAgICAgIGlmICghdGhpcy5pc1VuZGVmaW5lZChvYmpba2V5XSkpIHtcblx0ICAgICAgICAgIHRhcmdldFtrZXldID0gb2JqW2tleV07XG5cdCAgICAgICAgfVxuXHQgICAgICB9LmJpbmQodGhpcykpO1xuXHQgICAgfSwgdGhpcyk7XG5cdFxuXHQgICAgcmV0dXJuIHRhcmdldDtcblx0ICB9LFxuXHRcblx0ICBkZWZhdWx0czogZnVuY3Rpb24gZGVmYXVsdHModGFyZ2V0KSB7XG5cdCAgICB0aGlzLmVhY2goQVJSX1NMSUNFLmNhbGwoYXJndW1lbnRzLCAxKSwgZnVuY3Rpb24gKG9iaikge1xuXHQgICAgICB2YXIga2V5cyA9IHRoaXMuaXNPYmplY3Qob2JqKSA/IE9iamVjdC5rZXlzKG9iaikgOiBbXTtcblx0ICAgICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgICAgICBpZiAodGhpcy5pc1VuZGVmaW5lZCh0YXJnZXRba2V5XSkpIHtcblx0ICAgICAgICAgIHRhcmdldFtrZXldID0gb2JqW2tleV07XG5cdCAgICAgICAgfVxuXHQgICAgICB9LmJpbmQodGhpcykpO1xuXHQgICAgfSwgdGhpcyk7XG5cdFxuXHQgICAgcmV0dXJuIHRhcmdldDtcblx0ICB9LFxuXHRcblx0ICBjb21wb3NlOiBmdW5jdGlvbiBjb21wb3NlKCkge1xuXHQgICAgdmFyIHRvQ2FsbCA9IEFSUl9TTElDRS5jYWxsKGFyZ3VtZW50cyk7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuXHQgICAgICB2YXIgYXJncyA9IEFSUl9TTElDRS5jYWxsKGFyZ3VtZW50cyk7XG5cdCAgICAgIGZvciAodmFyIGkgPSB0b0NhbGwubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0ICAgICAgICBhcmdzID0gW3RvQ2FsbFtpXS5hcHBseSh0aGlzLCBhcmdzKV07XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIGFyZ3NbMF07XG5cdCAgICB9O1xuXHQgIH0sXG5cdFxuXHQgIGVhY2g6IGZ1bmN0aW9uIGVhY2gob2JqLCBpdHIsIHNjb3BlKSB7XG5cdCAgICBpZiAoIW9iaikge1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKEFSUl9FQUNIICYmIG9iai5mb3JFYWNoICYmIG9iai5mb3JFYWNoID09PSBBUlJfRUFDSCkge1xuXHQgICAgICBvYmouZm9yRWFjaChpdHIsIHNjb3BlKTtcblx0ICAgIH0gZWxzZSBpZiAob2JqLmxlbmd0aCA9PT0gb2JqLmxlbmd0aCArIDApIHtcblx0ICAgICAgLy8gSXMgbnVtYmVyIGJ1dCBub3QgTmFOXG5cdCAgICAgIHZhciBrZXkgPSB2b2lkIDA7XG5cdCAgICAgIHZhciBsID0gdm9pZCAwO1xuXHQgICAgICBmb3IgKGtleSA9IDAsIGwgPSBvYmoubGVuZ3RoOyBrZXkgPCBsOyBrZXkrKykge1xuXHQgICAgICAgIGlmIChrZXkgaW4gb2JqICYmIGl0ci5jYWxsKHNjb3BlLCBvYmpba2V5XSwga2V5KSA9PT0gdGhpcy5CUkVBSykge1xuXHQgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgZm9yICh2YXIgX2tleSBpbiBvYmopIHtcblx0ICAgICAgICBpZiAoaXRyLmNhbGwoc2NvcGUsIG9ialtfa2V5XSwgX2tleSkgPT09IHRoaXMuQlJFQUspIHtcblx0ICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LFxuXHRcblx0ICBkZWZlcjogZnVuY3Rpb24gZGVmZXIoZm5jKSB7XG5cdCAgICBzZXRUaW1lb3V0KGZuYywgMCk7XG5cdCAgfSxcblx0XG5cdCAgLy8gaWYgdGhlIGZ1bmN0aW9uIGlzIGNhbGxlZCByZXBlYXRlZGx5LCB3YWl0IHVudGlsIHRocmVzaG9sZCBwYXNzZXMgdW50aWwgd2UgZXhlY3V0ZSB0aGUgZnVuY3Rpb25cblx0ICBkZWJvdW5jZTogZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgdGhyZXNob2xkLCBjYWxsSW1tZWRpYXRlbHkpIHtcblx0ICAgIHZhciB0aW1lb3V0ID0gdm9pZCAwO1xuXHRcblx0ICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHZhciBvYmogPSB0aGlzO1xuXHQgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcblx0ICAgICAgZnVuY3Rpb24gZGVsYXllZCgpIHtcblx0ICAgICAgICB0aW1lb3V0ID0gbnVsbDtcblx0ICAgICAgICBpZiAoIWNhbGxJbW1lZGlhdGVseSkgZnVuYy5hcHBseShvYmosIGFyZ3MpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICB2YXIgY2FsbE5vdyA9IGNhbGxJbW1lZGlhdGVseSB8fCAhdGltZW91dDtcblx0XG5cdCAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcblx0ICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoZGVsYXllZCwgdGhyZXNob2xkKTtcblx0XG5cdCAgICAgIGlmIChjYWxsTm93KSB7XG5cdCAgICAgICAgZnVuYy5hcHBseShvYmosIGFyZ3MpO1xuXHQgICAgICB9XG5cdCAgICB9O1xuXHQgIH0sXG5cdFxuXHQgIHRvQXJyYXk6IGZ1bmN0aW9uIHRvQXJyYXkob2JqKSB7XG5cdCAgICBpZiAob2JqLnRvQXJyYXkpIHJldHVybiBvYmoudG9BcnJheSgpO1xuXHQgICAgcmV0dXJuIEFSUl9TTElDRS5jYWxsKG9iaik7XG5cdCAgfSxcblx0XG5cdCAgaXNVbmRlZmluZWQ6IGZ1bmN0aW9uIGlzVW5kZWZpbmVkKG9iaikge1xuXHQgICAgcmV0dXJuIG9iaiA9PT0gdW5kZWZpbmVkO1xuXHQgIH0sXG5cdFxuXHQgIGlzTnVsbDogZnVuY3Rpb24gaXNOdWxsKG9iaikge1xuXHQgICAgcmV0dXJuIG9iaiA9PT0gbnVsbDtcblx0ICB9LFxuXHRcblx0ICBpc05hTjogZnVuY3Rpb24gKF9pc05hTikge1xuXHQgICAgZnVuY3Rpb24gaXNOYU4oX3gpIHtcblx0ICAgICAgcmV0dXJuIF9pc05hTi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlzTmFOLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gX2lzTmFOLnRvU3RyaW5nKCk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHJldHVybiBpc05hTjtcblx0ICB9KGZ1bmN0aW9uIChvYmopIHtcblx0ICAgIHJldHVybiBpc05hTihvYmopO1xuXHQgIH0pLFxuXHRcblx0ICBpc0FycmF5OiBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIChvYmopIHtcblx0ICAgIHJldHVybiBvYmouY29uc3RydWN0b3IgPT09IEFycmF5O1xuXHQgIH0sXG5cdFxuXHQgIGlzT2JqZWN0OiBmdW5jdGlvbiBpc09iamVjdChvYmopIHtcblx0ICAgIHJldHVybiBvYmogPT09IE9iamVjdChvYmopO1xuXHQgIH0sXG5cdFxuXHQgIGlzTnVtYmVyOiBmdW5jdGlvbiBpc051bWJlcihvYmopIHtcblx0ICAgIHJldHVybiBvYmogPT09IG9iaiArIDA7XG5cdCAgfSxcblx0XG5cdCAgaXNTdHJpbmc6IGZ1bmN0aW9uIGlzU3RyaW5nKG9iaikge1xuXHQgICAgcmV0dXJuIG9iaiA9PT0gb2JqICsgJyc7XG5cdCAgfSxcblx0XG5cdCAgaXNCb29sZWFuOiBmdW5jdGlvbiBpc0Jvb2xlYW4ob2JqKSB7XG5cdCAgICByZXR1cm4gb2JqID09PSBmYWxzZSB8fCBvYmogPT09IHRydWU7XG5cdCAgfSxcblx0XG5cdCAgaXNGdW5jdGlvbjogZnVuY3Rpb24gaXNGdW5jdGlvbihvYmopIHtcblx0ICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcblx0ICB9XG5cdFxuXHR9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gQ29tbW9uO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcbi8qIDYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0LyoqXG5cdCAqIGRhdC1ndWkgSmF2YVNjcmlwdCBDb250cm9sbGVyIExpYnJhcnlcblx0ICogaHR0cDovL2NvZGUuZ29vZ2xlLmNvbS9wL2RhdC1ndWlcblx0ICpcblx0ICogQ29weXJpZ2h0IDIwMTEgRGF0YSBBcnRzIFRlYW0sIEdvb2dsZSBDcmVhdGl2ZSBMYWJcblx0ICpcblx0ICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcblx0ICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuXHQgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcblx0ICpcblx0ICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG5cdCAqL1xuXHRcblx0dmFyIHRtcENvbXBvbmVudCA9IHZvaWQgMDtcblx0XG5cdHZhciBDb2xvck1hdGggPSB7XG5cdCAgaHN2X3RvX3JnYjogZnVuY3Rpb24gaHN2X3RvX3JnYihoLCBzLCB2KSB7XG5cdCAgICB2YXIgaGkgPSBNYXRoLmZsb29yKGggLyA2MCkgJSA2O1xuXHRcblx0ICAgIHZhciBmID0gaCAvIDYwIC0gTWF0aC5mbG9vcihoIC8gNjApO1xuXHQgICAgdmFyIHAgPSB2ICogKDEuMCAtIHMpO1xuXHQgICAgdmFyIHEgPSB2ICogKDEuMCAtIGYgKiBzKTtcblx0ICAgIHZhciB0ID0gdiAqICgxLjAgLSAoMS4wIC0gZikgKiBzKTtcblx0XG5cdCAgICB2YXIgYyA9IFtbdiwgdCwgcF0sIFtxLCB2LCBwXSwgW3AsIHYsIHRdLCBbcCwgcSwgdl0sIFt0LCBwLCB2XSwgW3YsIHAsIHFdXVtoaV07XG5cdFxuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgcjogY1swXSAqIDI1NSxcblx0ICAgICAgZzogY1sxXSAqIDI1NSxcblx0ICAgICAgYjogY1syXSAqIDI1NVxuXHQgICAgfTtcblx0ICB9LFxuXHRcblx0ICByZ2JfdG9faHN2OiBmdW5jdGlvbiByZ2JfdG9faHN2KHIsIGcsIGIpIHtcblx0ICAgIHZhciBtaW4gPSBNYXRoLm1pbihyLCBnLCBiKTtcblx0ICAgIHZhciBtYXggPSBNYXRoLm1heChyLCBnLCBiKTtcblx0ICAgIHZhciBkZWx0YSA9IG1heCAtIG1pbjtcblx0ICAgIHZhciBoID0gdm9pZCAwO1xuXHQgICAgdmFyIHMgPSB2b2lkIDA7XG5cdFxuXHQgICAgaWYgKG1heCAhPT0gMCkge1xuXHQgICAgICBzID0gZGVsdGEgLyBtYXg7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4ge1xuXHQgICAgICAgIGg6IE5hTixcblx0ICAgICAgICBzOiAwLFxuXHQgICAgICAgIHY6IDBcblx0ICAgICAgfTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAociA9PT0gbWF4KSB7XG5cdCAgICAgIGggPSAoZyAtIGIpIC8gZGVsdGE7XG5cdCAgICB9IGVsc2UgaWYgKGcgPT09IG1heCkge1xuXHQgICAgICBoID0gMiArIChiIC0gcikgLyBkZWx0YTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGggPSA0ICsgKHIgLSBnKSAvIGRlbHRhO1xuXHQgICAgfVxuXHQgICAgaCAvPSA2O1xuXHQgICAgaWYgKGggPCAwKSB7XG5cdCAgICAgIGggKz0gMTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICBoOiBoICogMzYwLFxuXHQgICAgICBzOiBzLFxuXHQgICAgICB2OiBtYXggLyAyNTVcblx0ICAgIH07XG5cdCAgfSxcblx0XG5cdCAgcmdiX3RvX2hleDogZnVuY3Rpb24gcmdiX3RvX2hleChyLCBnLCBiKSB7XG5cdCAgICB2YXIgaGV4ID0gdGhpcy5oZXhfd2l0aF9jb21wb25lbnQoMCwgMiwgcik7XG5cdCAgICBoZXggPSB0aGlzLmhleF93aXRoX2NvbXBvbmVudChoZXgsIDEsIGcpO1xuXHQgICAgaGV4ID0gdGhpcy5oZXhfd2l0aF9jb21wb25lbnQoaGV4LCAwLCBiKTtcblx0ICAgIHJldHVybiBoZXg7XG5cdCAgfSxcblx0XG5cdCAgY29tcG9uZW50X2Zyb21faGV4OiBmdW5jdGlvbiBjb21wb25lbnRfZnJvbV9oZXgoaGV4LCBjb21wb25lbnRJbmRleCkge1xuXHQgICAgcmV0dXJuIGhleCA+PiBjb21wb25lbnRJbmRleCAqIDggJiAweEZGO1xuXHQgIH0sXG5cdFxuXHQgIGhleF93aXRoX2NvbXBvbmVudDogZnVuY3Rpb24gaGV4X3dpdGhfY29tcG9uZW50KGhleCwgY29tcG9uZW50SW5kZXgsIHZhbHVlKSB7XG5cdCAgICByZXR1cm4gdmFsdWUgPDwgKHRtcENvbXBvbmVudCA9IGNvbXBvbmVudEluZGV4ICogOCkgfCBoZXggJiB+KDB4RkYgPDwgdG1wQ29tcG9uZW50KTtcblx0ICB9XG5cdH07XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBDb2xvck1hdGg7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07XG5cbi8qKiovIH0sXG4vKiA3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdC8qKlxuXHQgKiBkYXQtZ3VpIEphdmFTY3JpcHQgQ29udHJvbGxlciBMaWJyYXJ5XG5cdCAqIGh0dHA6Ly9jb2RlLmdvb2dsZS5jb20vcC9kYXQtZ3VpXG5cdCAqXG5cdCAqIENvcHlyaWdodCAyMDExIERhdGEgQXJ0cyBUZWFtLCBHb29nbGUgQ3JlYXRpdmUgTGFiXG5cdCAqXG5cdCAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG5cdCAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cblx0ICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG5cdCAqXG5cdCAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuXHQgKi9cblx0XG5cdC8qKlxuXHQgKiBAY2xhc3MgQW4gXCJhYnN0cmFjdFwiIGNsYXNzIHRoYXQgcmVwcmVzZW50cyBhIGdpdmVuIHByb3BlcnR5IG9mIGFuIG9iamVjdC5cblx0ICpcblx0ICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGJlIG1hbmlwdWxhdGVkXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gYmUgbWFuaXB1bGF0ZWRcblx0ICpcblx0ICogQG1lbWJlciBkYXQuY29udHJvbGxlcnNcblx0ICovXG5cdHZhciBDb250cm9sbGVyID0gZnVuY3Rpb24gKCkge1xuXHQgIGZ1bmN0aW9uIENvbnRyb2xsZXIob2JqZWN0LCBwcm9wZXJ0eSkge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbnRyb2xsZXIpO1xuXHRcblx0ICAgIHRoaXMuaW5pdGlhbFZhbHVlID0gb2JqZWN0W3Byb3BlcnR5XTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRob3NlIHdobyBleHRlbmQgdGhpcyBjbGFzcyB3aWxsIHB1dCB0aGVpciBET00gZWxlbWVudHMgaW4gaGVyZS5cblx0ICAgICAqIEB0eXBlIHtET01FbGVtZW50fVxuXHQgICAgICovXG5cdCAgICB0aGlzLmRvbUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSBvYmplY3QgdG8gbWFuaXB1bGF0ZVxuXHQgICAgICogQHR5cGUge09iamVjdH1cblx0ICAgICAqL1xuXHQgICAgdGhpcy5vYmplY3QgPSBvYmplY3Q7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gbWFuaXB1bGF0ZVxuXHQgICAgICogQHR5cGUge1N0cmluZ31cblx0ICAgICAqL1xuXHQgICAgdGhpcy5wcm9wZXJ0eSA9IHByb3BlcnR5O1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBvbiBjaGFuZ2UuXG5cdCAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG5cdCAgICAgKiBAaWdub3JlXG5cdCAgICAgKi9cblx0ICAgIHRoaXMuX19vbkNoYW5nZSA9IHVuZGVmaW5lZDtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgb24gZmluaXNoaW5nIGNoYW5nZS5cblx0ICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cblx0ICAgICAqIEBpZ25vcmVcblx0ICAgICAqL1xuXHQgICAgdGhpcy5fX29uRmluaXNoQ2hhbmdlID0gdW5kZWZpbmVkO1xuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogU3BlY2lmeSB0aGF0IGEgZnVuY3Rpb24gZmlyZSBldmVyeSB0aW1lIHNvbWVvbmUgY2hhbmdlcyB0aGUgdmFsdWUgd2l0aFxuXHQgICAqIHRoaXMgQ29udHJvbGxlci5cblx0ICAgKlxuXHQgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuYyBUaGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHdoZW5ldmVyIHRoZSB2YWx1ZVxuXHQgICAqIGlzIG1vZGlmaWVkIHZpYSB0aGlzIENvbnRyb2xsZXIuXG5cdCAgICogQHJldHVybnMge0NvbnRyb2xsZXJ9IHRoaXNcblx0ICAgKi9cblx0XG5cdFxuXHQgIENvbnRyb2xsZXIucHJvdG90eXBlLm9uQ2hhbmdlID0gZnVuY3Rpb24gb25DaGFuZ2UoZm5jKSB7XG5cdCAgICB0aGlzLl9fb25DaGFuZ2UgPSBmbmM7XG5cdCAgICByZXR1cm4gdGhpcztcblx0ICB9O1xuXHRcblx0ICAvKipcblx0ICAgKiBTcGVjaWZ5IHRoYXQgYSBmdW5jdGlvbiBmaXJlIGV2ZXJ5IHRpbWUgc29tZW9uZSBcImZpbmlzaGVzXCIgY2hhbmdpbmdcblx0ICAgKiB0aGUgdmFsdWUgd2loIHRoaXMgQ29udHJvbGxlci4gVXNlZnVsIGZvciB2YWx1ZXMgdGhhdCBjaGFuZ2Vcblx0ICAgKiBpbmNyZW1lbnRhbGx5IGxpa2UgbnVtYmVycyBvciBzdHJpbmdzLlxuXHQgICAqXG5cdCAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm5jIFRoaXMgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgd2hlbmV2ZXJcblx0ICAgKiBzb21lb25lIFwiZmluaXNoZXNcIiBjaGFuZ2luZyB0aGUgdmFsdWUgdmlhIHRoaXMgQ29udHJvbGxlci5cblx0ICAgKiBAcmV0dXJucyB7Q29udHJvbGxlcn0gdGhpc1xuXHQgICAqL1xuXHRcblx0XG5cdCAgQ29udHJvbGxlci5wcm90b3R5cGUub25GaW5pc2hDaGFuZ2UgPSBmdW5jdGlvbiBvbkZpbmlzaENoYW5nZShmbmMpIHtcblx0ICAgIHRoaXMuX19vbkZpbmlzaENoYW5nZSA9IGZuYztcblx0ICAgIHJldHVybiB0aGlzO1xuXHQgIH07XG5cdFxuXHQgIC8qKlxuXHQgICAqIENoYW5nZSB0aGUgdmFsdWUgb2YgPGNvZGU+b2JqZWN0W3Byb3BlcnR5XTwvY29kZT5cblx0ICAgKlxuXHQgICAqIEBwYXJhbSB7T2JqZWN0fSBuZXdWYWx1ZSBUaGUgbmV3IHZhbHVlIG9mIDxjb2RlPm9iamVjdFtwcm9wZXJ0eV08L2NvZGU+XG5cdCAgICovXG5cdFxuXHRcblx0ICBDb250cm9sbGVyLnByb3RvdHlwZS5zZXRWYWx1ZSA9IGZ1bmN0aW9uIHNldFZhbHVlKG5ld1ZhbHVlKSB7XG5cdCAgICB0aGlzLm9iamVjdFt0aGlzLnByb3BlcnR5XSA9IG5ld1ZhbHVlO1xuXHQgICAgaWYgKHRoaXMuX19vbkNoYW5nZSkge1xuXHQgICAgICB0aGlzLl9fb25DaGFuZ2UuY2FsbCh0aGlzLCBuZXdWYWx1ZSk7XG5cdCAgICB9XG5cdFxuXHQgICAgdGhpcy51cGRhdGVEaXNwbGF5KCk7XG5cdCAgICByZXR1cm4gdGhpcztcblx0ICB9O1xuXHRcblx0ICAvKipcblx0ICAgKiBHZXRzIHRoZSB2YWx1ZSBvZiA8Y29kZT5vYmplY3RbcHJvcGVydHldPC9jb2RlPlxuXHQgICAqXG5cdCAgICogQHJldHVybnMge09iamVjdH0gVGhlIGN1cnJlbnQgdmFsdWUgb2YgPGNvZGU+b2JqZWN0W3Byb3BlcnR5XTwvY29kZT5cblx0ICAgKi9cblx0XG5cdFxuXHQgIENvbnRyb2xsZXIucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gZ2V0VmFsdWUoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5vYmplY3RbdGhpcy5wcm9wZXJ0eV07XG5cdCAgfTtcblx0XG5cdCAgLyoqXG5cdCAgICogUmVmcmVzaGVzIHRoZSB2aXN1YWwgZGlzcGxheSBvZiBhIENvbnRyb2xsZXIgaW4gb3JkZXIgdG8ga2VlcCBzeW5jXG5cdCAgICogd2l0aCB0aGUgb2JqZWN0J3MgY3VycmVudCB2YWx1ZS5cblx0ICAgKiBAcmV0dXJucyB7Q29udHJvbGxlcn0gdGhpc1xuXHQgICAqL1xuXHRcblx0XG5cdCAgQ29udHJvbGxlci5wcm90b3R5cGUudXBkYXRlRGlzcGxheSA9IGZ1bmN0aW9uIHVwZGF0ZURpc3BsYXkoKSB7XG5cdCAgICByZXR1cm4gdGhpcztcblx0ICB9O1xuXHRcblx0ICAvKipcblx0ICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gdHJ1ZSBpZiB0aGUgdmFsdWUgaGFzIGRldmlhdGVkIGZyb20gaW5pdGlhbFZhbHVlXG5cdCAgICovXG5cdFxuXHRcblx0ICBDb250cm9sbGVyLnByb3RvdHlwZS5pc01vZGlmaWVkID0gZnVuY3Rpb24gaXNNb2RpZmllZCgpIHtcblx0ICAgIHJldHVybiB0aGlzLmluaXRpYWxWYWx1ZSAhPT0gdGhpcy5nZXRWYWx1ZSgpO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiBDb250cm9sbGVyO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBDb250cm9sbGVyO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcbi8qIDggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX0NvbnRyb2xsZXIyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0XG5cdHZhciBfQ29udHJvbGxlcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db250cm9sbGVyMik7XG5cdFxuXHR2YXIgX2RvbSA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdFxuXHR2YXIgX2RvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kb20pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfSAvKipcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogZGF0LWd1aSBKYXZhU2NyaXB0IENvbnRyb2xsZXIgTGlicmFyeVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvZGF0LWd1aVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxMSBEYXRhIEFydHMgVGVhbSwgR29vZ2xlIENyZWF0aXZlIExhYlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cdFxuXHQvKipcblx0ICogQGNsYXNzIFByb3ZpZGVzIGEgY2hlY2tib3ggaW5wdXQgdG8gYWx0ZXIgdGhlIGJvb2xlYW4gcHJvcGVydHkgb2YgYW4gb2JqZWN0LlxuXHQgKiBAZXh0ZW5kcyBkYXQuY29udHJvbGxlcnMuQ29udHJvbGxlclxuXHQgKlxuXHQgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gYmUgbWFuaXB1bGF0ZWRcblx0ICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byBiZSBtYW5pcHVsYXRlZFxuXHQgKlxuXHQgKiBAbWVtYmVyIGRhdC5jb250cm9sbGVyc1xuXHQgKi9cblx0dmFyIEJvb2xlYW5Db250cm9sbGVyID0gZnVuY3Rpb24gKF9Db250cm9sbGVyKSB7XG5cdCAgX2luaGVyaXRzKEJvb2xlYW5Db250cm9sbGVyLCBfQ29udHJvbGxlcik7XG5cdFxuXHQgIGZ1bmN0aW9uIEJvb2xlYW5Db250cm9sbGVyKG9iamVjdCwgcHJvcGVydHkpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCb29sZWFuQ29udHJvbGxlcik7XG5cdFxuXHQgICAgdmFyIF90aGlzMiA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9Db250cm9sbGVyLmNhbGwodGhpcywgb2JqZWN0LCBwcm9wZXJ0eSkpO1xuXHRcblx0ICAgIHZhciBfdGhpcyA9IF90aGlzMjtcblx0ICAgIF90aGlzMi5fX3ByZXYgPSBfdGhpczIuZ2V0VmFsdWUoKTtcblx0XG5cdCAgICBfdGhpczIuX19jaGVja2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG5cdCAgICBfdGhpczIuX19jaGVja2JveC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnY2hlY2tib3gnKTtcblx0XG5cdCAgICBmdW5jdGlvbiBvbkNoYW5nZSgpIHtcblx0ICAgICAgX3RoaXMuc2V0VmFsdWUoIV90aGlzLl9fcHJldik7XG5cdCAgICB9XG5cdFxuXHQgICAgX2RvbTIuZGVmYXVsdC5iaW5kKF90aGlzMi5fX2NoZWNrYm94LCAnY2hhbmdlJywgb25DaGFuZ2UsIGZhbHNlKTtcblx0XG5cdCAgICBfdGhpczIuZG9tRWxlbWVudC5hcHBlbmRDaGlsZChfdGhpczIuX19jaGVja2JveCk7XG5cdFxuXHQgICAgLy8gTWF0Y2ggb3JpZ2luYWwgdmFsdWVcblx0ICAgIF90aGlzMi51cGRhdGVEaXNwbGF5KCk7XG5cdCAgICByZXR1cm4gX3RoaXMyO1xuXHQgIH1cblx0XG5cdCAgQm9vbGVhbkNvbnRyb2xsZXIucHJvdG90eXBlLnNldFZhbHVlID0gZnVuY3Rpb24gc2V0VmFsdWUodikge1xuXHQgICAgdmFyIHRvUmV0dXJuID0gX0NvbnRyb2xsZXIucHJvdG90eXBlLnNldFZhbHVlLmNhbGwodGhpcywgdik7XG5cdCAgICBpZiAodGhpcy5fX29uRmluaXNoQ2hhbmdlKSB7XG5cdCAgICAgIHRoaXMuX19vbkZpbmlzaENoYW5nZS5jYWxsKHRoaXMsIHRoaXMuZ2V0VmFsdWUoKSk7XG5cdCAgICB9XG5cdCAgICB0aGlzLl9fcHJldiA9IHRoaXMuZ2V0VmFsdWUoKTtcblx0ICAgIHJldHVybiB0b1JldHVybjtcblx0ICB9O1xuXHRcblx0ICBCb29sZWFuQ29udHJvbGxlci5wcm90b3R5cGUudXBkYXRlRGlzcGxheSA9IGZ1bmN0aW9uIHVwZGF0ZURpc3BsYXkoKSB7XG5cdCAgICBpZiAodGhpcy5nZXRWYWx1ZSgpID09PSB0cnVlKSB7XG5cdCAgICAgIHRoaXMuX19jaGVja2JveC5zZXRBdHRyaWJ1dGUoJ2NoZWNrZWQnLCAnY2hlY2tlZCcpO1xuXHQgICAgICB0aGlzLl9fY2hlY2tib3guY2hlY2tlZCA9IHRydWU7XG5cdCAgICAgIHRoaXMuX19wcmV2ID0gdHJ1ZTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHRoaXMuX19jaGVja2JveC5jaGVja2VkID0gZmFsc2U7XG5cdCAgICAgIHRoaXMuX19wcmV2ID0gZmFsc2U7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIF9Db250cm9sbGVyLnByb3RvdHlwZS51cGRhdGVEaXNwbGF5LmNhbGwodGhpcyk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIEJvb2xlYW5Db250cm9sbGVyO1xuXHR9KF9Db250cm9sbGVyMy5kZWZhdWx0KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IEJvb2xlYW5Db250cm9sbGVyO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcbi8qIDkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX2NvbW1vbiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX2NvbW1vbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb21tb24pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBFVkVOVF9NQVAgPSB7XG5cdCAgSFRNTEV2ZW50czogWydjaGFuZ2UnXSxcblx0ICBNb3VzZUV2ZW50czogWydjbGljaycsICdtb3VzZW1vdmUnLCAnbW91c2Vkb3duJywgJ21vdXNldXAnLCAnbW91c2VvdmVyJ10sXG5cdCAgS2V5Ym9hcmRFdmVudHM6IFsna2V5ZG93biddXG5cdH07IC8qKlxuXHQgICAgKiBkYXQtZ3VpIEphdmFTY3JpcHQgQ29udHJvbGxlciBMaWJyYXJ5XG5cdCAgICAqIGh0dHA6Ly9jb2RlLmdvb2dsZS5jb20vcC9kYXQtZ3VpXG5cdCAgICAqXG5cdCAgICAqIENvcHlyaWdodCAyMDExIERhdGEgQXJ0cyBUZWFtLCBHb29nbGUgQ3JlYXRpdmUgTGFiXG5cdCAgICAqXG5cdCAgICAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG5cdCAgICAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cblx0ICAgICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG5cdCAgICAqXG5cdCAgICAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuXHQgICAgKi9cblx0XG5cdHZhciBFVkVOVF9NQVBfSU5WID0ge307XG5cdF9jb21tb24yLmRlZmF1bHQuZWFjaChFVkVOVF9NQVAsIGZ1bmN0aW9uICh2LCBrKSB7XG5cdCAgX2NvbW1vbjIuZGVmYXVsdC5lYWNoKHYsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICBFVkVOVF9NQVBfSU5WW2VdID0gaztcblx0ICB9KTtcblx0fSk7XG5cdFxuXHR2YXIgQ1NTX1ZBTFVFX1BJWEVMUyA9IC8oXFxkKyhcXC5cXGQrKT8pcHgvO1xuXHRcblx0ZnVuY3Rpb24gY3NzVmFsdWVUb1BpeGVscyh2YWwpIHtcblx0ICBpZiAodmFsID09PSAnMCcgfHwgX2NvbW1vbjIuZGVmYXVsdC5pc1VuZGVmaW5lZCh2YWwpKSB7XG5cdCAgICByZXR1cm4gMDtcblx0ICB9XG5cdFxuXHQgIHZhciBtYXRjaCA9IHZhbC5tYXRjaChDU1NfVkFMVUVfUElYRUxTKTtcblx0XG5cdCAgaWYgKCFfY29tbW9uMi5kZWZhdWx0LmlzTnVsbChtYXRjaCkpIHtcblx0ICAgIHJldHVybiBwYXJzZUZsb2F0KG1hdGNoWzFdKTtcblx0ICB9XG5cdFxuXHQgIC8vIFRPRE8gLi4uZW1zPyAlP1xuXHRcblx0ICByZXR1cm4gMDtcblx0fVxuXHRcblx0LyoqXG5cdCAqIEBuYW1lc3BhY2Vcblx0ICogQG1lbWJlciBkYXQuZG9tXG5cdCAqL1xuXHR2YXIgZG9tID0ge1xuXHRcblx0ICAvKipcblx0ICAgKlxuXHQgICAqIEBwYXJhbSBlbGVtXG5cdCAgICogQHBhcmFtIHNlbGVjdGFibGVcblx0ICAgKi9cblx0ICBtYWtlU2VsZWN0YWJsZTogZnVuY3Rpb24gbWFrZVNlbGVjdGFibGUoZWxlbSwgc2VsZWN0YWJsZSkge1xuXHQgICAgaWYgKGVsZW0gPT09IHVuZGVmaW5lZCB8fCBlbGVtLnN0eWxlID09PSB1bmRlZmluZWQpIHJldHVybjtcblx0XG5cdCAgICBlbGVtLm9uc2VsZWN0c3RhcnQgPSBzZWxlY3RhYmxlID8gZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9IDogZnVuY3Rpb24gKCkge307XG5cdFxuXHQgICAgZWxlbS5zdHlsZS5Nb3pVc2VyU2VsZWN0ID0gc2VsZWN0YWJsZSA/ICdhdXRvJyA6ICdub25lJztcblx0ICAgIGVsZW0uc3R5bGUuS2h0bWxVc2VyU2VsZWN0ID0gc2VsZWN0YWJsZSA/ICdhdXRvJyA6ICdub25lJztcblx0ICAgIGVsZW0udW5zZWxlY3RhYmxlID0gc2VsZWN0YWJsZSA/ICdvbicgOiAnb2ZmJztcblx0ICB9LFxuXHRcblx0ICAvKipcblx0ICAgKlxuXHQgICAqIEBwYXJhbSBlbGVtXG5cdCAgICogQHBhcmFtIGhvcml6b250YWxcblx0ICAgKiBAcGFyYW0gdmVydFxuXHQgICAqL1xuXHQgIG1ha2VGdWxsc2NyZWVuOiBmdW5jdGlvbiBtYWtlRnVsbHNjcmVlbihlbGVtLCBob3IsIHZlcnQpIHtcblx0ICAgIHZhciB2ZXJ0aWNhbCA9IHZlcnQ7XG5cdCAgICB2YXIgaG9yaXpvbnRhbCA9IGhvcjtcblx0XG5cdCAgICBpZiAoX2NvbW1vbjIuZGVmYXVsdC5pc1VuZGVmaW5lZChob3Jpem9udGFsKSkge1xuXHQgICAgICBob3Jpem9udGFsID0gdHJ1ZTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoX2NvbW1vbjIuZGVmYXVsdC5pc1VuZGVmaW5lZCh2ZXJ0aWNhbCkpIHtcblx0ICAgICAgdmVydGljYWwgPSB0cnVlO1xuXHQgICAgfVxuXHRcblx0ICAgIGVsZW0uc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuXHRcblx0ICAgIGlmIChob3Jpem9udGFsKSB7XG5cdCAgICAgIGVsZW0uc3R5bGUubGVmdCA9IDA7XG5cdCAgICAgIGVsZW0uc3R5bGUucmlnaHQgPSAwO1xuXHQgICAgfVxuXHQgICAgaWYgKHZlcnRpY2FsKSB7XG5cdCAgICAgIGVsZW0uc3R5bGUudG9wID0gMDtcblx0ICAgICAgZWxlbS5zdHlsZS5ib3R0b20gPSAwO1xuXHQgICAgfVxuXHQgIH0sXG5cdFxuXHQgIC8qKlxuXHQgICAqXG5cdCAgICogQHBhcmFtIGVsZW1cblx0ICAgKiBAcGFyYW0gZXZlbnRUeXBlXG5cdCAgICogQHBhcmFtIHBhcmFtc1xuXHQgICAqL1xuXHQgIGZha2VFdmVudDogZnVuY3Rpb24gZmFrZUV2ZW50KGVsZW0sIGV2ZW50VHlwZSwgcGFycywgYXV4KSB7XG5cdCAgICB2YXIgcGFyYW1zID0gcGFycyB8fCB7fTtcblx0ICAgIHZhciBjbGFzc05hbWUgPSBFVkVOVF9NQVBfSU5WW2V2ZW50VHlwZV07XG5cdCAgICBpZiAoIWNsYXNzTmFtZSkge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V2ZW50IHR5cGUgJyArIGV2ZW50VHlwZSArICcgbm90IHN1cHBvcnRlZC4nKTtcblx0ICAgIH1cblx0ICAgIHZhciBldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudChjbGFzc05hbWUpO1xuXHQgICAgc3dpdGNoIChjbGFzc05hbWUpIHtcblx0ICAgICAgY2FzZSAnTW91c2VFdmVudHMnOlxuXHQgICAgICAgIHtcblx0ICAgICAgICAgIHZhciBjbGllbnRYID0gcGFyYW1zLnggfHwgcGFyYW1zLmNsaWVudFggfHwgMDtcblx0ICAgICAgICAgIHZhciBjbGllbnRZID0gcGFyYW1zLnkgfHwgcGFyYW1zLmNsaWVudFkgfHwgMDtcblx0ICAgICAgICAgIGV2dC5pbml0TW91c2VFdmVudChldmVudFR5cGUsIHBhcmFtcy5idWJibGVzIHx8IGZhbHNlLCBwYXJhbXMuY2FuY2VsYWJsZSB8fCB0cnVlLCB3aW5kb3csIHBhcmFtcy5jbGlja0NvdW50IHx8IDEsIDAsIC8vIHNjcmVlbiBYXG5cdCAgICAgICAgICAwLCAvLyBzY3JlZW4gWVxuXHQgICAgICAgICAgY2xpZW50WCwgLy8gY2xpZW50IFhcblx0ICAgICAgICAgIGNsaWVudFksIC8vIGNsaWVudCBZXG5cdCAgICAgICAgICBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgMCwgbnVsbCk7XG5cdCAgICAgICAgICBicmVhaztcblx0ICAgICAgICB9XG5cdCAgICAgIGNhc2UgJ0tleWJvYXJkRXZlbnRzJzpcblx0ICAgICAgICB7XG5cdCAgICAgICAgICB2YXIgaW5pdCA9IGV2dC5pbml0S2V5Ym9hcmRFdmVudCB8fCBldnQuaW5pdEtleUV2ZW50OyAvLyB3ZWJraXQgfHwgbW96XG5cdCAgICAgICAgICBfY29tbW9uMi5kZWZhdWx0LmRlZmF1bHRzKHBhcmFtcywge1xuXHQgICAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlLFxuXHQgICAgICAgICAgICBjdHJsS2V5OiBmYWxzZSxcblx0ICAgICAgICAgICAgYWx0S2V5OiBmYWxzZSxcblx0ICAgICAgICAgICAgc2hpZnRLZXk6IGZhbHNlLFxuXHQgICAgICAgICAgICBtZXRhS2V5OiBmYWxzZSxcblx0ICAgICAgICAgICAga2V5Q29kZTogdW5kZWZpbmVkLFxuXHQgICAgICAgICAgICBjaGFyQ29kZTogdW5kZWZpbmVkXG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICAgIGluaXQoZXZlbnRUeXBlLCBwYXJhbXMuYnViYmxlcyB8fCBmYWxzZSwgcGFyYW1zLmNhbmNlbGFibGUsIHdpbmRvdywgcGFyYW1zLmN0cmxLZXksIHBhcmFtcy5hbHRLZXksIHBhcmFtcy5zaGlmdEtleSwgcGFyYW1zLm1ldGFLZXksIHBhcmFtcy5rZXlDb2RlLCBwYXJhbXMuY2hhckNvZGUpO1xuXHQgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgfVxuXHQgICAgICBkZWZhdWx0OlxuXHQgICAgICAgIHtcblx0ICAgICAgICAgIGV2dC5pbml0RXZlbnQoZXZlbnRUeXBlLCBwYXJhbXMuYnViYmxlcyB8fCBmYWxzZSwgcGFyYW1zLmNhbmNlbGFibGUgfHwgdHJ1ZSk7XG5cdCAgICAgICAgICBicmVhaztcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBfY29tbW9uMi5kZWZhdWx0LmRlZmF1bHRzKGV2dCwgYXV4KTtcblx0ICAgIGVsZW0uZGlzcGF0Y2hFdmVudChldnQpO1xuXHQgIH0sXG5cdFxuXHQgIC8qKlxuXHQgICAqXG5cdCAgICogQHBhcmFtIGVsZW1cblx0ICAgKiBAcGFyYW0gZXZlbnRcblx0ICAgKiBAcGFyYW0gZnVuY1xuXHQgICAqIEBwYXJhbSBib29sXG5cdCAgICovXG5cdCAgYmluZDogZnVuY3Rpb24gYmluZChlbGVtLCBldmVudCwgZnVuYywgbmV3Qm9vbCkge1xuXHQgICAgdmFyIGJvb2wgPSBuZXdCb29sIHx8IGZhbHNlO1xuXHQgICAgaWYgKGVsZW0uYWRkRXZlbnRMaXN0ZW5lcikge1xuXHQgICAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGZ1bmMsIGJvb2wpO1xuXHQgICAgfSBlbHNlIGlmIChlbGVtLmF0dGFjaEV2ZW50KSB7XG5cdCAgICAgIGVsZW0uYXR0YWNoRXZlbnQoJ29uJyArIGV2ZW50LCBmdW5jKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBkb207XG5cdCAgfSxcblx0XG5cdCAgLyoqXG5cdCAgICpcblx0ICAgKiBAcGFyYW0gZWxlbVxuXHQgICAqIEBwYXJhbSBldmVudFxuXHQgICAqIEBwYXJhbSBmdW5jXG5cdCAgICogQHBhcmFtIGJvb2xcblx0ICAgKi9cblx0ICB1bmJpbmQ6IGZ1bmN0aW9uIHVuYmluZChlbGVtLCBldmVudCwgZnVuYywgbmV3Qm9vbCkge1xuXHQgICAgdmFyIGJvb2wgPSBuZXdCb29sIHx8IGZhbHNlO1xuXHQgICAgaWYgKGVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuXHQgICAgICBlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGZ1bmMsIGJvb2wpO1xuXHQgICAgfSBlbHNlIGlmIChlbGVtLmRldGFjaEV2ZW50KSB7XG5cdCAgICAgIGVsZW0uZGV0YWNoRXZlbnQoJ29uJyArIGV2ZW50LCBmdW5jKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBkb207XG5cdCAgfSxcblx0XG5cdCAgLyoqXG5cdCAgICpcblx0ICAgKiBAcGFyYW0gZWxlbVxuXHQgICAqIEBwYXJhbSBjbGFzc05hbWVcblx0ICAgKi9cblx0ICBhZGRDbGFzczogZnVuY3Rpb24gYWRkQ2xhc3MoZWxlbSwgY2xhc3NOYW1lKSB7XG5cdCAgICBpZiAoZWxlbS5jbGFzc05hbWUgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICBlbGVtLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcblx0ICAgIH0gZWxzZSBpZiAoZWxlbS5jbGFzc05hbWUgIT09IGNsYXNzTmFtZSkge1xuXHQgICAgICB2YXIgY2xhc3NlcyA9IGVsZW0uY2xhc3NOYW1lLnNwbGl0KC8gKy8pO1xuXHQgICAgICBpZiAoY2xhc3Nlcy5pbmRleE9mKGNsYXNzTmFtZSkgPT09IC0xKSB7XG5cdCAgICAgICAgY2xhc3Nlcy5wdXNoKGNsYXNzTmFtZSk7XG5cdCAgICAgICAgZWxlbS5jbGFzc05hbWUgPSBjbGFzc2VzLmpvaW4oJyAnKS5yZXBsYWNlKC9eXFxzKy8sICcnKS5yZXBsYWNlKC9cXHMrJC8sICcnKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIGRvbTtcblx0ICB9LFxuXHRcblx0ICAvKipcblx0ICAgKlxuXHQgICAqIEBwYXJhbSBlbGVtXG5cdCAgICogQHBhcmFtIGNsYXNzTmFtZVxuXHQgICAqL1xuXHQgIHJlbW92ZUNsYXNzOiBmdW5jdGlvbiByZW1vdmVDbGFzcyhlbGVtLCBjbGFzc05hbWUpIHtcblx0ICAgIGlmIChjbGFzc05hbWUpIHtcblx0ICAgICAgaWYgKGVsZW0uY2xhc3NOYW1lID09PSBjbGFzc05hbWUpIHtcblx0ICAgICAgICBlbGVtLnJlbW92ZUF0dHJpYnV0ZSgnY2xhc3MnKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB2YXIgY2xhc3NlcyA9IGVsZW0uY2xhc3NOYW1lLnNwbGl0KC8gKy8pO1xuXHQgICAgICAgIHZhciBpbmRleCA9IGNsYXNzZXMuaW5kZXhPZihjbGFzc05hbWUpO1xuXHQgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcblx0ICAgICAgICAgIGNsYXNzZXMuc3BsaWNlKGluZGV4LCAxKTtcblx0ICAgICAgICAgIGVsZW0uY2xhc3NOYW1lID0gY2xhc3Nlcy5qb2luKCcgJyk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBlbGVtLmNsYXNzTmFtZSA9IHVuZGVmaW5lZDtcblx0ICAgIH1cblx0ICAgIHJldHVybiBkb207XG5cdCAgfSxcblx0XG5cdCAgaGFzQ2xhc3M6IGZ1bmN0aW9uIGhhc0NsYXNzKGVsZW0sIGNsYXNzTmFtZSkge1xuXHQgICAgcmV0dXJuIG5ldyBSZWdFeHAoJyg/Ol58XFxcXHMrKScgKyBjbGFzc05hbWUgKyAnKD86XFxcXHMrfCQpJykudGVzdChlbGVtLmNsYXNzTmFtZSkgfHwgZmFsc2U7XG5cdCAgfSxcblx0XG5cdCAgLyoqXG5cdCAgICpcblx0ICAgKiBAcGFyYW0gZWxlbVxuXHQgICAqL1xuXHQgIGdldFdpZHRoOiBmdW5jdGlvbiBnZXRXaWR0aChlbGVtKSB7XG5cdCAgICB2YXIgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW0pO1xuXHRcblx0ICAgIHJldHVybiBjc3NWYWx1ZVRvUGl4ZWxzKHN0eWxlWydib3JkZXItbGVmdC13aWR0aCddKSArIGNzc1ZhbHVlVG9QaXhlbHMoc3R5bGVbJ2JvcmRlci1yaWdodC13aWR0aCddKSArIGNzc1ZhbHVlVG9QaXhlbHMoc3R5bGVbJ3BhZGRpbmctbGVmdCddKSArIGNzc1ZhbHVlVG9QaXhlbHMoc3R5bGVbJ3BhZGRpbmctcmlnaHQnXSkgKyBjc3NWYWx1ZVRvUGl4ZWxzKHN0eWxlLndpZHRoKTtcblx0ICB9LFxuXHRcblx0ICAvKipcblx0ICAgKlxuXHQgICAqIEBwYXJhbSBlbGVtXG5cdCAgICovXG5cdCAgZ2V0SGVpZ2h0OiBmdW5jdGlvbiBnZXRIZWlnaHQoZWxlbSkge1xuXHQgICAgdmFyIHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtKTtcblx0XG5cdCAgICByZXR1cm4gY3NzVmFsdWVUb1BpeGVscyhzdHlsZVsnYm9yZGVyLXRvcC13aWR0aCddKSArIGNzc1ZhbHVlVG9QaXhlbHMoc3R5bGVbJ2JvcmRlci1ib3R0b20td2lkdGgnXSkgKyBjc3NWYWx1ZVRvUGl4ZWxzKHN0eWxlWydwYWRkaW5nLXRvcCddKSArIGNzc1ZhbHVlVG9QaXhlbHMoc3R5bGVbJ3BhZGRpbmctYm90dG9tJ10pICsgY3NzVmFsdWVUb1BpeGVscyhzdHlsZS5oZWlnaHQpO1xuXHQgIH0sXG5cdFxuXHQgIC8qKlxuXHQgICAqXG5cdCAgICogQHBhcmFtIGVsXG5cdCAgICovXG5cdCAgZ2V0T2Zmc2V0OiBmdW5jdGlvbiBnZXRPZmZzZXQoZWwpIHtcblx0ICAgIHZhciBlbGVtID0gZWw7XG5cdCAgICB2YXIgb2Zmc2V0ID0geyBsZWZ0OiAwLCB0b3A6IDAgfTtcblx0ICAgIGlmIChlbGVtLm9mZnNldFBhcmVudCkge1xuXHQgICAgICBkbyB7XG5cdCAgICAgICAgb2Zmc2V0LmxlZnQgKz0gZWxlbS5vZmZzZXRMZWZ0O1xuXHQgICAgICAgIG9mZnNldC50b3AgKz0gZWxlbS5vZmZzZXRUb3A7XG5cdCAgICAgICAgZWxlbSA9IGVsZW0ub2Zmc2V0UGFyZW50O1xuXHQgICAgICB9IHdoaWxlIChlbGVtKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBvZmZzZXQ7XG5cdCAgfSxcblx0XG5cdCAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3Bvc3RzLzI2ODQ1NjEvcmV2aXNpb25zXG5cdCAgLyoqXG5cdCAgICpcblx0ICAgKiBAcGFyYW0gZWxlbVxuXHQgICAqL1xuXHQgIGlzQWN0aXZlOiBmdW5jdGlvbiBpc0FjdGl2ZShlbGVtKSB7XG5cdCAgICByZXR1cm4gZWxlbSA9PT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAmJiAoZWxlbS50eXBlIHx8IGVsZW0uaHJlZik7XG5cdCAgfVxuXHRcblx0fTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGRvbTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAxMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0XG5cdHZhciBfQ29udHJvbGxlcjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0dmFyIF9Db250cm9sbGVyMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbnRyb2xsZXIyKTtcblx0XG5cdHZhciBfZG9tID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblx0XG5cdHZhciBfZG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RvbSk7XG5cdFxuXHR2YXIgX2NvbW1vbiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX2NvbW1vbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb21tb24pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfSAvKipcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogZGF0LWd1aSBKYXZhU2NyaXB0IENvbnRyb2xsZXIgTGlicmFyeVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvZGF0LWd1aVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxMSBEYXRhIEFydHMgVGVhbSwgR29vZ2xlIENyZWF0aXZlIExhYlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cdFxuXHQvKipcblx0ICogQGNsYXNzIFByb3ZpZGVzIGEgc2VsZWN0IGlucHV0IHRvIGFsdGVyIHRoZSBwcm9wZXJ0eSBvZiBhbiBvYmplY3QsIHVzaW5nIGFcblx0ICogbGlzdCBvZiBhY2NlcHRlZCB2YWx1ZXMuXG5cdCAqXG5cdCAqIEBleHRlbmRzIGRhdC5jb250cm9sbGVycy5Db250cm9sbGVyXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBiZSBtYW5pcHVsYXRlZFxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIGJlIG1hbmlwdWxhdGVkXG5cdCAqIEBwYXJhbSB7T2JqZWN0fHN0cmluZ1tdfSBvcHRpb25zIEEgbWFwIG9mIGxhYmVscyB0byBhY2NlcHRhYmxlIHZhbHVlcywgb3Jcblx0ICogYSBsaXN0IG9mIGFjY2VwdGFibGUgc3RyaW5nIHZhbHVlcy5cblx0ICpcblx0ICogQG1lbWJlciBkYXQuY29udHJvbGxlcnNcblx0ICovXG5cdHZhciBPcHRpb25Db250cm9sbGVyID0gZnVuY3Rpb24gKF9Db250cm9sbGVyKSB7XG5cdCAgX2luaGVyaXRzKE9wdGlvbkNvbnRyb2xsZXIsIF9Db250cm9sbGVyKTtcblx0XG5cdCAgZnVuY3Rpb24gT3B0aW9uQ29udHJvbGxlcihvYmplY3QsIHByb3BlcnR5LCBvcHRzKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgT3B0aW9uQ29udHJvbGxlcik7XG5cdFxuXHQgICAgdmFyIF90aGlzMiA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9Db250cm9sbGVyLmNhbGwodGhpcywgb2JqZWN0LCBwcm9wZXJ0eSkpO1xuXHRcblx0ICAgIHZhciBvcHRpb25zID0gb3B0cztcblx0XG5cdCAgICB2YXIgX3RoaXMgPSBfdGhpczI7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgZHJvcCBkb3duIG1lbnVcblx0ICAgICAqIEBpZ25vcmVcblx0ICAgICAqL1xuXHQgICAgX3RoaXMyLl9fc2VsZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7XG5cdFxuXHQgICAgaWYgKF9jb21tb24yLmRlZmF1bHQuaXNBcnJheShvcHRpb25zKSkge1xuXHQgICAgICB2YXIgbWFwID0ge307XG5cdCAgICAgIF9jb21tb24yLmRlZmF1bHQuZWFjaChvcHRpb25zLCBmdW5jdGlvbiAoZWxlbWVudCkge1xuXHQgICAgICAgIG1hcFtlbGVtZW50XSA9IGVsZW1lbnQ7XG5cdCAgICAgIH0pO1xuXHQgICAgICBvcHRpb25zID0gbWFwO1xuXHQgICAgfVxuXHRcblx0ICAgIF9jb21tb24yLmRlZmF1bHQuZWFjaChvcHRpb25zLCBmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuXHQgICAgICB2YXIgb3B0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG5cdCAgICAgIG9wdC5pbm5lckhUTUwgPSBrZXk7XG5cdCAgICAgIG9wdC5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgdmFsdWUpO1xuXHQgICAgICBfdGhpcy5fX3NlbGVjdC5hcHBlbmRDaGlsZChvcHQpO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgLy8gQWNrbm93bGVkZ2Ugb3JpZ2luYWwgdmFsdWVcblx0ICAgIF90aGlzMi51cGRhdGVEaXNwbGF5KCk7XG5cdFxuXHQgICAgX2RvbTIuZGVmYXVsdC5iaW5kKF90aGlzMi5fX3NlbGVjdCwgJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdmFyIGRlc2lyZWRWYWx1ZSA9IHRoaXMub3B0aW9uc1t0aGlzLnNlbGVjdGVkSW5kZXhdLnZhbHVlO1xuXHQgICAgICBfdGhpcy5zZXRWYWx1ZShkZXNpcmVkVmFsdWUpO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgX3RoaXMyLmRvbUVsZW1lbnQuYXBwZW5kQ2hpbGQoX3RoaXMyLl9fc2VsZWN0KTtcblx0ICAgIHJldHVybiBfdGhpczI7XG5cdCAgfVxuXHRcblx0ICBPcHRpb25Db250cm9sbGVyLnByb3RvdHlwZS5zZXRWYWx1ZSA9IGZ1bmN0aW9uIHNldFZhbHVlKHYpIHtcblx0ICAgIHZhciB0b1JldHVybiA9IF9Db250cm9sbGVyLnByb3RvdHlwZS5zZXRWYWx1ZS5jYWxsKHRoaXMsIHYpO1xuXHRcblx0ICAgIGlmICh0aGlzLl9fb25GaW5pc2hDaGFuZ2UpIHtcblx0ICAgICAgdGhpcy5fX29uRmluaXNoQ2hhbmdlLmNhbGwodGhpcywgdGhpcy5nZXRWYWx1ZSgpKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiB0b1JldHVybjtcblx0ICB9O1xuXHRcblx0ICBPcHRpb25Db250cm9sbGVyLnByb3RvdHlwZS51cGRhdGVEaXNwbGF5ID0gZnVuY3Rpb24gdXBkYXRlRGlzcGxheSgpIHtcblx0ICAgIGlmIChfZG9tMi5kZWZhdWx0LmlzQWN0aXZlKHRoaXMuX19zZWxlY3QpKSByZXR1cm4gdGhpczsgLy8gcHJldmVudCBudW1iZXIgZnJvbSB1cGRhdGluZyBpZiB1c2VyIGlzIHRyeWluZyB0byBtYW51YWxseSB1cGRhdGVcblx0ICAgIHRoaXMuX19zZWxlY3QudmFsdWUgPSB0aGlzLmdldFZhbHVlKCk7XG5cdCAgICByZXR1cm4gX0NvbnRyb2xsZXIucHJvdG90eXBlLnVwZGF0ZURpc3BsYXkuY2FsbCh0aGlzKTtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gT3B0aW9uQ29udHJvbGxlcjtcblx0fShfQ29udHJvbGxlcjMuZGVmYXVsdCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBPcHRpb25Db250cm9sbGVyO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcbi8qIDExICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0dmFyIF9Db250cm9sbGVyMiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdFxuXHR2YXIgX0NvbnRyb2xsZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29udHJvbGxlcjIpO1xuXHRcblx0dmFyIF9kb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHRcblx0dmFyIF9kb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZG9tKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0gLyoqXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIGRhdC1ndWkgSmF2YVNjcmlwdCBDb250cm9sbGVyIExpYnJhcnlcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogaHR0cDovL2NvZGUuZ29vZ2xlLmNvbS9wL2RhdC1ndWlcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTEgRGF0YSBBcnRzIFRlYW0sIEdvb2dsZSBDcmVhdGl2ZSBMYWJcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXHRcblx0LyoqXG5cdCAqIEBjbGFzcyBQcm92aWRlcyBhIHRleHQgaW5wdXQgdG8gYWx0ZXIgdGhlIHN0cmluZyBwcm9wZXJ0eSBvZiBhbiBvYmplY3QuXG5cdCAqXG5cdCAqIEBleHRlbmRzIGRhdC5jb250cm9sbGVycy5Db250cm9sbGVyXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBiZSBtYW5pcHVsYXRlZFxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIGJlIG1hbmlwdWxhdGVkXG5cdCAqXG5cdCAqIEBtZW1iZXIgZGF0LmNvbnRyb2xsZXJzXG5cdCAqL1xuXHR2YXIgU3RyaW5nQ29udHJvbGxlciA9IGZ1bmN0aW9uIChfQ29udHJvbGxlcikge1xuXHQgIF9pbmhlcml0cyhTdHJpbmdDb250cm9sbGVyLCBfQ29udHJvbGxlcik7XG5cdFxuXHQgIGZ1bmN0aW9uIFN0cmluZ0NvbnRyb2xsZXIob2JqZWN0LCBwcm9wZXJ0eSkge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN0cmluZ0NvbnRyb2xsZXIpO1xuXHRcblx0ICAgIHZhciBfdGhpczIgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfQ29udHJvbGxlci5jYWxsKHRoaXMsIG9iamVjdCwgcHJvcGVydHkpKTtcblx0XG5cdCAgICB2YXIgX3RoaXMgPSBfdGhpczI7XG5cdFxuXHQgICAgZnVuY3Rpb24gb25DaGFuZ2UoKSB7XG5cdCAgICAgIF90aGlzLnNldFZhbHVlKF90aGlzLl9faW5wdXQudmFsdWUpO1xuXHQgICAgfVxuXHRcblx0ICAgIGZ1bmN0aW9uIG9uQmx1cigpIHtcblx0ICAgICAgaWYgKF90aGlzLl9fb25GaW5pc2hDaGFuZ2UpIHtcblx0ICAgICAgICBfdGhpcy5fX29uRmluaXNoQ2hhbmdlLmNhbGwoX3RoaXMsIF90aGlzLmdldFZhbHVlKCkpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgX3RoaXMyLl9faW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuXHQgICAgX3RoaXMyLl9faW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQnKTtcblx0XG5cdCAgICBfZG9tMi5kZWZhdWx0LmJpbmQoX3RoaXMyLl9faW5wdXQsICdrZXl1cCcsIG9uQ2hhbmdlKTtcblx0ICAgIF9kb20yLmRlZmF1bHQuYmluZChfdGhpczIuX19pbnB1dCwgJ2NoYW5nZScsIG9uQ2hhbmdlKTtcblx0ICAgIF9kb20yLmRlZmF1bHQuYmluZChfdGhpczIuX19pbnB1dCwgJ2JsdXInLCBvbkJsdXIpO1xuXHQgICAgX2RvbTIuZGVmYXVsdC5iaW5kKF90aGlzMi5fX2lucHV0LCAna2V5ZG93bicsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgIGlmIChlLmtleUNvZGUgPT09IDEzKSB7XG5cdCAgICAgICAgdGhpcy5ibHVyKCk7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHRcblx0ICAgIF90aGlzMi51cGRhdGVEaXNwbGF5KCk7XG5cdFxuXHQgICAgX3RoaXMyLmRvbUVsZW1lbnQuYXBwZW5kQ2hpbGQoX3RoaXMyLl9faW5wdXQpO1xuXHQgICAgcmV0dXJuIF90aGlzMjtcblx0ICB9XG5cdFxuXHQgIFN0cmluZ0NvbnRyb2xsZXIucHJvdG90eXBlLnVwZGF0ZURpc3BsYXkgPSBmdW5jdGlvbiB1cGRhdGVEaXNwbGF5KCkge1xuXHQgICAgLy8gU3RvcHMgdGhlIGNhcmV0IGZyb20gbW92aW5nIG9uIGFjY291bnQgb2Y6XG5cdCAgICAvLyBrZXl1cCAtPiBzZXRWYWx1ZSAtPiB1cGRhdGVEaXNwbGF5XG5cdCAgICBpZiAoIV9kb20yLmRlZmF1bHQuaXNBY3RpdmUodGhpcy5fX2lucHV0KSkge1xuXHQgICAgICB0aGlzLl9faW5wdXQudmFsdWUgPSB0aGlzLmdldFZhbHVlKCk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gX0NvbnRyb2xsZXIucHJvdG90eXBlLnVwZGF0ZURpc3BsYXkuY2FsbCh0aGlzKTtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gU3RyaW5nQ29udHJvbGxlcjtcblx0fShfQ29udHJvbGxlcjMuZGVmYXVsdCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBTdHJpbmdDb250cm9sbGVyO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcbi8qIDEyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0dmFyIF9Db250cm9sbGVyMiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdFxuXHR2YXIgX0NvbnRyb2xsZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29udHJvbGxlcjIpO1xuXHRcblx0dmFyIF9jb21tb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9jb21tb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tbW9uKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0gLyoqXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIGRhdC1ndWkgSmF2YVNjcmlwdCBDb250cm9sbGVyIExpYnJhcnlcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogaHR0cDovL2NvZGUuZ29vZ2xlLmNvbS9wL2RhdC1ndWlcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTEgRGF0YSBBcnRzIFRlYW0sIEdvb2dsZSBDcmVhdGl2ZSBMYWJcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXHRcblx0ZnVuY3Rpb24gbnVtRGVjaW1hbHMoeCkge1xuXHQgIHZhciBfeCA9IHgudG9TdHJpbmcoKTtcblx0ICBpZiAoX3guaW5kZXhPZignLicpID4gLTEpIHtcblx0ICAgIHJldHVybiBfeC5sZW5ndGggLSBfeC5pbmRleE9mKCcuJykgLSAxO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIDA7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBAY2xhc3MgUmVwcmVzZW50cyBhIGdpdmVuIHByb3BlcnR5IG9mIGFuIG9iamVjdCB0aGF0IGlzIGEgbnVtYmVyLlxuXHQgKlxuXHQgKiBAZXh0ZW5kcyBkYXQuY29udHJvbGxlcnMuQ29udHJvbGxlclxuXHQgKlxuXHQgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gYmUgbWFuaXB1bGF0ZWRcblx0ICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byBiZSBtYW5pcHVsYXRlZFxuXHQgKiBAcGFyYW0ge09iamVjdH0gW3BhcmFtc10gT3B0aW9uYWwgcGFyYW1ldGVyc1xuXHQgKiBAcGFyYW0ge051bWJlcn0gW3BhcmFtcy5taW5dIE1pbmltdW0gYWxsb3dlZCB2YWx1ZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gW3BhcmFtcy5tYXhdIE1heGltdW0gYWxsb3dlZCB2YWx1ZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gW3BhcmFtcy5zdGVwXSBJbmNyZW1lbnQgYnkgd2hpY2ggdG8gY2hhbmdlIHZhbHVlXG5cdCAqXG5cdCAqIEBtZW1iZXIgZGF0LmNvbnRyb2xsZXJzXG5cdCAqL1xuXHRcblx0dmFyIE51bWJlckNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoX0NvbnRyb2xsZXIpIHtcblx0ICBfaW5oZXJpdHMoTnVtYmVyQ29udHJvbGxlciwgX0NvbnRyb2xsZXIpO1xuXHRcblx0ICBmdW5jdGlvbiBOdW1iZXJDb250cm9sbGVyKG9iamVjdCwgcHJvcGVydHksIHBhcmFtcykge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE51bWJlckNvbnRyb2xsZXIpO1xuXHRcblx0ICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9Db250cm9sbGVyLmNhbGwodGhpcywgb2JqZWN0LCBwcm9wZXJ0eSkpO1xuXHRcblx0ICAgIHZhciBfcGFyYW1zID0gcGFyYW1zIHx8IHt9O1xuXHRcblx0ICAgIF90aGlzLl9fbWluID0gX3BhcmFtcy5taW47XG5cdCAgICBfdGhpcy5fX21heCA9IF9wYXJhbXMubWF4O1xuXHQgICAgX3RoaXMuX19zdGVwID0gX3BhcmFtcy5zdGVwO1xuXHRcblx0ICAgIGlmIChfY29tbW9uMi5kZWZhdWx0LmlzVW5kZWZpbmVkKF90aGlzLl9fc3RlcCkpIHtcblx0ICAgICAgaWYgKF90aGlzLmluaXRpYWxWYWx1ZSA9PT0gMCkge1xuXHQgICAgICAgIF90aGlzLl9faW1wbGllZFN0ZXAgPSAxOyAvLyBXaGF0IGFyZSB3ZSwgcHN5Y2hpY3M/XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgLy8gSGV5IERvdWcsIGNoZWNrIHRoaXMgb3V0LlxuXHQgICAgICAgIF90aGlzLl9faW1wbGllZFN0ZXAgPSBNYXRoLnBvdygxMCwgTWF0aC5mbG9vcihNYXRoLmxvZyhNYXRoLmFicyhfdGhpcy5pbml0aWFsVmFsdWUpKSAvIE1hdGguTE4xMCkpIC8gMTA7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIF90aGlzLl9faW1wbGllZFN0ZXAgPSBfdGhpcy5fX3N0ZXA7XG5cdCAgICB9XG5cdFxuXHQgICAgX3RoaXMuX19wcmVjaXNpb24gPSBudW1EZWNpbWFscyhfdGhpcy5fX2ltcGxpZWRTdGVwKTtcblx0ICAgIHJldHVybiBfdGhpcztcblx0ICB9XG5cdFxuXHQgIE51bWJlckNvbnRyb2xsZXIucHJvdG90eXBlLnNldFZhbHVlID0gZnVuY3Rpb24gc2V0VmFsdWUodikge1xuXHQgICAgdmFyIF92ID0gdjtcblx0XG5cdCAgICBpZiAodGhpcy5fX21pbiAhPT0gdW5kZWZpbmVkICYmIF92IDwgdGhpcy5fX21pbikge1xuXHQgICAgICBfdiA9IHRoaXMuX19taW47XG5cdCAgICB9IGVsc2UgaWYgKHRoaXMuX19tYXggIT09IHVuZGVmaW5lZCAmJiBfdiA+IHRoaXMuX19tYXgpIHtcblx0ICAgICAgX3YgPSB0aGlzLl9fbWF4O1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICh0aGlzLl9fc3RlcCAhPT0gdW5kZWZpbmVkICYmIF92ICUgdGhpcy5fX3N0ZXAgIT09IDApIHtcblx0ICAgICAgX3YgPSBNYXRoLnJvdW5kKF92IC8gdGhpcy5fX3N0ZXApICogdGhpcy5fX3N0ZXA7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIF9Db250cm9sbGVyLnByb3RvdHlwZS5zZXRWYWx1ZS5jYWxsKHRoaXMsIF92KTtcblx0ICB9O1xuXHRcblx0ICAvKipcblx0ICAgKiBTcGVjaWZ5IGEgbWluaW11bSB2YWx1ZSBmb3IgPGNvZGU+b2JqZWN0W3Byb3BlcnR5XTwvY29kZT4uXG5cdCAgICpcblx0ICAgKiBAcGFyYW0ge051bWJlcn0gbWluVmFsdWUgVGhlIG1pbmltdW0gdmFsdWUgZm9yXG5cdCAgICogPGNvZGU+b2JqZWN0W3Byb3BlcnR5XTwvY29kZT5cblx0ICAgKiBAcmV0dXJucyB7ZGF0LmNvbnRyb2xsZXJzLk51bWJlckNvbnRyb2xsZXJ9IHRoaXNcblx0ICAgKi9cblx0XG5cdFxuXHQgIE51bWJlckNvbnRyb2xsZXIucHJvdG90eXBlLm1pbiA9IGZ1bmN0aW9uIG1pbih2KSB7XG5cdCAgICB0aGlzLl9fbWluID0gdjtcblx0ICAgIHJldHVybiB0aGlzO1xuXHQgIH07XG5cdFxuXHQgIC8qKlxuXHQgICAqIFNwZWNpZnkgYSBtYXhpbXVtIHZhbHVlIGZvciA8Y29kZT5vYmplY3RbcHJvcGVydHldPC9jb2RlPi5cblx0ICAgKlxuXHQgICAqIEBwYXJhbSB7TnVtYmVyfSBtYXhWYWx1ZSBUaGUgbWF4aW11bSB2YWx1ZSBmb3Jcblx0ICAgKiA8Y29kZT5vYmplY3RbcHJvcGVydHldPC9jb2RlPlxuXHQgICAqIEByZXR1cm5zIHtkYXQuY29udHJvbGxlcnMuTnVtYmVyQ29udHJvbGxlcn0gdGhpc1xuXHQgICAqL1xuXHRcblx0XG5cdCAgTnVtYmVyQ29udHJvbGxlci5wcm90b3R5cGUubWF4ID0gZnVuY3Rpb24gbWF4KHYpIHtcblx0ICAgIHRoaXMuX19tYXggPSB2O1xuXHQgICAgcmV0dXJuIHRoaXM7XG5cdCAgfTtcblx0XG5cdCAgLyoqXG5cdCAgICogU3BlY2lmeSBhIHN0ZXAgdmFsdWUgdGhhdCBkYXQuY29udHJvbGxlcnMuTnVtYmVyQ29udHJvbGxlclxuXHQgICAqIGluY3JlbWVudHMgYnkuXG5cdCAgICpcblx0ICAgKiBAcGFyYW0ge051bWJlcn0gc3RlcFZhbHVlIFRoZSBzdGVwIHZhbHVlIGZvclxuXHQgICAqIGRhdC5jb250cm9sbGVycy5OdW1iZXJDb250cm9sbGVyXG5cdCAgICogQGRlZmF1bHQgaWYgbWluaW11bSBhbmQgbWF4aW11bSBzcGVjaWZpZWQgaW5jcmVtZW50IGlzIDElIG9mIHRoZVxuXHQgICAqIGRpZmZlcmVuY2Ugb3RoZXJ3aXNlIHN0ZXBWYWx1ZSBpcyAxXG5cdCAgICogQHJldHVybnMge2RhdC5jb250cm9sbGVycy5OdW1iZXJDb250cm9sbGVyfSB0aGlzXG5cdCAgICovXG5cdFxuXHRcblx0ICBOdW1iZXJDb250cm9sbGVyLnByb3RvdHlwZS5zdGVwID0gZnVuY3Rpb24gc3RlcCh2KSB7XG5cdCAgICB0aGlzLl9fc3RlcCA9IHY7XG5cdCAgICB0aGlzLl9faW1wbGllZFN0ZXAgPSB2O1xuXHQgICAgdGhpcy5fX3ByZWNpc2lvbiA9IG51bURlY2ltYWxzKHYpO1xuXHQgICAgcmV0dXJuIHRoaXM7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIE51bWJlckNvbnRyb2xsZXI7XG5cdH0oX0NvbnRyb2xsZXIzLmRlZmF1bHQpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gTnVtYmVyQ29udHJvbGxlcjtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAxMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0XG5cdHZhciBfTnVtYmVyQ29udHJvbGxlcjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcblx0XG5cdHZhciBfTnVtYmVyQ29udHJvbGxlcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9OdW1iZXJDb250cm9sbGVyMik7XG5cdFxuXHR2YXIgX2RvbSA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdFxuXHR2YXIgX2RvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kb20pO1xuXHRcblx0dmFyIF9jb21tb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9jb21tb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tbW9uKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0gLyoqXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIGRhdC1ndWkgSmF2YVNjcmlwdCBDb250cm9sbGVyIExpYnJhcnlcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogaHR0cDovL2NvZGUuZ29vZ2xlLmNvbS9wL2RhdC1ndWlcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTEgRGF0YSBBcnRzIFRlYW0sIEdvb2dsZSBDcmVhdGl2ZSBMYWJcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXHRcblx0ZnVuY3Rpb24gcm91bmRUb0RlY2ltYWwodmFsdWUsIGRlY2ltYWxzKSB7XG5cdCAgdmFyIHRlblRvID0gTWF0aC5wb3coMTAsIGRlY2ltYWxzKTtcblx0ICByZXR1cm4gTWF0aC5yb3VuZCh2YWx1ZSAqIHRlblRvKSAvIHRlblRvO1xuXHR9XG5cdFxuXHQvKipcblx0ICogQGNsYXNzIFJlcHJlc2VudHMgYSBnaXZlbiBwcm9wZXJ0eSBvZiBhbiBvYmplY3QgdGhhdCBpcyBhIG51bWJlciBhbmRcblx0ICogcHJvdmlkZXMgYW4gaW5wdXQgZWxlbWVudCB3aXRoIHdoaWNoIHRvIG1hbmlwdWxhdGUgaXQuXG5cdCAqXG5cdCAqIEBleHRlbmRzIGRhdC5jb250cm9sbGVycy5Db250cm9sbGVyXG5cdCAqIEBleHRlbmRzIGRhdC5jb250cm9sbGVycy5OdW1iZXJDb250cm9sbGVyXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBiZSBtYW5pcHVsYXRlZFxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIGJlIG1hbmlwdWxhdGVkXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbcGFyYW1zXSBPcHRpb25hbCBwYXJhbWV0ZXJzXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbcGFyYW1zLm1pbl0gTWluaW11bSBhbGxvd2VkIHZhbHVlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbcGFyYW1zLm1heF0gTWF4aW11bSBhbGxvd2VkIHZhbHVlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbcGFyYW1zLnN0ZXBdIEluY3JlbWVudCBieSB3aGljaCB0byBjaGFuZ2UgdmFsdWVcblx0ICpcblx0ICogQG1lbWJlciBkYXQuY29udHJvbGxlcnNcblx0ICovXG5cdFxuXHR2YXIgTnVtYmVyQ29udHJvbGxlckJveCA9IGZ1bmN0aW9uIChfTnVtYmVyQ29udHJvbGxlcikge1xuXHQgIF9pbmhlcml0cyhOdW1iZXJDb250cm9sbGVyQm94LCBfTnVtYmVyQ29udHJvbGxlcik7XG5cdFxuXHQgIGZ1bmN0aW9uIE51bWJlckNvbnRyb2xsZXJCb3gob2JqZWN0LCBwcm9wZXJ0eSwgcGFyYW1zKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTnVtYmVyQ29udHJvbGxlckJveCk7XG5cdFxuXHQgICAgdmFyIF90aGlzMiA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9OdW1iZXJDb250cm9sbGVyLmNhbGwodGhpcywgb2JqZWN0LCBwcm9wZXJ0eSwgcGFyYW1zKSk7XG5cdFxuXHQgICAgX3RoaXMyLl9fdHJ1bmNhdGlvblN1c3BlbmRlZCA9IGZhbHNlO1xuXHRcblx0ICAgIHZhciBfdGhpcyA9IF90aGlzMjtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIHtOdW1iZXJ9IFByZXZpb3VzIG1vdXNlIHkgcG9zaXRpb25cblx0ICAgICAqIEBpZ25vcmVcblx0ICAgICAqL1xuXHQgICAgdmFyIHByZXZZID0gdm9pZCAwO1xuXHRcblx0ICAgIGZ1bmN0aW9uIG9uQ2hhbmdlKCkge1xuXHQgICAgICB2YXIgYXR0ZW1wdGVkID0gcGFyc2VGbG9hdChfdGhpcy5fX2lucHV0LnZhbHVlKTtcblx0ICAgICAgaWYgKCFfY29tbW9uMi5kZWZhdWx0LmlzTmFOKGF0dGVtcHRlZCkpIHtcblx0ICAgICAgICBfdGhpcy5zZXRWYWx1ZShhdHRlbXB0ZWQpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgZnVuY3Rpb24gb25GaW5pc2goKSB7XG5cdCAgICAgIGlmIChfdGhpcy5fX29uRmluaXNoQ2hhbmdlKSB7XG5cdCAgICAgICAgX3RoaXMuX19vbkZpbmlzaENoYW5nZS5jYWxsKF90aGlzLCBfdGhpcy5nZXRWYWx1ZSgpKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGZ1bmN0aW9uIG9uQmx1cigpIHtcblx0ICAgICAgb25GaW5pc2goKTtcblx0ICAgIH1cblx0XG5cdCAgICBmdW5jdGlvbiBvbk1vdXNlRHJhZyhlKSB7XG5cdCAgICAgIHZhciBkaWZmID0gcHJldlkgLSBlLmNsaWVudFk7XG5cdCAgICAgIF90aGlzLnNldFZhbHVlKF90aGlzLmdldFZhbHVlKCkgKyBkaWZmICogX3RoaXMuX19pbXBsaWVkU3RlcCk7XG5cdFxuXHQgICAgICBwcmV2WSA9IGUuY2xpZW50WTtcblx0ICAgIH1cblx0XG5cdCAgICBmdW5jdGlvbiBvbk1vdXNlVXAoKSB7XG5cdCAgICAgIF9kb20yLmRlZmF1bHQudW5iaW5kKHdpbmRvdywgJ21vdXNlbW92ZScsIG9uTW91c2VEcmFnKTtcblx0ICAgICAgX2RvbTIuZGVmYXVsdC51bmJpbmQod2luZG93LCAnbW91c2V1cCcsIG9uTW91c2VVcCk7XG5cdCAgICAgIG9uRmluaXNoKCk7XG5cdCAgICB9XG5cdFxuXHQgICAgZnVuY3Rpb24gb25Nb3VzZURvd24oZSkge1xuXHQgICAgICBfZG9tMi5kZWZhdWx0LmJpbmQod2luZG93LCAnbW91c2Vtb3ZlJywgb25Nb3VzZURyYWcpO1xuXHQgICAgICBfZG9tMi5kZWZhdWx0LmJpbmQod2luZG93LCAnbW91c2V1cCcsIG9uTW91c2VVcCk7XG5cdCAgICAgIHByZXZZID0gZS5jbGllbnRZO1xuXHQgICAgfVxuXHRcblx0ICAgIF90aGlzMi5fX2lucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcblx0ICAgIF90aGlzMi5fX2lucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0Jyk7XG5cdFxuXHQgICAgLy8gTWFrZXMgaXQgc28gbWFudWFsbHkgc3BlY2lmaWVkIHZhbHVlcyBhcmUgbm90IHRydW5jYXRlZC5cblx0XG5cdCAgICBfZG9tMi5kZWZhdWx0LmJpbmQoX3RoaXMyLl9faW5wdXQsICdjaGFuZ2UnLCBvbkNoYW5nZSk7XG5cdCAgICBfZG9tMi5kZWZhdWx0LmJpbmQoX3RoaXMyLl9faW5wdXQsICdibHVyJywgb25CbHVyKTtcblx0ICAgIF9kb20yLmRlZmF1bHQuYmluZChfdGhpczIuX19pbnB1dCwgJ21vdXNlZG93bicsIG9uTW91c2VEb3duKTtcblx0ICAgIF9kb20yLmRlZmF1bHQuYmluZChfdGhpczIuX19pbnB1dCwgJ2tleWRvd24nLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAvLyBXaGVuIHByZXNzaW5nIGVudGVyLCB5b3UgY2FuIGJlIGFzIHByZWNpc2UgYXMgeW91IHdhbnQuXG5cdCAgICAgIGlmIChlLmtleUNvZGUgPT09IDEzKSB7XG5cdCAgICAgICAgX3RoaXMuX190cnVuY2F0aW9uU3VzcGVuZGVkID0gdHJ1ZTtcblx0ICAgICAgICB0aGlzLmJsdXIoKTtcblx0ICAgICAgICBfdGhpcy5fX3RydW5jYXRpb25TdXNwZW5kZWQgPSBmYWxzZTtcblx0ICAgICAgICBvbkZpbmlzaCgpO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0XG5cdCAgICBfdGhpczIudXBkYXRlRGlzcGxheSgpO1xuXHRcblx0ICAgIF90aGlzMi5kb21FbGVtZW50LmFwcGVuZENoaWxkKF90aGlzMi5fX2lucHV0KTtcblx0ICAgIHJldHVybiBfdGhpczI7XG5cdCAgfVxuXHRcblx0ICBOdW1iZXJDb250cm9sbGVyQm94LnByb3RvdHlwZS51cGRhdGVEaXNwbGF5ID0gZnVuY3Rpb24gdXBkYXRlRGlzcGxheSgpIHtcblx0ICAgIHRoaXMuX19pbnB1dC52YWx1ZSA9IHRoaXMuX190cnVuY2F0aW9uU3VzcGVuZGVkID8gdGhpcy5nZXRWYWx1ZSgpIDogcm91bmRUb0RlY2ltYWwodGhpcy5nZXRWYWx1ZSgpLCB0aGlzLl9fcHJlY2lzaW9uKTtcblx0ICAgIHJldHVybiBfTnVtYmVyQ29udHJvbGxlci5wcm90b3R5cGUudXBkYXRlRGlzcGxheS5jYWxsKHRoaXMpO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiBOdW1iZXJDb250cm9sbGVyQm94O1xuXHR9KF9OdW1iZXJDb250cm9sbGVyMy5kZWZhdWx0KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IE51bWJlckNvbnRyb2xsZXJCb3g7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogMTQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX051bWJlckNvbnRyb2xsZXIyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cdFxuXHR2YXIgX051bWJlckNvbnRyb2xsZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTnVtYmVyQ29udHJvbGxlcjIpO1xuXHRcblx0dmFyIF9kb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHRcblx0dmFyIF9kb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZG9tKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0gLyoqXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIGRhdC1ndWkgSmF2YVNjcmlwdCBDb250cm9sbGVyIExpYnJhcnlcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogaHR0cDovL2NvZGUuZ29vZ2xlLmNvbS9wL2RhdC1ndWlcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTEgRGF0YSBBcnRzIFRlYW0sIEdvb2dsZSBDcmVhdGl2ZSBMYWJcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXHRcblx0ZnVuY3Rpb24gbWFwKHYsIGkxLCBpMiwgbzEsIG8yKSB7XG5cdCAgcmV0dXJuIG8xICsgKG8yIC0gbzEpICogKCh2IC0gaTEpIC8gKGkyIC0gaTEpKTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIEBjbGFzcyBSZXByZXNlbnRzIGEgZ2l2ZW4gcHJvcGVydHkgb2YgYW4gb2JqZWN0IHRoYXQgaXMgYSBudW1iZXIsIGNvbnRhaW5zXG5cdCAqIGEgbWluaW11bSBhbmQgbWF4aW11bSwgYW5kIHByb3ZpZGVzIGEgc2xpZGVyIGVsZW1lbnQgd2l0aCB3aGljaCB0b1xuXHQgKiBtYW5pcHVsYXRlIGl0LiBJdCBzaG91bGQgYmUgbm90ZWQgdGhhdCB0aGUgc2xpZGVyIGVsZW1lbnQgaXMgbWFkZSB1cCBvZlxuXHQgKiA8Y29kZT4mbHQ7ZGl2Jmd0OzwvY29kZT4gdGFncywgPHN0cm9uZz5ub3Q8L3N0cm9uZz4gdGhlIGh0bWw1XG5cdCAqIDxjb2RlPiZsdDtzbGlkZXImZ3Q7PC9jb2RlPiBlbGVtZW50LlxuXHQgKlxuXHQgKiBAZXh0ZW5kcyBkYXQuY29udHJvbGxlcnMuQ29udHJvbGxlclxuXHQgKiBAZXh0ZW5kcyBkYXQuY29udHJvbGxlcnMuTnVtYmVyQ29udHJvbGxlclxuXHQgKlxuXHQgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gYmUgbWFuaXB1bGF0ZWRcblx0ICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byBiZSBtYW5pcHVsYXRlZFxuXHQgKiBAcGFyYW0ge051bWJlcn0gbWluVmFsdWUgTWluaW11bSBhbGxvd2VkIHZhbHVlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBtYXhWYWx1ZSBNYXhpbXVtIGFsbG93ZWQgdmFsdWVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHN0ZXBWYWx1ZSBJbmNyZW1lbnQgYnkgd2hpY2ggdG8gY2hhbmdlIHZhbHVlXG5cdCAqXG5cdCAqIEBtZW1iZXIgZGF0LmNvbnRyb2xsZXJzXG5cdCAqL1xuXHRcblx0dmFyIE51bWJlckNvbnRyb2xsZXJTbGlkZXIgPSBmdW5jdGlvbiAoX051bWJlckNvbnRyb2xsZXIpIHtcblx0ICBfaW5oZXJpdHMoTnVtYmVyQ29udHJvbGxlclNsaWRlciwgX051bWJlckNvbnRyb2xsZXIpO1xuXHRcblx0ICBmdW5jdGlvbiBOdW1iZXJDb250cm9sbGVyU2xpZGVyKG9iamVjdCwgcHJvcGVydHksIG1pbiwgbWF4LCBzdGVwKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTnVtYmVyQ29udHJvbGxlclNsaWRlcik7XG5cdFxuXHQgICAgdmFyIF90aGlzMiA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9OdW1iZXJDb250cm9sbGVyLmNhbGwodGhpcywgb2JqZWN0LCBwcm9wZXJ0eSwgeyBtaW46IG1pbiwgbWF4OiBtYXgsIHN0ZXA6IHN0ZXAgfSkpO1xuXHRcblx0ICAgIHZhciBfdGhpcyA9IF90aGlzMjtcblx0XG5cdCAgICBfdGhpczIuX19iYWNrZ3JvdW5kID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdCAgICBfdGhpczIuX19mb3JlZ3JvdW5kID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFxuXHQgICAgX2RvbTIuZGVmYXVsdC5iaW5kKF90aGlzMi5fX2JhY2tncm91bmQsICdtb3VzZWRvd24nLCBvbk1vdXNlRG93bik7XG5cdFxuXHQgICAgX2RvbTIuZGVmYXVsdC5hZGRDbGFzcyhfdGhpczIuX19iYWNrZ3JvdW5kLCAnc2xpZGVyJyk7XG5cdCAgICBfZG9tMi5kZWZhdWx0LmFkZENsYXNzKF90aGlzMi5fX2ZvcmVncm91bmQsICdzbGlkZXItZmcnKTtcblx0XG5cdCAgICBmdW5jdGlvbiBvbk1vdXNlRG93bihlKSB7XG5cdCAgICAgIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuYmx1cigpO1xuXHRcblx0ICAgICAgX2RvbTIuZGVmYXVsdC5iaW5kKHdpbmRvdywgJ21vdXNlbW92ZScsIG9uTW91c2VEcmFnKTtcblx0ICAgICAgX2RvbTIuZGVmYXVsdC5iaW5kKHdpbmRvdywgJ21vdXNldXAnLCBvbk1vdXNlVXApO1xuXHRcblx0ICAgICAgb25Nb3VzZURyYWcoZSk7XG5cdCAgICB9XG5cdFxuXHQgICAgZnVuY3Rpb24gb25Nb3VzZURyYWcoZSkge1xuXHQgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cdFxuXHQgICAgICB2YXIgYmdSZWN0ID0gX3RoaXMuX19iYWNrZ3JvdW5kLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcblx0ICAgICAgX3RoaXMuc2V0VmFsdWUobWFwKGUuY2xpZW50WCwgYmdSZWN0LmxlZnQsIGJnUmVjdC5yaWdodCwgX3RoaXMuX19taW4sIF90aGlzLl9fbWF4KSk7XG5cdFxuXHQgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdFxuXHQgICAgZnVuY3Rpb24gb25Nb3VzZVVwKCkge1xuXHQgICAgICBfZG9tMi5kZWZhdWx0LnVuYmluZCh3aW5kb3csICdtb3VzZW1vdmUnLCBvbk1vdXNlRHJhZyk7XG5cdCAgICAgIF9kb20yLmRlZmF1bHQudW5iaW5kKHdpbmRvdywgJ21vdXNldXAnLCBvbk1vdXNlVXApO1xuXHQgICAgICBpZiAoX3RoaXMuX19vbkZpbmlzaENoYW5nZSkge1xuXHQgICAgICAgIF90aGlzLl9fb25GaW5pc2hDaGFuZ2UuY2FsbChfdGhpcywgX3RoaXMuZ2V0VmFsdWUoKSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBfdGhpczIudXBkYXRlRGlzcGxheSgpO1xuXHRcblx0ICAgIF90aGlzMi5fX2JhY2tncm91bmQuYXBwZW5kQ2hpbGQoX3RoaXMyLl9fZm9yZWdyb3VuZCk7XG5cdCAgICBfdGhpczIuZG9tRWxlbWVudC5hcHBlbmRDaGlsZChfdGhpczIuX19iYWNrZ3JvdW5kKTtcblx0ICAgIHJldHVybiBfdGhpczI7XG5cdCAgfVxuXHRcblx0ICBOdW1iZXJDb250cm9sbGVyU2xpZGVyLnByb3RvdHlwZS51cGRhdGVEaXNwbGF5ID0gZnVuY3Rpb24gdXBkYXRlRGlzcGxheSgpIHtcblx0ICAgIHZhciBwY3QgPSAodGhpcy5nZXRWYWx1ZSgpIC0gdGhpcy5fX21pbikgLyAodGhpcy5fX21heCAtIHRoaXMuX19taW4pO1xuXHQgICAgdGhpcy5fX2ZvcmVncm91bmQuc3R5bGUud2lkdGggPSBwY3QgKiAxMDAgKyAnJSc7XG5cdCAgICByZXR1cm4gX051bWJlckNvbnRyb2xsZXIucHJvdG90eXBlLnVwZGF0ZURpc3BsYXkuY2FsbCh0aGlzKTtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gTnVtYmVyQ29udHJvbGxlclNsaWRlcjtcblx0fShfTnVtYmVyQ29udHJvbGxlcjMuZGVmYXVsdCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBOdW1iZXJDb250cm9sbGVyU2xpZGVyO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcbi8qIDE1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0dmFyIF9Db250cm9sbGVyMiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdFxuXHR2YXIgX0NvbnRyb2xsZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29udHJvbGxlcjIpO1xuXHRcblx0dmFyIF9kb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHRcblx0dmFyIF9kb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZG9tKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0gLyoqXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIGRhdC1ndWkgSmF2YVNjcmlwdCBDb250cm9sbGVyIExpYnJhcnlcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogaHR0cDovL2NvZGUuZ29vZ2xlLmNvbS9wL2RhdC1ndWlcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTEgRGF0YSBBcnRzIFRlYW0sIEdvb2dsZSBDcmVhdGl2ZSBMYWJcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXHRcblx0LyoqXG5cdCAqIEBjbGFzcyBQcm92aWRlcyBhIEdVSSBpbnRlcmZhY2UgdG8gZmlyZSBhIHNwZWNpZmllZCBtZXRob2QsIGEgcHJvcGVydHkgb2YgYW4gb2JqZWN0LlxuXHQgKlxuXHQgKiBAZXh0ZW5kcyBkYXQuY29udHJvbGxlcnMuQ29udHJvbGxlclxuXHQgKlxuXHQgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gYmUgbWFuaXB1bGF0ZWRcblx0ICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byBiZSBtYW5pcHVsYXRlZFxuXHQgKlxuXHQgKiBAbWVtYmVyIGRhdC5jb250cm9sbGVyc1xuXHQgKi9cblx0dmFyIEZ1bmN0aW9uQ29udHJvbGxlciA9IGZ1bmN0aW9uIChfQ29udHJvbGxlcikge1xuXHQgIF9pbmhlcml0cyhGdW5jdGlvbkNvbnRyb2xsZXIsIF9Db250cm9sbGVyKTtcblx0XG5cdCAgZnVuY3Rpb24gRnVuY3Rpb25Db250cm9sbGVyKG9iamVjdCwgcHJvcGVydHksIHRleHQpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGdW5jdGlvbkNvbnRyb2xsZXIpO1xuXHRcblx0ICAgIHZhciBfdGhpczIgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfQ29udHJvbGxlci5jYWxsKHRoaXMsIG9iamVjdCwgcHJvcGVydHkpKTtcblx0XG5cdCAgICB2YXIgX3RoaXMgPSBfdGhpczI7XG5cdFxuXHQgICAgX3RoaXMyLl9fYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdCAgICBfdGhpczIuX19idXR0b24uaW5uZXJIVE1MID0gdGV4dCA9PT0gdW5kZWZpbmVkID8gJ0ZpcmUnIDogdGV4dDtcblx0XG5cdCAgICBfZG9tMi5kZWZhdWx0LmJpbmQoX3RoaXMyLl9fYnV0dG9uLCAnY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgIF90aGlzLmZpcmUoKTtcblx0ICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgX2RvbTIuZGVmYXVsdC5hZGRDbGFzcyhfdGhpczIuX19idXR0b24sICdidXR0b24nKTtcblx0XG5cdCAgICBfdGhpczIuZG9tRWxlbWVudC5hcHBlbmRDaGlsZChfdGhpczIuX19idXR0b24pO1xuXHQgICAgcmV0dXJuIF90aGlzMjtcblx0ICB9XG5cdFxuXHQgIEZ1bmN0aW9uQ29udHJvbGxlci5wcm90b3R5cGUuZmlyZSA9IGZ1bmN0aW9uIGZpcmUoKSB7XG5cdCAgICBpZiAodGhpcy5fX29uQ2hhbmdlKSB7XG5cdCAgICAgIHRoaXMuX19vbkNoYW5nZS5jYWxsKHRoaXMpO1xuXHQgICAgfVxuXHQgICAgdGhpcy5nZXRWYWx1ZSgpLmNhbGwodGhpcy5vYmplY3QpO1xuXHQgICAgaWYgKHRoaXMuX19vbkZpbmlzaENoYW5nZSkge1xuXHQgICAgICB0aGlzLl9fb25GaW5pc2hDaGFuZ2UuY2FsbCh0aGlzLCB0aGlzLmdldFZhbHVlKCkpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHJldHVybiBGdW5jdGlvbkNvbnRyb2xsZXI7XG5cdH0oX0NvbnRyb2xsZXIzLmRlZmF1bHQpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gRnVuY3Rpb25Db250cm9sbGVyO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcbi8qIDE2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0dmFyIF9Db250cm9sbGVyMiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdFxuXHR2YXIgX0NvbnRyb2xsZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29udHJvbGxlcjIpO1xuXHRcblx0dmFyIF9kb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHRcblx0dmFyIF9kb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZG9tKTtcblx0XG5cdHZhciBfQ29sb3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9Db2xvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db2xvcik7XG5cdFxuXHR2YXIgX2ludGVycHJldCA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2ludGVycHJldDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnRlcnByZXQpO1xuXHRcblx0dmFyIF9jb21tb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9jb21tb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tbW9uKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0gLyoqXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIGRhdC1ndWkgSmF2YVNjcmlwdCBDb250cm9sbGVyIExpYnJhcnlcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogaHR0cDovL2NvZGUuZ29vZ2xlLmNvbS9wL2RhdC1ndWlcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTEgRGF0YSBBcnRzIFRlYW0sIEdvb2dsZSBDcmVhdGl2ZSBMYWJcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXHRcblx0dmFyIENvbG9yQ29udHJvbGxlciA9IGZ1bmN0aW9uIChfQ29udHJvbGxlcikge1xuXHQgIF9pbmhlcml0cyhDb2xvckNvbnRyb2xsZXIsIF9Db250cm9sbGVyKTtcblx0XG5cdCAgZnVuY3Rpb24gQ29sb3JDb250cm9sbGVyKG9iamVjdCwgcHJvcGVydHkpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb2xvckNvbnRyb2xsZXIpO1xuXHRcblx0ICAgIHZhciBfdGhpczIgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfQ29udHJvbGxlci5jYWxsKHRoaXMsIG9iamVjdCwgcHJvcGVydHkpKTtcblx0XG5cdCAgICBfdGhpczIuX19jb2xvciA9IG5ldyBfQ29sb3IyLmRlZmF1bHQoX3RoaXMyLmdldFZhbHVlKCkpO1xuXHQgICAgX3RoaXMyLl9fdGVtcCA9IG5ldyBfQ29sb3IyLmRlZmF1bHQoMCk7XG5cdFxuXHQgICAgdmFyIF90aGlzID0gX3RoaXMyO1xuXHRcblx0ICAgIF90aGlzMi5kb21FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFxuXHQgICAgX2RvbTIuZGVmYXVsdC5tYWtlU2VsZWN0YWJsZShfdGhpczIuZG9tRWxlbWVudCwgZmFsc2UpO1xuXHRcblx0ICAgIF90aGlzMi5fX3NlbGVjdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdCAgICBfdGhpczIuX19zZWxlY3Rvci5jbGFzc05hbWUgPSAnc2VsZWN0b3InO1xuXHRcblx0ICAgIF90aGlzMi5fX3NhdHVyYXRpb25fZmllbGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0ICAgIF90aGlzMi5fX3NhdHVyYXRpb25fZmllbGQuY2xhc3NOYW1lID0gJ3NhdHVyYXRpb24tZmllbGQnO1xuXHRcblx0ICAgIF90aGlzMi5fX2ZpZWxkX2tub2IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0ICAgIF90aGlzMi5fX2ZpZWxkX2tub2IuY2xhc3NOYW1lID0gJ2ZpZWxkLWtub2InO1xuXHQgICAgX3RoaXMyLl9fZmllbGRfa25vYl9ib3JkZXIgPSAnMnB4IHNvbGlkICc7XG5cdFxuXHQgICAgX3RoaXMyLl9faHVlX2tub2IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0ICAgIF90aGlzMi5fX2h1ZV9rbm9iLmNsYXNzTmFtZSA9ICdodWUta25vYic7XG5cdFxuXHQgICAgX3RoaXMyLl9faHVlX2ZpZWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdCAgICBfdGhpczIuX19odWVfZmllbGQuY2xhc3NOYW1lID0gJ2h1ZS1maWVsZCc7XG5cdFxuXHQgICAgX3RoaXMyLl9faW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuXHQgICAgX3RoaXMyLl9faW5wdXQudHlwZSA9ICd0ZXh0Jztcblx0ICAgIF90aGlzMi5fX2lucHV0X3RleHRTaGFkb3cgPSAnMCAxcHggMXB4ICc7XG5cdFxuXHQgICAgX2RvbTIuZGVmYXVsdC5iaW5kKF90aGlzMi5fX2lucHV0LCAna2V5ZG93bicsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgIGlmIChlLmtleUNvZGUgPT09IDEzKSB7XG5cdCAgICAgICAgLy8gb24gZW50ZXJcblx0ICAgICAgICBvbkJsdXIuY2FsbCh0aGlzKTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdFxuXHQgICAgX2RvbTIuZGVmYXVsdC5iaW5kKF90aGlzMi5fX2lucHV0LCAnYmx1cicsIG9uQmx1cik7XG5cdFxuXHQgICAgX2RvbTIuZGVmYXVsdC5iaW5kKF90aGlzMi5fX3NlbGVjdG9yLCAnbW91c2Vkb3duJywgZnVuY3Rpb24gKCkgLyogZSAqL3tcblx0ICAgICAgX2RvbTIuZGVmYXVsdC5hZGRDbGFzcyh0aGlzLCAnZHJhZycpLmJpbmQod2luZG93LCAnbW91c2V1cCcsIGZ1bmN0aW9uICgpIC8qIGUgKi97XG5cdCAgICAgICAgX2RvbTIuZGVmYXVsdC5yZW1vdmVDbGFzcyhfdGhpcy5fX3NlbGVjdG9yLCAnZHJhZycpO1xuXHQgICAgICB9KTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIHZhciB2YWx1ZUZpZWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFxuXHQgICAgX2NvbW1vbjIuZGVmYXVsdC5leHRlbmQoX3RoaXMyLl9fc2VsZWN0b3Iuc3R5bGUsIHtcblx0ICAgICAgd2lkdGg6ICcxMjJweCcsXG5cdCAgICAgIGhlaWdodDogJzEwMnB4Jyxcblx0ICAgICAgcGFkZGluZzogJzNweCcsXG5cdCAgICAgIGJhY2tncm91bmRDb2xvcjogJyMyMjInLFxuXHQgICAgICBib3hTaGFkb3c6ICcwcHggMXB4IDNweCByZ2JhKDAsMCwwLDAuMyknXG5cdCAgICB9KTtcblx0XG5cdCAgICBfY29tbW9uMi5kZWZhdWx0LmV4dGVuZChfdGhpczIuX19maWVsZF9rbm9iLnN0eWxlLCB7XG5cdCAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuXHQgICAgICB3aWR0aDogJzEycHgnLFxuXHQgICAgICBoZWlnaHQ6ICcxMnB4Jyxcblx0ICAgICAgYm9yZGVyOiBfdGhpczIuX19maWVsZF9rbm9iX2JvcmRlciArIChfdGhpczIuX19jb2xvci52IDwgMC41ID8gJyNmZmYnIDogJyMwMDAnKSxcblx0ICAgICAgYm94U2hhZG93OiAnMHB4IDFweCAzcHggcmdiYSgwLDAsMCwwLjUpJyxcblx0ICAgICAgYm9yZGVyUmFkaXVzOiAnMTJweCcsXG5cdCAgICAgIHpJbmRleDogMVxuXHQgICAgfSk7XG5cdFxuXHQgICAgX2NvbW1vbjIuZGVmYXVsdC5leHRlbmQoX3RoaXMyLl9faHVlX2tub2Iuc3R5bGUsIHtcblx0ICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG5cdCAgICAgIHdpZHRoOiAnMTVweCcsXG5cdCAgICAgIGhlaWdodDogJzJweCcsXG5cdCAgICAgIGJvcmRlclJpZ2h0OiAnNHB4IHNvbGlkICNmZmYnLFxuXHQgICAgICB6SW5kZXg6IDFcblx0ICAgIH0pO1xuXHRcblx0ICAgIF9jb21tb24yLmRlZmF1bHQuZXh0ZW5kKF90aGlzMi5fX3NhdHVyYXRpb25fZmllbGQuc3R5bGUsIHtcblx0ICAgICAgd2lkdGg6ICcxMDBweCcsXG5cdCAgICAgIGhlaWdodDogJzEwMHB4Jyxcblx0ICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkICM1NTUnLFxuXHQgICAgICBtYXJnaW5SaWdodDogJzNweCcsXG5cdCAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuXHQgICAgICBjdXJzb3I6ICdwb2ludGVyJ1xuXHQgICAgfSk7XG5cdFxuXHQgICAgX2NvbW1vbjIuZGVmYXVsdC5leHRlbmQodmFsdWVGaWVsZC5zdHlsZSwge1xuXHQgICAgICB3aWR0aDogJzEwMCUnLFxuXHQgICAgICBoZWlnaHQ6ICcxMDAlJyxcblx0ICAgICAgYmFja2dyb3VuZDogJ25vbmUnXG5cdCAgICB9KTtcblx0XG5cdCAgICBsaW5lYXJHcmFkaWVudCh2YWx1ZUZpZWxkLCAndG9wJywgJ3JnYmEoMCwwLDAsMCknLCAnIzAwMCcpO1xuXHRcblx0ICAgIF9jb21tb24yLmRlZmF1bHQuZXh0ZW5kKF90aGlzMi5fX2h1ZV9maWVsZC5zdHlsZSwge1xuXHQgICAgICB3aWR0aDogJzE1cHgnLFxuXHQgICAgICBoZWlnaHQ6ICcxMDBweCcsXG5cdCAgICAgIGJvcmRlcjogJzFweCBzb2xpZCAjNTU1Jyxcblx0ICAgICAgY3Vyc29yOiAnbnMtcmVzaXplJyxcblx0ICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG5cdCAgICAgIHRvcDogJzNweCcsXG5cdCAgICAgIHJpZ2h0OiAnM3B4J1xuXHQgICAgfSk7XG5cdFxuXHQgICAgaHVlR3JhZGllbnQoX3RoaXMyLl9faHVlX2ZpZWxkKTtcblx0XG5cdCAgICBfY29tbW9uMi5kZWZhdWx0LmV4dGVuZChfdGhpczIuX19pbnB1dC5zdHlsZSwge1xuXHQgICAgICBvdXRsaW5lOiAnbm9uZScsXG5cdCAgICAgIC8vICAgICAgd2lkdGg6ICcxMjBweCcsXG5cdCAgICAgIHRleHRBbGlnbjogJ2NlbnRlcicsXG5cdCAgICAgIC8vICAgICAgcGFkZGluZzogJzRweCcsXG5cdCAgICAgIC8vICAgICAgbWFyZ2luQm90dG9tOiAnNnB4Jyxcblx0ICAgICAgY29sb3I6ICcjZmZmJyxcblx0ICAgICAgYm9yZGVyOiAwLFxuXHQgICAgICBmb250V2VpZ2h0OiAnYm9sZCcsXG5cdCAgICAgIHRleHRTaGFkb3c6IF90aGlzMi5fX2lucHV0X3RleHRTaGFkb3cgKyAncmdiYSgwLDAsMCwwLjcpJ1xuXHQgICAgfSk7XG5cdFxuXHQgICAgX2RvbTIuZGVmYXVsdC5iaW5kKF90aGlzMi5fX3NhdHVyYXRpb25fZmllbGQsICdtb3VzZWRvd24nLCBmaWVsZERvd24pO1xuXHQgICAgX2RvbTIuZGVmYXVsdC5iaW5kKF90aGlzMi5fX2ZpZWxkX2tub2IsICdtb3VzZWRvd24nLCBmaWVsZERvd24pO1xuXHRcblx0ICAgIF9kb20yLmRlZmF1bHQuYmluZChfdGhpczIuX19odWVfZmllbGQsICdtb3VzZWRvd24nLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICBzZXRIKGUpO1xuXHQgICAgICBfZG9tMi5kZWZhdWx0LmJpbmQod2luZG93LCAnbW91c2Vtb3ZlJywgc2V0SCk7XG5cdCAgICAgIF9kb20yLmRlZmF1bHQuYmluZCh3aW5kb3csICdtb3VzZXVwJywgZmllbGRVcEgpO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgZnVuY3Rpb24gZmllbGREb3duKGUpIHtcblx0ICAgICAgc2V0U1YoZSk7XG5cdCAgICAgIC8vIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gJ25vbmUnO1xuXHQgICAgICBfZG9tMi5kZWZhdWx0LmJpbmQod2luZG93LCAnbW91c2Vtb3ZlJywgc2V0U1YpO1xuXHQgICAgICBfZG9tMi5kZWZhdWx0LmJpbmQod2luZG93LCAnbW91c2V1cCcsIGZpZWxkVXBTVik7XG5cdCAgICB9XG5cdFxuXHQgICAgZnVuY3Rpb24gZmllbGRVcFNWKCkge1xuXHQgICAgICBfZG9tMi5kZWZhdWx0LnVuYmluZCh3aW5kb3csICdtb3VzZW1vdmUnLCBzZXRTVik7XG5cdCAgICAgIF9kb20yLmRlZmF1bHQudW5iaW5kKHdpbmRvdywgJ21vdXNldXAnLCBmaWVsZFVwU1YpO1xuXHQgICAgICAvLyBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9ICdkZWZhdWx0Jztcblx0ICAgICAgb25GaW5pc2goKTtcblx0ICAgIH1cblx0XG5cdCAgICBmdW5jdGlvbiBvbkJsdXIoKSB7XG5cdCAgICAgIHZhciBpID0gKDAsIF9pbnRlcnByZXQyLmRlZmF1bHQpKHRoaXMudmFsdWUpO1xuXHQgICAgICBpZiAoaSAhPT0gZmFsc2UpIHtcblx0ICAgICAgICBfdGhpcy5fX2NvbG9yLl9fc3RhdGUgPSBpO1xuXHQgICAgICAgIF90aGlzLnNldFZhbHVlKF90aGlzLl9fY29sb3IudG9PcmlnaW5hbCgpKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aGlzLnZhbHVlID0gX3RoaXMuX19jb2xvci50b1N0cmluZygpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgZnVuY3Rpb24gZmllbGRVcEgoKSB7XG5cdCAgICAgIF9kb20yLmRlZmF1bHQudW5iaW5kKHdpbmRvdywgJ21vdXNlbW92ZScsIHNldEgpO1xuXHQgICAgICBfZG9tMi5kZWZhdWx0LnVuYmluZCh3aW5kb3csICdtb3VzZXVwJywgZmllbGRVcEgpO1xuXHQgICAgICBvbkZpbmlzaCgpO1xuXHQgICAgfVxuXHRcblx0ICAgIGZ1bmN0aW9uIG9uRmluaXNoKCkge1xuXHQgICAgICBpZiAoX3RoaXMuX19vbkZpbmlzaENoYW5nZSkge1xuXHQgICAgICAgIF90aGlzLl9fb25GaW5pc2hDaGFuZ2UuY2FsbChfdGhpcywgX3RoaXMuX19jb2xvci50b09yaWdpbmFsKCkpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgX3RoaXMyLl9fc2F0dXJhdGlvbl9maWVsZC5hcHBlbmRDaGlsZCh2YWx1ZUZpZWxkKTtcblx0ICAgIF90aGlzMi5fX3NlbGVjdG9yLmFwcGVuZENoaWxkKF90aGlzMi5fX2ZpZWxkX2tub2IpO1xuXHQgICAgX3RoaXMyLl9fc2VsZWN0b3IuYXBwZW5kQ2hpbGQoX3RoaXMyLl9fc2F0dXJhdGlvbl9maWVsZCk7XG5cdCAgICBfdGhpczIuX19zZWxlY3Rvci5hcHBlbmRDaGlsZChfdGhpczIuX19odWVfZmllbGQpO1xuXHQgICAgX3RoaXMyLl9faHVlX2ZpZWxkLmFwcGVuZENoaWxkKF90aGlzMi5fX2h1ZV9rbm9iKTtcblx0XG5cdCAgICBfdGhpczIuZG9tRWxlbWVudC5hcHBlbmRDaGlsZChfdGhpczIuX19pbnB1dCk7XG5cdCAgICBfdGhpczIuZG9tRWxlbWVudC5hcHBlbmRDaGlsZChfdGhpczIuX19zZWxlY3Rvcik7XG5cdFxuXHQgICAgX3RoaXMyLnVwZGF0ZURpc3BsYXkoKTtcblx0XG5cdCAgICBmdW5jdGlvbiBzZXRTVihlKSB7XG5cdCAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblx0XG5cdCAgICAgIHZhciBmaWVsZFJlY3QgPSBfdGhpcy5fX3NhdHVyYXRpb25fZmllbGQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdCAgICAgIHZhciBzID0gKGUuY2xpZW50WCAtIGZpZWxkUmVjdC5sZWZ0KSAvIChmaWVsZFJlY3QucmlnaHQgLSBmaWVsZFJlY3QubGVmdCk7XG5cdCAgICAgIHZhciB2ID0gMSAtIChlLmNsaWVudFkgLSBmaWVsZFJlY3QudG9wKSAvIChmaWVsZFJlY3QuYm90dG9tIC0gZmllbGRSZWN0LnRvcCk7XG5cdFxuXHQgICAgICBpZiAodiA+IDEpIHtcblx0ICAgICAgICB2ID0gMTtcblx0ICAgICAgfSBlbHNlIGlmICh2IDwgMCkge1xuXHQgICAgICAgIHYgPSAwO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAocyA+IDEpIHtcblx0ICAgICAgICBzID0gMTtcblx0ICAgICAgfSBlbHNlIGlmIChzIDwgMCkge1xuXHQgICAgICAgIHMgPSAwO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBfdGhpcy5fX2NvbG9yLnYgPSB2O1xuXHQgICAgICBfdGhpcy5fX2NvbG9yLnMgPSBzO1xuXHRcblx0ICAgICAgX3RoaXMuc2V0VmFsdWUoX3RoaXMuX19jb2xvci50b09yaWdpbmFsKCkpO1xuXHRcblx0ICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXHRcblx0ICAgIGZ1bmN0aW9uIHNldEgoZSkge1xuXHQgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cdFxuXHQgICAgICB2YXIgZmllbGRSZWN0ID0gX3RoaXMuX19odWVfZmllbGQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdCAgICAgIHZhciBoID0gMSAtIChlLmNsaWVudFkgLSBmaWVsZFJlY3QudG9wKSAvIChmaWVsZFJlY3QuYm90dG9tIC0gZmllbGRSZWN0LnRvcCk7XG5cdFxuXHQgICAgICBpZiAoaCA+IDEpIHtcblx0ICAgICAgICBoID0gMTtcblx0ICAgICAgfSBlbHNlIGlmIChoIDwgMCkge1xuXHQgICAgICAgIGggPSAwO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBfdGhpcy5fX2NvbG9yLmggPSBoICogMzYwO1xuXHRcblx0ICAgICAgX3RoaXMuc2V0VmFsdWUoX3RoaXMuX19jb2xvci50b09yaWdpbmFsKCkpO1xuXHRcblx0ICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIF90aGlzMjtcblx0ICB9XG5cdFxuXHQgIENvbG9yQ29udHJvbGxlci5wcm90b3R5cGUudXBkYXRlRGlzcGxheSA9IGZ1bmN0aW9uIHVwZGF0ZURpc3BsYXkoKSB7XG5cdCAgICB2YXIgaSA9ICgwLCBfaW50ZXJwcmV0Mi5kZWZhdWx0KSh0aGlzLmdldFZhbHVlKCkpO1xuXHRcblx0ICAgIGlmIChpICE9PSBmYWxzZSkge1xuXHQgICAgICB2YXIgbWlzbWF0Y2ggPSBmYWxzZTtcblx0XG5cdCAgICAgIC8vIENoZWNrIGZvciBtaXNtYXRjaCBvbiB0aGUgaW50ZXJwcmV0ZWQgdmFsdWUuXG5cdFxuXHQgICAgICBfY29tbW9uMi5kZWZhdWx0LmVhY2goX0NvbG9yMi5kZWZhdWx0LkNPTVBPTkVOVFMsIGZ1bmN0aW9uIChjb21wb25lbnQpIHtcblx0ICAgICAgICBpZiAoIV9jb21tb24yLmRlZmF1bHQuaXNVbmRlZmluZWQoaVtjb21wb25lbnRdKSAmJiAhX2NvbW1vbjIuZGVmYXVsdC5pc1VuZGVmaW5lZCh0aGlzLl9fY29sb3IuX19zdGF0ZVtjb21wb25lbnRdKSAmJiBpW2NvbXBvbmVudF0gIT09IHRoaXMuX19jb2xvci5fX3N0YXRlW2NvbXBvbmVudF0pIHtcblx0ICAgICAgICAgIG1pc21hdGNoID0gdHJ1ZTtcblx0ICAgICAgICAgIHJldHVybiB7fTsgLy8gYnJlYWtcblx0ICAgICAgICB9XG5cdCAgICAgIH0sIHRoaXMpO1xuXHRcblx0ICAgICAgLy8gSWYgbm90aGluZyBkaXZlcmdlcywgd2Uga2VlcCBvdXIgcHJldmlvdXMgdmFsdWVzXG5cdCAgICAgIC8vIGZvciBzdGF0ZWZ1bG5lc3MsIG90aGVyd2lzZSB3ZSByZWNhbGN1bGF0ZSBmcmVzaFxuXHQgICAgICBpZiAobWlzbWF0Y2gpIHtcblx0ICAgICAgICBfY29tbW9uMi5kZWZhdWx0LmV4dGVuZCh0aGlzLl9fY29sb3IuX19zdGF0ZSwgaSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBfY29tbW9uMi5kZWZhdWx0LmV4dGVuZCh0aGlzLl9fdGVtcC5fX3N0YXRlLCB0aGlzLl9fY29sb3IuX19zdGF0ZSk7XG5cdFxuXHQgICAgdGhpcy5fX3RlbXAuYSA9IDE7XG5cdFxuXHQgICAgdmFyIGZsaXAgPSB0aGlzLl9fY29sb3IudiA8IDAuNSB8fCB0aGlzLl9fY29sb3IucyA+IDAuNSA/IDI1NSA6IDA7XG5cdCAgICB2YXIgX2ZsaXAgPSAyNTUgLSBmbGlwO1xuXHRcblx0ICAgIF9jb21tb24yLmRlZmF1bHQuZXh0ZW5kKHRoaXMuX19maWVsZF9rbm9iLnN0eWxlLCB7XG5cdCAgICAgIG1hcmdpbkxlZnQ6IDEwMCAqIHRoaXMuX19jb2xvci5zIC0gNyArICdweCcsXG5cdCAgICAgIG1hcmdpblRvcDogMTAwICogKDEgLSB0aGlzLl9fY29sb3IudikgLSA3ICsgJ3B4Jyxcblx0ICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGlzLl9fdGVtcC50b0hleFN0cmluZygpLFxuXHQgICAgICBib3JkZXI6IHRoaXMuX19maWVsZF9rbm9iX2JvcmRlciArICdyZ2IoJyArIGZsaXAgKyAnLCcgKyBmbGlwICsgJywnICsgZmxpcCArICcpJ1xuXHQgICAgfSk7XG5cdFxuXHQgICAgdGhpcy5fX2h1ZV9rbm9iLnN0eWxlLm1hcmdpblRvcCA9ICgxIC0gdGhpcy5fX2NvbG9yLmggLyAzNjApICogMTAwICsgJ3B4Jztcblx0XG5cdCAgICB0aGlzLl9fdGVtcC5zID0gMTtcblx0ICAgIHRoaXMuX190ZW1wLnYgPSAxO1xuXHRcblx0ICAgIGxpbmVhckdyYWRpZW50KHRoaXMuX19zYXR1cmF0aW9uX2ZpZWxkLCAnbGVmdCcsICcjZmZmJywgdGhpcy5fX3RlbXAudG9IZXhTdHJpbmcoKSk7XG5cdFxuXHQgICAgdGhpcy5fX2lucHV0LnZhbHVlID0gdGhpcy5fX2NvbG9yLnRvU3RyaW5nKCk7XG5cdFxuXHQgICAgX2NvbW1vbjIuZGVmYXVsdC5leHRlbmQodGhpcy5fX2lucHV0LnN0eWxlLCB7XG5cdCAgICAgIGJhY2tncm91bmRDb2xvcjogdGhpcy5fX2NvbG9yLnRvSGV4U3RyaW5nKCksXG5cdCAgICAgIGNvbG9yOiAncmdiKCcgKyBmbGlwICsgJywnICsgZmxpcCArICcsJyArIGZsaXAgKyAnKScsXG5cdCAgICAgIHRleHRTaGFkb3c6IHRoaXMuX19pbnB1dF90ZXh0U2hhZG93ICsgJ3JnYmEoJyArIF9mbGlwICsgJywnICsgX2ZsaXAgKyAnLCcgKyBfZmxpcCArICcsLjcpJ1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIENvbG9yQ29udHJvbGxlcjtcblx0fShfQ29udHJvbGxlcjMuZGVmYXVsdCk7XG5cdFxuXHR2YXIgdmVuZG9ycyA9IFsnLW1vei0nLCAnLW8tJywgJy13ZWJraXQtJywgJy1tcy0nLCAnJ107XG5cdFxuXHRmdW5jdGlvbiBsaW5lYXJHcmFkaWVudChlbGVtLCB4LCBhLCBiKSB7XG5cdCAgZWxlbS5zdHlsZS5iYWNrZ3JvdW5kID0gJyc7XG5cdCAgX2NvbW1vbjIuZGVmYXVsdC5lYWNoKHZlbmRvcnMsIGZ1bmN0aW9uICh2ZW5kb3IpIHtcblx0ICAgIGVsZW0uc3R5bGUuY3NzVGV4dCArPSAnYmFja2dyb3VuZDogJyArIHZlbmRvciArICdsaW5lYXItZ3JhZGllbnQoJyArIHggKyAnLCAnICsgYSArICcgMCUsICcgKyBiICsgJyAxMDAlKTsgJztcblx0ICB9KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaHVlR3JhZGllbnQoZWxlbSkge1xuXHQgIGVsZW0uc3R5bGUuYmFja2dyb3VuZCA9ICcnO1xuXHQgIGVsZW0uc3R5bGUuY3NzVGV4dCArPSAnYmFja2dyb3VuZDogLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAgI2ZmMDAwMCAwJSwgI2ZmMDBmZiAxNyUsICMwMDAwZmYgMzQlLCAjMDBmZmZmIDUwJSwgIzAwZmYwMCA2NyUsICNmZmZmMDAgODQlLCAjZmYwMDAwIDEwMCUpOyc7XG5cdCAgZWxlbS5zdHlsZS5jc3NUZXh0ICs9ICdiYWNrZ3JvdW5kOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsICAjZmYwMDAwIDAlLCNmZjAwZmYgMTclLCMwMDAwZmYgMzQlLCMwMGZmZmYgNTAlLCMwMGZmMDAgNjclLCNmZmZmMDAgODQlLCNmZjAwMDAgMTAwJSk7Jztcblx0ICBlbGVtLnN0eWxlLmNzc1RleHQgKz0gJ2JhY2tncm91bmQ6IC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICAjZmYwMDAwIDAlLCNmZjAwZmYgMTclLCMwMDAwZmYgMzQlLCMwMGZmZmYgNTAlLCMwMGZmMDAgNjclLCNmZmZmMDAgODQlLCNmZjAwMDAgMTAwJSk7Jztcblx0ICBlbGVtLnN0eWxlLmNzc1RleHQgKz0gJ2JhY2tncm91bmQ6IC1tcy1saW5lYXItZ3JhZGllbnQodG9wLCAgI2ZmMDAwMCAwJSwjZmYwMGZmIDE3JSwjMDAwMGZmIDM0JSwjMDBmZmZmIDUwJSwjMDBmZjAwIDY3JSwjZmZmZjAwIDg0JSwjZmYwMDAwIDEwMCUpOyc7XG5cdCAgZWxlbS5zdHlsZS5jc3NUZXh0ICs9ICdiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG9wLCAgI2ZmMDAwMCAwJSwjZmYwMGZmIDE3JSwjMDAwMGZmIDM0JSwjMDBmZmZmIDUwJSwjMDBmZjAwIDY3JSwjZmZmZjAwIDg0JSwjZmYwMDAwIDEwMCUpOyc7XG5cdH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IENvbG9yQ29udHJvbGxlcjtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAxNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0XG5cdHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgLyoqXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIGRhdC1ndWkgSmF2YVNjcmlwdCBDb250cm9sbGVyIExpYnJhcnlcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogaHR0cDovL2NvZGUuZ29vZ2xlLmNvbS9wL2RhdC1ndWlcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTEgRGF0YSBBcnRzIFRlYW0sIEdvb2dsZSBDcmVhdGl2ZSBMYWJcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXHRcblx0dmFyIF9jc3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcblx0XG5cdHZhciBfY3NzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Nzcyk7XG5cdFxuXHR2YXIgX3NhdmVEaWFsb2d1ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuXHRcblx0dmFyIF9zYXZlRGlhbG9ndWUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2F2ZURpYWxvZ3VlKTtcblx0XG5cdHZhciBfQ29udHJvbGxlckZhY3RvcnkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcblx0XG5cdHZhciBfQ29udHJvbGxlckZhY3RvcnkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29udHJvbGxlckZhY3RvcnkpO1xuXHRcblx0dmFyIF9Db250cm9sbGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0XG5cdHZhciBfQ29udHJvbGxlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db250cm9sbGVyKTtcblx0XG5cdHZhciBfQm9vbGVhbkNvbnRyb2xsZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHRcblx0dmFyIF9Cb29sZWFuQ29udHJvbGxlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Cb29sZWFuQ29udHJvbGxlcik7XG5cdFxuXHR2YXIgX0Z1bmN0aW9uQ29udHJvbGxlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xuXHRcblx0dmFyIF9GdW5jdGlvbkNvbnRyb2xsZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRnVuY3Rpb25Db250cm9sbGVyKTtcblx0XG5cdHZhciBfTnVtYmVyQ29udHJvbGxlckJveCA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xuXHRcblx0dmFyIF9OdW1iZXJDb250cm9sbGVyQm94MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX051bWJlckNvbnRyb2xsZXJCb3gpO1xuXHRcblx0dmFyIF9OdW1iZXJDb250cm9sbGVyU2xpZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XG5cdFxuXHR2YXIgX051bWJlckNvbnRyb2xsZXJTbGlkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTnVtYmVyQ29udHJvbGxlclNsaWRlcik7XG5cdFxuXHR2YXIgX0NvbG9yQ29udHJvbGxlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xuXHRcblx0dmFyIF9Db2xvckNvbnRyb2xsZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29sb3JDb250cm9sbGVyKTtcblx0XG5cdHZhciBfcmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG5cdFxuXHR2YXIgX3JlcXVlc3RBbmltYXRpb25GcmFtZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpO1xuXHRcblx0dmFyIF9DZW50ZXJlZERpdiA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpO1xuXHRcblx0dmFyIF9DZW50ZXJlZERpdjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DZW50ZXJlZERpdik7XG5cdFxuXHR2YXIgX2RvbSA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdFxuXHR2YXIgX2RvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kb20pO1xuXHRcblx0dmFyIF9jb21tb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9jb21tb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tbW9uKTtcblx0XG5cdHZhciBfc3R5bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTtcblx0XG5cdHZhciBfc3R5bGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3R5bGUpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdC8vIENTUyB0byBlbWJlZCBpbiBidWlsZFxuXHRcblx0X2NzczIuZGVmYXVsdC5pbmplY3QoX3N0eWxlMi5kZWZhdWx0KTtcblx0XG5cdC8qKiBPdXRlci1tb3N0IGNsYXNzTmFtZSBmb3IgR1VJJ3MgKi9cblx0dmFyIENTU19OQU1FU1BBQ0UgPSAnZGcnO1xuXHRcblx0dmFyIEhJREVfS0VZX0NPREUgPSA3Mjtcblx0XG5cdC8qKiBUaGUgb25seSB2YWx1ZSBzaGFyZWQgYmV0d2VlbiB0aGUgSlMgYW5kIFNDU1MuIFVzZSBjYXV0aW9uLiAqL1xuXHR2YXIgQ0xPU0VfQlVUVE9OX0hFSUdIVCA9IDIwO1xuXHRcblx0dmFyIERFRkFVTFRfREVGQVVMVF9QUkVTRVRfTkFNRSA9ICdEZWZhdWx0Jztcblx0XG5cdHZhciBTVVBQT1JUU19MT0NBTF9TVE9SQUdFID0gZnVuY3Rpb24gKCkge1xuXHQgIHRyeSB7XG5cdCAgICByZXR1cm4gJ2xvY2FsU3RvcmFnZScgaW4gd2luZG93ICYmIHdpbmRvdy5sb2NhbFN0b3JhZ2UgIT09IG51bGw7XG5cdCAgfSBjYXRjaCAoZSkge1xuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHQgIH1cblx0fSgpO1xuXHRcblx0dmFyIFNBVkVfRElBTE9HVUUgPSB2b2lkIDA7XG5cdFxuXHQvKiogSGF2ZSB3ZSB5ZXQgdG8gY3JlYXRlIGFuIGF1dG9QbGFjZSBHVUk/ICovXG5cdHZhciBhdXRvUGxhY2VWaXJnaW4gPSB0cnVlO1xuXHRcblx0LyoqIEZpeGVkIHBvc2l0aW9uIGRpdiB0aGF0IGF1dG8gcGxhY2UgR1VJJ3MgZ28gaW5zaWRlICovXG5cdHZhciBhdXRvUGxhY2VDb250YWluZXIgPSB2b2lkIDA7XG5cdFxuXHQvKiogQXJlIHdlIGhpZGluZyB0aGUgR1VJJ3MgPyAqL1xuXHR2YXIgaGlkZSA9IGZhbHNlO1xuXHRcblx0LyoqIEdVSSdzIHdoaWNoIHNob3VsZCBiZSBoaWRkZW4gKi9cblx0dmFyIGhpZGVhYmxlR3VpcyA9IFtdO1xuXHRcblx0LyoqXG5cdCAqIEEgbGlnaHR3ZWlnaHQgY29udHJvbGxlciBsaWJyYXJ5IGZvciBKYXZhU2NyaXB0LiBJdCBhbGxvd3MgeW91IHRvIGVhc2lseVxuXHQgKiBtYW5pcHVsYXRlIHZhcmlhYmxlcyBhbmQgZmlyZSBmdW5jdGlvbnMgb24gdGhlIGZseS5cblx0ICogQGNsYXNzXG5cdCAqXG5cdCAqIEBtZW1iZXIgZGF0Lmd1aVxuXHQgKlxuXHQgKiBAcGFyYW0ge09iamVjdH0gW3BhcmFtc11cblx0ICogQHBhcmFtIHtTdHJpbmd9IFtwYXJhbXMubmFtZV0gVGhlIG5hbWUgb2YgdGhpcyBHVUkuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbcGFyYW1zLmxvYWRdIEpTT04gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgc2F2ZWQgc3RhdGUgb2Zcblx0ICogdGhpcyBHVUkuXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gW3BhcmFtcy5hdXRvPXRydWVdXG5cdCAqIEBwYXJhbSB7ZGF0Lmd1aS5HVUl9IFtwYXJhbXMucGFyZW50XSBUaGUgR1VJIEknbSBuZXN0ZWQgaW4uXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gW3BhcmFtcy5jbG9zZWRdIElmIHRydWUsIHN0YXJ0cyBjbG9zZWRcblx0ICogQHBhcmFtIHtCb29sZWFufSBbcGFyYW1zLmNsb3NlT25Ub3BdIElmIHRydWUsIGNsb3NlL29wZW4gYnV0dG9uIHNob3dzIG9uIHRvcCBvZiB0aGUgR1VJXG5cdCAqL1xuXHR2YXIgR1VJID0gZnVuY3Rpb24gR1VJKHBhcnMpIHtcblx0ICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICB2YXIgcGFyYW1zID0gcGFycyB8fCB7fTtcblx0XG5cdCAgLyoqXG5cdCAgICogT3V0ZXJtb3N0IERPTSBFbGVtZW50XG5cdCAgICogQHR5cGUgRE9NRWxlbWVudFxuXHQgICAqL1xuXHQgIHRoaXMuZG9tRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHQgIHRoaXMuX191bCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XG5cdCAgdGhpcy5kb21FbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX191bCk7XG5cdFxuXHQgIF9kb20yLmRlZmF1bHQuYWRkQ2xhc3ModGhpcy5kb21FbGVtZW50LCBDU1NfTkFNRVNQQUNFKTtcblx0XG5cdCAgLyoqXG5cdCAgICogTmVzdGVkIEdVSSdzIGJ5IG5hbWVcblx0ICAgKiBAaWdub3JlXG5cdCAgICovXG5cdCAgdGhpcy5fX2ZvbGRlcnMgPSB7fTtcblx0XG5cdCAgdGhpcy5fX2NvbnRyb2xsZXJzID0gW107XG5cdFxuXHQgIC8qKlxuXHQgICAqIExpc3Qgb2Ygb2JqZWN0cyBJJ20gcmVtZW1iZXJpbmcgZm9yIHNhdmUsIG9ubHkgdXNlZCBpbiB0b3AgbGV2ZWwgR1VJXG5cdCAgICogQGlnbm9yZVxuXHQgICAqL1xuXHQgIHRoaXMuX19yZW1lbWJlcmVkT2JqZWN0cyA9IFtdO1xuXHRcblx0ICAvKipcblx0ICAgKiBNYXBzIHRoZSBpbmRleCBvZiByZW1lbWJlcmVkIG9iamVjdHMgdG8gYSBtYXAgb2YgY29udHJvbGxlcnMsIG9ubHkgdXNlZFxuXHQgICAqIGluIHRvcCBsZXZlbCBHVUkuXG5cdCAgICpcblx0ICAgKiBAcHJpdmF0ZVxuXHQgICAqIEBpZ25vcmVcblx0ICAgKlxuXHQgICAqIEBleGFtcGxlXG5cdCAgICogW1xuXHQgICAqICB7XG5cdCAgICAgKiAgICBwcm9wZXJ0eU5hbWU6IENvbnRyb2xsZXIsXG5cdCAgICAgKiAgICBhbm90aGVyUHJvcGVydHlOYW1lOiBDb250cm9sbGVyXG5cdCAgICAgKiAgfSxcblx0ICAgKiAge1xuXHQgICAgICogICAgcHJvcGVydHlOYW1lOiBDb250cm9sbGVyXG5cdCAgICAgKiAgfVxuXHQgICAqIF1cblx0ICAgKi9cblx0ICB0aGlzLl9fcmVtZW1iZXJlZE9iamVjdEluZGVjZXNUb0NvbnRyb2xsZXJzID0gW107XG5cdFxuXHQgIHRoaXMuX19saXN0ZW5pbmcgPSBbXTtcblx0XG5cdCAgLy8gRGVmYXVsdCBwYXJhbWV0ZXJzXG5cdCAgcGFyYW1zID0gX2NvbW1vbjIuZGVmYXVsdC5kZWZhdWx0cyhwYXJhbXMsIHtcblx0ICAgIGNsb3NlT25Ub3A6IGZhbHNlLFxuXHQgICAgYXV0b1BsYWNlOiB0cnVlLFxuXHQgICAgd2lkdGg6IEdVSS5ERUZBVUxUX1dJRFRIXG5cdCAgfSk7XG5cdFxuXHQgIHBhcmFtcyA9IF9jb21tb24yLmRlZmF1bHQuZGVmYXVsdHMocGFyYW1zLCB7XG5cdCAgICByZXNpemFibGU6IHBhcmFtcy5hdXRvUGxhY2UsXG5cdCAgICBoaWRlYWJsZTogcGFyYW1zLmF1dG9QbGFjZVxuXHQgIH0pO1xuXHRcblx0ICBpZiAoIV9jb21tb24yLmRlZmF1bHQuaXNVbmRlZmluZWQocGFyYW1zLmxvYWQpKSB7XG5cdCAgICAvLyBFeHBsaWNpdCBwcmVzZXRcblx0ICAgIGlmIChwYXJhbXMucHJlc2V0KSB7XG5cdCAgICAgIHBhcmFtcy5sb2FkLnByZXNldCA9IHBhcmFtcy5wcmVzZXQ7XG5cdCAgICB9XG5cdCAgfSBlbHNlIHtcblx0ICAgIHBhcmFtcy5sb2FkID0geyBwcmVzZXQ6IERFRkFVTFRfREVGQVVMVF9QUkVTRVRfTkFNRSB9O1xuXHQgIH1cblx0XG5cdCAgaWYgKF9jb21tb24yLmRlZmF1bHQuaXNVbmRlZmluZWQocGFyYW1zLnBhcmVudCkgJiYgcGFyYW1zLmhpZGVhYmxlKSB7XG5cdCAgICBoaWRlYWJsZUd1aXMucHVzaCh0aGlzKTtcblx0ICB9XG5cdFxuXHQgIC8vIE9ubHkgcm9vdCBsZXZlbCBHVUkncyBhcmUgcmVzaXphYmxlLlxuXHQgIHBhcmFtcy5yZXNpemFibGUgPSBfY29tbW9uMi5kZWZhdWx0LmlzVW5kZWZpbmVkKHBhcmFtcy5wYXJlbnQpICYmIHBhcmFtcy5yZXNpemFibGU7XG5cdFxuXHQgIGlmIChwYXJhbXMuYXV0b1BsYWNlICYmIF9jb21tb24yLmRlZmF1bHQuaXNVbmRlZmluZWQocGFyYW1zLnNjcm9sbGFibGUpKSB7XG5cdCAgICBwYXJhbXMuc2Nyb2xsYWJsZSA9IHRydWU7XG5cdCAgfVxuXHQgIC8vICAgIHBhcmFtcy5zY3JvbGxhYmxlID0gY29tbW9uLmlzVW5kZWZpbmVkKHBhcmFtcy5wYXJlbnQpICYmIHBhcmFtcy5zY3JvbGxhYmxlID09PSB0cnVlO1xuXHRcblx0ICAvLyBOb3QgcGFydCBvZiBwYXJhbXMgYmVjYXVzZSBJIGRvbid0IHdhbnQgcGVvcGxlIHBhc3NpbmcgdGhpcyBpbiB2aWFcblx0ICAvLyBjb25zdHJ1Y3Rvci4gU2hvdWxkIGJlIGEgJ3JlbWVtYmVyZWQnIHZhbHVlLlxuXHQgIHZhciB1c2VMb2NhbFN0b3JhZ2UgPSBTVVBQT1JUU19MT0NBTF9TVE9SQUdFICYmIGxvY2FsU3RvcmFnZS5nZXRJdGVtKGdldExvY2FsU3RvcmFnZUhhc2godGhpcywgJ2lzTG9jYWwnKSkgPT09ICd0cnVlJztcblx0XG5cdCAgdmFyIHNhdmVUb0xvY2FsU3RvcmFnZSA9IHZvaWQgMDtcblx0XG5cdCAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcyxcblx0ICAvKiogQGxlbmRzIGRhdC5ndWkuR1VJLnByb3RvdHlwZSAqL1xuXHQgIHtcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIHBhcmVudCA8Y29kZT5HVUk8L2NvZGU+XG5cdCAgICAgKiBAdHlwZSBkYXQuZ3VpLkdVSVxuXHQgICAgICovXG5cdCAgICBwYXJlbnQ6IHtcblx0ICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgICAgcmV0dXJuIHBhcmFtcy5wYXJlbnQ7XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cdFxuXHQgICAgc2Nyb2xsYWJsZToge1xuXHQgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgICByZXR1cm4gcGFyYW1zLnNjcm9sbGFibGU7XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBIYW5kbGVzIDxjb2RlPkdVSTwvY29kZT4ncyBlbGVtZW50IHBsYWNlbWVudCBmb3IgeW91XG5cdCAgICAgKiBAdHlwZSBCb29sZWFuXG5cdCAgICAgKi9cblx0ICAgIGF1dG9QbGFjZToge1xuXHQgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgICByZXR1cm4gcGFyYW1zLmF1dG9QbGFjZTtcblx0ICAgICAgfVxuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIEhhbmRsZXMgPGNvZGU+R1VJPC9jb2RlPidzIHBvc2l0aW9uIG9mIG9wZW4vY2xvc2UgYnV0dG9uXG5cdCAgICAgKiBAdHlwZSBCb29sZWFuXG5cdCAgICAgKi9cblx0ICAgIGNsb3NlT25Ub3A6IHtcblx0ICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgICAgcmV0dXJuIHBhcmFtcy5jbG9zZU9uVG9wO1xuXHQgICAgICB9XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGlkZW50aWZpZXIgZm9yIGEgc2V0IG9mIHNhdmVkIHZhbHVlc1xuXHQgICAgICogQHR5cGUgU3RyaW5nXG5cdCAgICAgKi9cblx0ICAgIHByZXNldDoge1xuXHQgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgICBpZiAoX3RoaXMucGFyZW50KSB7XG5cdCAgICAgICAgICByZXR1cm4gX3RoaXMuZ2V0Um9vdCgpLnByZXNldDtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiBwYXJhbXMubG9hZC5wcmVzZXQ7XG5cdCAgICAgIH0sXG5cdFxuXHQgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2KSB7XG5cdCAgICAgICAgaWYgKF90aGlzLnBhcmVudCkge1xuXHQgICAgICAgICAgX3RoaXMuZ2V0Um9vdCgpLnByZXNldCA9IHY7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHBhcmFtcy5sb2FkLnByZXNldCA9IHY7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHNldFByZXNldFNlbGVjdEluZGV4KHRoaXMpO1xuXHQgICAgICAgIF90aGlzLnJldmVydCgpO1xuXHQgICAgICB9XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIHdpZHRoIG9mIDxjb2RlPkdVSTwvY29kZT4gZWxlbWVudFxuXHQgICAgICogQHR5cGUgTnVtYmVyXG5cdCAgICAgKi9cblx0ICAgIHdpZHRoOiB7XG5cdCAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICAgIHJldHVybiBwYXJhbXMud2lkdGg7XG5cdCAgICAgIH0sXG5cdCAgICAgIHNldDogZnVuY3Rpb24gc2V0KHYpIHtcblx0ICAgICAgICBwYXJhbXMud2lkdGggPSB2O1xuXHQgICAgICAgIHNldFdpZHRoKF90aGlzLCB2KTtcblx0ICAgICAgfVxuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSBuYW1lIG9mIDxjb2RlPkdVSTwvY29kZT4uIFVzZWQgZm9yIGZvbGRlcnMuIGkuZVxuXHQgICAgICogYSBmb2xkZXIncyBuYW1lXG5cdCAgICAgKiBAdHlwZSBTdHJpbmdcblx0ICAgICAqL1xuXHQgICAgbmFtZToge1xuXHQgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgICByZXR1cm4gcGFyYW1zLm5hbWU7XG5cdCAgICAgIH0sXG5cdCAgICAgIHNldDogZnVuY3Rpb24gc2V0KHYpIHtcblx0ICAgICAgICAvLyBUT0RPIENoZWNrIGZvciBjb2xsaXNpb25zIGFtb25nIHNpYmxpbmcgZm9sZGVyc1xuXHQgICAgICAgIHBhcmFtcy5uYW1lID0gdjtcblx0ICAgICAgICBpZiAodGl0bGVSb3dOYW1lKSB7XG5cdCAgICAgICAgICB0aXRsZVJvd05hbWUuaW5uZXJIVE1MID0gcGFyYW1zLm5hbWU7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogV2hldGhlciB0aGUgPGNvZGU+R1VJPC9jb2RlPiBpcyBjb2xsYXBzZWQgb3Igbm90XG5cdCAgICAgKiBAdHlwZSBCb29sZWFuXG5cdCAgICAgKi9cblx0ICAgIGNsb3NlZDoge1xuXHQgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgICByZXR1cm4gcGFyYW1zLmNsb3NlZDtcblx0ICAgICAgfSxcblx0ICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodikge1xuXHQgICAgICAgIHBhcmFtcy5jbG9zZWQgPSB2O1xuXHQgICAgICAgIGlmIChwYXJhbXMuY2xvc2VkKSB7XG5cdCAgICAgICAgICBfZG9tMi5kZWZhdWx0LmFkZENsYXNzKF90aGlzLl9fdWwsIEdVSS5DTEFTU19DTE9TRUQpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBfZG9tMi5kZWZhdWx0LnJlbW92ZUNsYXNzKF90aGlzLl9fdWwsIEdVSS5DTEFTU19DTE9TRUQpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICAvLyBGb3IgYnJvd3NlcnMgdGhhdCBhcmVuJ3QgZ29pbmcgdG8gcmVzcGVjdCB0aGUgQ1NTIHRyYW5zaXRpb24sXG5cdCAgICAgICAgLy8gTGV0cyBqdXN0IGNoZWNrIG91ciBoZWlnaHQgYWdhaW5zdCB0aGUgd2luZG93IGhlaWdodCByaWdodCBvZmZcblx0ICAgICAgICAvLyB0aGUgYmF0LlxuXHQgICAgICAgIHRoaXMub25SZXNpemUoKTtcblx0XG5cdCAgICAgICAgaWYgKF90aGlzLl9fY2xvc2VCdXR0b24pIHtcblx0ICAgICAgICAgIF90aGlzLl9fY2xvc2VCdXR0b24uaW5uZXJIVE1MID0gdiA/IEdVSS5URVhUX09QRU4gOiBHVUkuVEVYVF9DTE9TRUQ7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ29udGFpbnMgYWxsIHByZXNldHNcblx0ICAgICAqIEB0eXBlIE9iamVjdFxuXHQgICAgICovXG5cdCAgICBsb2FkOiB7XG5cdCAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICAgIHJldHVybiBwYXJhbXMubG9hZDtcblx0ICAgICAgfVxuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIERldGVybWluZXMgd2hldGhlciBvciBub3QgdG8gdXNlIDxhIGhyZWY9XCJodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9ET00vU3RvcmFnZSNsb2NhbFN0b3JhZ2VcIj5sb2NhbFN0b3JhZ2U8L2E+IGFzIHRoZSBtZWFucyBmb3Jcblx0ICAgICAqIDxjb2RlPnJlbWVtYmVyPC9jb2RlPmluZ1xuXHQgICAgICogQHR5cGUgQm9vbGVhblxuXHQgICAgICovXG5cdCAgICB1c2VMb2NhbFN0b3JhZ2U6IHtcblx0XG5cdCAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICAgIHJldHVybiB1c2VMb2NhbFN0b3JhZ2U7XG5cdCAgICAgIH0sXG5cdCAgICAgIHNldDogZnVuY3Rpb24gc2V0KGJvb2wpIHtcblx0ICAgICAgICBpZiAoU1VQUE9SVFNfTE9DQUxfU1RPUkFHRSkge1xuXHQgICAgICAgICAgdXNlTG9jYWxTdG9yYWdlID0gYm9vbDtcblx0ICAgICAgICAgIGlmIChib29sKSB7XG5cdCAgICAgICAgICAgIF9kb20yLmRlZmF1bHQuYmluZCh3aW5kb3csICd1bmxvYWQnLCBzYXZlVG9Mb2NhbFN0b3JhZ2UpO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgX2RvbTIuZGVmYXVsdC51bmJpbmQod2luZG93LCAndW5sb2FkJywgc2F2ZVRvTG9jYWxTdG9yYWdlKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGdldExvY2FsU3RvcmFnZUhhc2goX3RoaXMsICdpc0xvY2FsJyksIGJvb2wpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0pO1xuXHRcblx0ICAvLyBBcmUgd2UgYSByb290IGxldmVsIEdVST9cblx0ICBpZiAoX2NvbW1vbjIuZGVmYXVsdC5pc1VuZGVmaW5lZChwYXJhbXMucGFyZW50KSkge1xuXHQgICAgcGFyYW1zLmNsb3NlZCA9IGZhbHNlO1xuXHRcblx0ICAgIF9kb20yLmRlZmF1bHQuYWRkQ2xhc3ModGhpcy5kb21FbGVtZW50LCBHVUkuQ0xBU1NfTUFJTik7XG5cdCAgICBfZG9tMi5kZWZhdWx0Lm1ha2VTZWxlY3RhYmxlKHRoaXMuZG9tRWxlbWVudCwgZmFsc2UpO1xuXHRcblx0ICAgIC8vIEFyZSB3ZSBzdXBwb3NlZCB0byBiZSBsb2FkaW5nIGxvY2FsbHk/XG5cdCAgICBpZiAoU1VQUE9SVFNfTE9DQUxfU1RPUkFHRSkge1xuXHQgICAgICBpZiAodXNlTG9jYWxTdG9yYWdlKSB7XG5cdCAgICAgICAgX3RoaXMudXNlTG9jYWxTdG9yYWdlID0gdHJ1ZTtcblx0XG5cdCAgICAgICAgdmFyIHNhdmVkR3VpID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oZ2V0TG9jYWxTdG9yYWdlSGFzaCh0aGlzLCAnZ3VpJykpO1xuXHRcblx0ICAgICAgICBpZiAoc2F2ZWRHdWkpIHtcblx0ICAgICAgICAgIHBhcmFtcy5sb2FkID0gSlNPTi5wYXJzZShzYXZlZEd1aSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgdGhpcy5fX2Nsb3NlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdCAgICB0aGlzLl9fY2xvc2VCdXR0b24uaW5uZXJIVE1MID0gR1VJLlRFWFRfQ0xPU0VEO1xuXHQgICAgX2RvbTIuZGVmYXVsdC5hZGRDbGFzcyh0aGlzLl9fY2xvc2VCdXR0b24sIEdVSS5DTEFTU19DTE9TRV9CVVRUT04pO1xuXHQgICAgaWYgKHBhcmFtcy5jbG9zZU9uVG9wKSB7XG5cdCAgICAgIF9kb20yLmRlZmF1bHQuYWRkQ2xhc3ModGhpcy5fX2Nsb3NlQnV0dG9uLCBHVUkuQ0xBU1NfQ0xPU0VfVE9QKTtcblx0ICAgICAgdGhpcy5kb21FbGVtZW50Lmluc2VydEJlZm9yZSh0aGlzLl9fY2xvc2VCdXR0b24sIHRoaXMuZG9tRWxlbWVudC5jaGlsZE5vZGVzWzBdKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIF9kb20yLmRlZmF1bHQuYWRkQ2xhc3ModGhpcy5fX2Nsb3NlQnV0dG9uLCBHVUkuQ0xBU1NfQ0xPU0VfQk9UVE9NKTtcblx0ICAgICAgdGhpcy5kb21FbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX19jbG9zZUJ1dHRvbik7XG5cdCAgICB9XG5cdFxuXHQgICAgX2RvbTIuZGVmYXVsdC5iaW5kKHRoaXMuX19jbG9zZUJ1dHRvbiwgJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICBfdGhpcy5jbG9zZWQgPSAhX3RoaXMuY2xvc2VkO1xuXHQgICAgfSk7XG5cdCAgICAvLyBPaCwgeW91J3JlIGEgbmVzdGVkIEdVSSFcblx0ICB9IGVsc2Uge1xuXHQgICAgaWYgKHBhcmFtcy5jbG9zZWQgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICBwYXJhbXMuY2xvc2VkID0gdHJ1ZTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgX3RpdGxlUm93TmFtZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHBhcmFtcy5uYW1lKTtcblx0ICAgIF9kb20yLmRlZmF1bHQuYWRkQ2xhc3MoX3RpdGxlUm93TmFtZSwgJ2NvbnRyb2xsZXItbmFtZScpO1xuXHRcblx0ICAgIHZhciB0aXRsZVJvdyA9IGFkZFJvdyhfdGhpcywgX3RpdGxlUm93TmFtZSk7XG5cdFxuXHQgICAgdmFyIG9uQ2xpY2tUaXRsZSA9IGZ1bmN0aW9uIG9uQ2xpY2tUaXRsZShlKSB7XG5cdCAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblx0ICAgICAgX3RoaXMuY2xvc2VkID0gIV90aGlzLmNsb3NlZDtcblx0ICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfTtcblx0XG5cdCAgICBfZG9tMi5kZWZhdWx0LmFkZENsYXNzKHRoaXMuX191bCwgR1VJLkNMQVNTX0NMT1NFRCk7XG5cdFxuXHQgICAgX2RvbTIuZGVmYXVsdC5hZGRDbGFzcyh0aXRsZVJvdywgJ3RpdGxlJyk7XG5cdCAgICBfZG9tMi5kZWZhdWx0LmJpbmQodGl0bGVSb3csICdjbGljaycsIG9uQ2xpY2tUaXRsZSk7XG5cdFxuXHQgICAgaWYgKCFwYXJhbXMuY2xvc2VkKSB7XG5cdCAgICAgIHRoaXMuY2xvc2VkID0gZmFsc2U7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBpZiAocGFyYW1zLmF1dG9QbGFjZSkge1xuXHQgICAgaWYgKF9jb21tb24yLmRlZmF1bHQuaXNVbmRlZmluZWQocGFyYW1zLnBhcmVudCkpIHtcblx0ICAgICAgaWYgKGF1dG9QbGFjZVZpcmdpbikge1xuXHQgICAgICAgIGF1dG9QbGFjZUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHQgICAgICAgIF9kb20yLmRlZmF1bHQuYWRkQ2xhc3MoYXV0b1BsYWNlQ29udGFpbmVyLCBDU1NfTkFNRVNQQUNFKTtcblx0ICAgICAgICBfZG9tMi5kZWZhdWx0LmFkZENsYXNzKGF1dG9QbGFjZUNvbnRhaW5lciwgR1VJLkNMQVNTX0FVVE9fUExBQ0VfQ09OVEFJTkVSKTtcblx0ICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGF1dG9QbGFjZUNvbnRhaW5lcik7XG5cdCAgICAgICAgYXV0b1BsYWNlVmlyZ2luID0gZmFsc2U7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIC8vIFB1dCBpdCBpbiB0aGUgZG9tIGZvciB5b3UuXG5cdCAgICAgIGF1dG9QbGFjZUNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmRvbUVsZW1lbnQpO1xuXHRcblx0ICAgICAgLy8gQXBwbHkgdGhlIGF1dG8gc3R5bGVzXG5cdCAgICAgIF9kb20yLmRlZmF1bHQuYWRkQ2xhc3ModGhpcy5kb21FbGVtZW50LCBHVUkuQ0xBU1NfQVVUT19QTEFDRSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gTWFrZSBpdCBub3QgZWxhc3RpYy5cblx0ICAgIGlmICghdGhpcy5wYXJlbnQpIHtcblx0ICAgICAgc2V0V2lkdGgoX3RoaXMsIHBhcmFtcy53aWR0aCk7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICB0aGlzLl9fcmVzaXplSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIF90aGlzLm9uUmVzaXplRGVib3VuY2VkKCk7XG5cdCAgfTtcblx0XG5cdCAgX2RvbTIuZGVmYXVsdC5iaW5kKHdpbmRvdywgJ3Jlc2l6ZScsIHRoaXMuX19yZXNpemVIYW5kbGVyKTtcblx0ICBfZG9tMi5kZWZhdWx0LmJpbmQodGhpcy5fX3VsLCAnd2Via2l0VHJhbnNpdGlvbkVuZCcsIHRoaXMuX19yZXNpemVIYW5kbGVyKTtcblx0ICBfZG9tMi5kZWZhdWx0LmJpbmQodGhpcy5fX3VsLCAndHJhbnNpdGlvbmVuZCcsIHRoaXMuX19yZXNpemVIYW5kbGVyKTtcblx0ICBfZG9tMi5kZWZhdWx0LmJpbmQodGhpcy5fX3VsLCAnb1RyYW5zaXRpb25FbmQnLCB0aGlzLl9fcmVzaXplSGFuZGxlcik7XG5cdCAgdGhpcy5vblJlc2l6ZSgpO1xuXHRcblx0ICBpZiAocGFyYW1zLnJlc2l6YWJsZSkge1xuXHQgICAgYWRkUmVzaXplSGFuZGxlKHRoaXMpO1xuXHQgIH1cblx0XG5cdCAgc2F2ZVRvTG9jYWxTdG9yYWdlID0gZnVuY3Rpb24gc2F2ZVRvTG9jYWxTdG9yYWdlKCkge1xuXHQgICAgaWYgKFNVUFBPUlRTX0xPQ0FMX1NUT1JBR0UgJiYgbG9jYWxTdG9yYWdlLmdldEl0ZW0oZ2V0TG9jYWxTdG9yYWdlSGFzaChfdGhpcywgJ2lzTG9jYWwnKSkgPT09ICd0cnVlJykge1xuXHQgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShnZXRMb2NhbFN0b3JhZ2VIYXNoKF90aGlzLCAnZ3VpJyksIEpTT04uc3RyaW5naWZ5KF90aGlzLmdldFNhdmVPYmplY3QoKSkpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIC8vIGV4cG9zZSB0aGlzIG1ldGhvZCBwdWJsaWNseVxuXHQgIHRoaXMuc2F2ZVRvTG9jYWxTdG9yYWdlSWZQb3NzaWJsZSA9IHNhdmVUb0xvY2FsU3RvcmFnZTtcblx0XG5cdCAgZnVuY3Rpb24gcmVzZXRXaWR0aCgpIHtcblx0ICAgIHZhciByb290ID0gX3RoaXMuZ2V0Um9vdCgpO1xuXHQgICAgcm9vdC53aWR0aCArPSAxO1xuXHQgICAgX2NvbW1vbjIuZGVmYXVsdC5kZWZlcihmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHJvb3Qud2lkdGggLT0gMTtcblx0ICAgIH0pO1xuXHQgIH1cblx0XG5cdCAgaWYgKCFwYXJhbXMucGFyZW50KSB7XG5cdCAgICByZXNldFdpZHRoKCk7XG5cdCAgfVxuXHR9O1xuXHRcblx0R1VJLnRvZ2dsZUhpZGUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgaGlkZSA9ICFoaWRlO1xuXHQgIF9jb21tb24yLmRlZmF1bHQuZWFjaChoaWRlYWJsZUd1aXMsIGZ1bmN0aW9uIChndWkpIHtcblx0ICAgIGd1aS5kb21FbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBoaWRlID8gJ25vbmUnIDogJyc7XG5cdCAgfSk7XG5cdH07XG5cdFxuXHRHVUkuQ0xBU1NfQVVUT19QTEFDRSA9ICdhJztcblx0R1VJLkNMQVNTX0FVVE9fUExBQ0VfQ09OVEFJTkVSID0gJ2FjJztcblx0R1VJLkNMQVNTX01BSU4gPSAnbWFpbic7XG5cdEdVSS5DTEFTU19DT05UUk9MTEVSX1JPVyA9ICdjcic7XG5cdEdVSS5DTEFTU19UT09fVEFMTCA9ICd0YWxsZXItdGhhbi13aW5kb3cnO1xuXHRHVUkuQ0xBU1NfQ0xPU0VEID0gJ2Nsb3NlZCc7XG5cdEdVSS5DTEFTU19DTE9TRV9CVVRUT04gPSAnY2xvc2UtYnV0dG9uJztcblx0R1VJLkNMQVNTX0NMT1NFX1RPUCA9ICdjbG9zZS10b3AnO1xuXHRHVUkuQ0xBU1NfQ0xPU0VfQk9UVE9NID0gJ2Nsb3NlLWJvdHRvbSc7XG5cdEdVSS5DTEFTU19EUkFHID0gJ2RyYWcnO1xuXHRcblx0R1VJLkRFRkFVTFRfV0lEVEggPSAyNDU7XG5cdEdVSS5URVhUX0NMT1NFRCA9ICdDbG9zZSBDb250cm9scyc7XG5cdEdVSS5URVhUX09QRU4gPSAnT3BlbiBDb250cm9scyc7XG5cdFxuXHRHVUkuX2tleWRvd25IYW5kbGVyID0gZnVuY3Rpb24gKGUpIHtcblx0ICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudC50eXBlICE9PSAndGV4dCcgJiYgKGUud2hpY2ggPT09IEhJREVfS0VZX0NPREUgfHwgZS5rZXlDb2RlID09PSBISURFX0tFWV9DT0RFKSkge1xuXHQgICAgR1VJLnRvZ2dsZUhpZGUoKTtcblx0ICB9XG5cdH07XG5cdF9kb20yLmRlZmF1bHQuYmluZCh3aW5kb3csICdrZXlkb3duJywgR1VJLl9rZXlkb3duSGFuZGxlciwgZmFsc2UpO1xuXHRcblx0X2NvbW1vbjIuZGVmYXVsdC5leHRlbmQoR1VJLnByb3RvdHlwZSxcblx0XG5cdC8qKiBAbGVuZHMgZGF0Lmd1aS5HVUkgKi9cblx0e1xuXHRcblx0ICAvKipcblx0ICAgKiBAcGFyYW0gb2JqZWN0XG5cdCAgICogQHBhcmFtIHByb3BlcnR5XG5cdCAgICogQHJldHVybnMge2RhdC5jb250cm9sbGVycy5Db250cm9sbGVyfSBUaGUgbmV3IGNvbnRyb2xsZXIgdGhhdCB3YXMgYWRkZWQuXG5cdCAgICogQGluc3RhbmNlXG5cdCAgICovXG5cdCAgYWRkOiBmdW5jdGlvbiBhZGQob2JqZWN0LCBwcm9wZXJ0eSkge1xuXHQgICAgcmV0dXJuIF9hZGQodGhpcywgb2JqZWN0LCBwcm9wZXJ0eSwge1xuXHQgICAgICBmYWN0b3J5QXJnczogQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKVxuXHQgICAgfSk7XG5cdCAgfSxcblx0XG5cdCAgLyoqXG5cdCAgICogQHBhcmFtIG9iamVjdFxuXHQgICAqIEBwYXJhbSBwcm9wZXJ0eVxuXHQgICAqIEByZXR1cm5zIHtkYXQuY29udHJvbGxlcnMuQ29sb3JDb250cm9sbGVyfSBUaGUgbmV3IGNvbnRyb2xsZXIgdGhhdCB3YXMgYWRkZWQuXG5cdCAgICogQGluc3RhbmNlXG5cdCAgICovXG5cdCAgYWRkQ29sb3I6IGZ1bmN0aW9uIGFkZENvbG9yKG9iamVjdCwgcHJvcGVydHkpIHtcblx0ICAgIHJldHVybiBfYWRkKHRoaXMsIG9iamVjdCwgcHJvcGVydHksIHtcblx0ICAgICAgY29sb3I6IHRydWVcblx0ICAgIH0pO1xuXHQgIH0sXG5cdFxuXHQgIC8qKlxuXHQgICAqIEBwYXJhbSBjb250cm9sbGVyXG5cdCAgICogQGluc3RhbmNlXG5cdCAgICovXG5cdCAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoY29udHJvbGxlcikge1xuXHQgICAgLy8gVE9ETyBsaXN0ZW5pbmc/XG5cdCAgICB0aGlzLl9fdWwucmVtb3ZlQ2hpbGQoY29udHJvbGxlci5fX2xpKTtcblx0ICAgIHRoaXMuX19jb250cm9sbGVycy5zcGxpY2UodGhpcy5fX2NvbnRyb2xsZXJzLmluZGV4T2YoY29udHJvbGxlciksIDEpO1xuXHQgICAgdmFyIF90aGlzID0gdGhpcztcblx0ICAgIF9jb21tb24yLmRlZmF1bHQuZGVmZXIoZnVuY3Rpb24gKCkge1xuXHQgICAgICBfdGhpcy5vblJlc2l6ZSgpO1xuXHQgICAgfSk7XG5cdCAgfSxcblx0XG5cdCAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHtcblx0ICAgIGlmICh0aGlzLmF1dG9QbGFjZSkge1xuXHQgICAgICBhdXRvUGxhY2VDb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy5kb21FbGVtZW50KTtcblx0ICAgIH1cblx0XG5cdCAgICBfZG9tMi5kZWZhdWx0LnVuYmluZCh3aW5kb3csICdrZXlkb3duJywgR1VJLl9rZXlkb3duSGFuZGxlciwgZmFsc2UpO1xuXHQgICAgX2RvbTIuZGVmYXVsdC51bmJpbmQod2luZG93LCAncmVzaXplJywgdGhpcy5fX3Jlc2l6ZUhhbmRsZXIpO1xuXHRcblx0ICAgIGlmICh0aGlzLnNhdmVUb0xvY2FsU3RvcmFnZUlmUG9zc2libGUpIHtcblx0ICAgICAgX2RvbTIuZGVmYXVsdC51bmJpbmQod2luZG93LCAndW5sb2FkJywgdGhpcy5zYXZlVG9Mb2NhbFN0b3JhZ2VJZlBvc3NpYmxlKTtcblx0ICAgIH1cblx0ICB9LFxuXHRcblx0ICAvKipcblx0ICAgKiBAcGFyYW0gbmFtZVxuXHQgICAqIEByZXR1cm5zIHtkYXQuZ3VpLkdVSX0gVGhlIG5ldyBmb2xkZXIuXG5cdCAgICogQHRocm93cyB7RXJyb3J9IGlmIHRoaXMgR1VJIGFscmVhZHkgaGFzIGEgZm9sZGVyIGJ5IHRoZSBzcGVjaWZpZWRcblx0ICAgKiBuYW1lXG5cdCAgICogQGluc3RhbmNlXG5cdCAgICovXG5cdCAgYWRkRm9sZGVyOiBmdW5jdGlvbiBhZGRGb2xkZXIobmFtZSkge1xuXHQgICAgLy8gV2UgaGF2ZSB0byBwcmV2ZW50IGNvbGxpc2lvbnMgb24gbmFtZXMgaW4gb3JkZXIgdG8gaGF2ZSBhIGtleVxuXHQgICAgLy8gYnkgd2hpY2ggdG8gcmVtZW1iZXIgc2F2ZWQgdmFsdWVzXG5cdCAgICBpZiAodGhpcy5fX2ZvbGRlcnNbbmFtZV0gIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBhbHJlYWR5IGhhdmUgYSBmb2xkZXIgaW4gdGhpcyBHVUkgYnkgdGhlJyArICcgbmFtZSBcIicgKyBuYW1lICsgJ1wiJyk7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIG5ld0d1aVBhcmFtcyA9IHsgbmFtZTogbmFtZSwgcGFyZW50OiB0aGlzIH07XG5cdFxuXHQgICAgLy8gV2UgbmVlZCB0byBwYXNzIGRvd24gdGhlIGF1dG9QbGFjZSB0cmFpdCBzbyB0aGF0IHdlIGNhblxuXHQgICAgLy8gYXR0YWNoIGV2ZW50IGxpc3RlbmVycyB0byBvcGVuL2Nsb3NlIGZvbGRlciBhY3Rpb25zIHRvXG5cdCAgICAvLyBlbnN1cmUgdGhhdCBhIHNjcm9sbGJhciBhcHBlYXJzIGlmIHRoZSB3aW5kb3cgaXMgdG9vIHNob3J0LlxuXHQgICAgbmV3R3VpUGFyYW1zLmF1dG9QbGFjZSA9IHRoaXMuYXV0b1BsYWNlO1xuXHRcblx0ICAgIC8vIERvIHdlIGhhdmUgc2F2ZWQgYXBwZWFyYW5jZSBkYXRhIGZvciB0aGlzIGZvbGRlcj9cblx0ICAgIGlmICh0aGlzLmxvYWQgJiYgLy8gQW55dGhpbmcgbG9hZGVkP1xuXHQgICAgdGhpcy5sb2FkLmZvbGRlcnMgJiYgLy8gV2FzIG15IHBhcmVudCBhIGRlYWQtZW5kP1xuXHQgICAgdGhpcy5sb2FkLmZvbGRlcnNbbmFtZV0pIHtcblx0ICAgICAgLy8gRGlkIGRhZGR5IHJlbWVtYmVyIG1lP1xuXHQgICAgICAvLyBTdGFydCBtZSBjbG9zZWQgaWYgSSB3YXMgY2xvc2VkXG5cdCAgICAgIG5ld0d1aVBhcmFtcy5jbG9zZWQgPSB0aGlzLmxvYWQuZm9sZGVyc1tuYW1lXS5jbG9zZWQ7XG5cdFxuXHQgICAgICAvLyBQYXNzIGRvd24gdGhlIGxvYWRlZCBkYXRhXG5cdCAgICAgIG5ld0d1aVBhcmFtcy5sb2FkID0gdGhpcy5sb2FkLmZvbGRlcnNbbmFtZV07XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGd1aSA9IG5ldyBHVUkobmV3R3VpUGFyYW1zKTtcblx0ICAgIHRoaXMuX19mb2xkZXJzW25hbWVdID0gZ3VpO1xuXHRcblx0ICAgIHZhciBsaSA9IGFkZFJvdyh0aGlzLCBndWkuZG9tRWxlbWVudCk7XG5cdCAgICBfZG9tMi5kZWZhdWx0LmFkZENsYXNzKGxpLCAnZm9sZGVyJyk7XG5cdCAgICByZXR1cm4gZ3VpO1xuXHQgIH0sXG5cdFxuXHQgIG9wZW46IGZ1bmN0aW9uIG9wZW4oKSB7XG5cdCAgICB0aGlzLmNsb3NlZCA9IGZhbHNlO1xuXHQgIH0sXG5cdFxuXHQgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHtcblx0ICAgIHRoaXMuY2xvc2VkID0gdHJ1ZTtcblx0ICB9LFxuXHRcblx0ICBvblJlc2l6ZTogZnVuY3Rpb24gb25SZXNpemUoKSB7XG5cdCAgICAvLyB3ZSBkZWJvdW5jZSB0aGlzIGZ1bmN0aW9uIHRvIHByZXZlbnQgcGVyZm9ybWFuY2UgaXNzdWVzIHdoZW4gcm90YXRpbmcgb24gdGFibGV0L21vYmlsZVxuXHQgICAgdmFyIHJvb3QgPSB0aGlzLmdldFJvb3QoKTtcblx0ICAgIGlmIChyb290LnNjcm9sbGFibGUpIHtcblx0ICAgICAgdmFyIHRvcCA9IF9kb20yLmRlZmF1bHQuZ2V0T2Zmc2V0KHJvb3QuX191bCkudG9wO1xuXHQgICAgICB2YXIgaCA9IDA7XG5cdFxuXHQgICAgICBfY29tbW9uMi5kZWZhdWx0LmVhY2gocm9vdC5fX3VsLmNoaWxkTm9kZXMsIGZ1bmN0aW9uIChub2RlKSB7XG5cdCAgICAgICAgaWYgKCEocm9vdC5hdXRvUGxhY2UgJiYgbm9kZSA9PT0gcm9vdC5fX3NhdmVfcm93KSkge1xuXHQgICAgICAgICAgaCArPSBfZG9tMi5kZWZhdWx0LmdldEhlaWdodChub2RlKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgaWYgKHdpbmRvdy5pbm5lckhlaWdodCAtIHRvcCAtIENMT1NFX0JVVFRPTl9IRUlHSFQgPCBoKSB7XG5cdCAgICAgICAgX2RvbTIuZGVmYXVsdC5hZGRDbGFzcyhyb290LmRvbUVsZW1lbnQsIEdVSS5DTEFTU19UT09fVEFMTCk7XG5cdCAgICAgICAgcm9vdC5fX3VsLnN0eWxlLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCAtIHRvcCAtIENMT1NFX0JVVFRPTl9IRUlHSFQgKyAncHgnO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIF9kb20yLmRlZmF1bHQucmVtb3ZlQ2xhc3Mocm9vdC5kb21FbGVtZW50LCBHVUkuQ0xBU1NfVE9PX1RBTEwpO1xuXHQgICAgICAgIHJvb3QuX191bC5zdHlsZS5oZWlnaHQgPSAnYXV0byc7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBpZiAocm9vdC5fX3Jlc2l6ZV9oYW5kbGUpIHtcblx0ICAgICAgX2NvbW1vbjIuZGVmYXVsdC5kZWZlcihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgcm9vdC5fX3Jlc2l6ZV9oYW5kbGUuc3R5bGUuaGVpZ2h0ID0gcm9vdC5fX3VsLm9mZnNldEhlaWdodCArICdweCc7XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChyb290Ll9fY2xvc2VCdXR0b24pIHtcblx0ICAgICAgcm9vdC5fX2Nsb3NlQnV0dG9uLnN0eWxlLndpZHRoID0gcm9vdC53aWR0aCArICdweCc7XG5cdCAgICB9XG5cdCAgfSxcblx0XG5cdCAgb25SZXNpemVEZWJvdW5jZWQ6IF9jb21tb24yLmRlZmF1bHQuZGVib3VuY2UoZnVuY3Rpb24gKCkge1xuXHQgICAgdGhpcy5vblJlc2l6ZSgpO1xuXHQgIH0sIDUwKSxcblx0XG5cdCAgLyoqXG5cdCAgICogTWFyayBvYmplY3RzIGZvciBzYXZpbmcuIFRoZSBvcmRlciBvZiB0aGVzZSBvYmplY3RzIGNhbm5vdCBjaGFuZ2UgYXNcblx0ICAgKiB0aGUgR1VJIGdyb3dzLiBXaGVuIHJlbWVtYmVyaW5nIG5ldyBvYmplY3RzLCBhcHBlbmQgdGhlbSB0byB0aGUgZW5kXG5cdCAgICogb2YgdGhlIGxpc3QuXG5cdCAgICpcblx0ICAgKiBAcGFyYW0ge09iamVjdC4uLn0gb2JqZWN0c1xuXHQgICAqIEB0aHJvd3Mge0Vycm9yfSBpZiBub3QgY2FsbGVkIG9uIGEgdG9wIGxldmVsIEdVSS5cblx0ICAgKiBAaW5zdGFuY2Vcblx0ICAgKi9cblx0ICByZW1lbWJlcjogZnVuY3Rpb24gcmVtZW1iZXIoKSB7XG5cdCAgICBpZiAoX2NvbW1vbjIuZGVmYXVsdC5pc1VuZGVmaW5lZChTQVZFX0RJQUxPR1VFKSkge1xuXHQgICAgICBTQVZFX0RJQUxPR1VFID0gbmV3IF9DZW50ZXJlZERpdjIuZGVmYXVsdCgpO1xuXHQgICAgICBTQVZFX0RJQUxPR1VFLmRvbUVsZW1lbnQuaW5uZXJIVE1MID0gX3NhdmVEaWFsb2d1ZTIuZGVmYXVsdDtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAodGhpcy5wYXJlbnQpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgY2FuIG9ubHkgY2FsbCByZW1lbWJlciBvbiBhIHRvcCBsZXZlbCBHVUkuJyk7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIF90aGlzID0gdGhpcztcblx0XG5cdCAgICBfY29tbW9uMi5kZWZhdWx0LmVhY2goQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSwgZnVuY3Rpb24gKG9iamVjdCkge1xuXHQgICAgICBpZiAoX3RoaXMuX19yZW1lbWJlcmVkT2JqZWN0cy5sZW5ndGggPT09IDApIHtcblx0ICAgICAgICBhZGRTYXZlTWVudShfdGhpcyk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKF90aGlzLl9fcmVtZW1iZXJlZE9iamVjdHMuaW5kZXhPZihvYmplY3QpID09PSAtMSkge1xuXHQgICAgICAgIF90aGlzLl9fcmVtZW1iZXJlZE9iamVjdHMucHVzaChvYmplY3QpO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0XG5cdCAgICBpZiAodGhpcy5hdXRvUGxhY2UpIHtcblx0ICAgICAgLy8gU2V0IHNhdmUgcm93IHdpZHRoXG5cdCAgICAgIHNldFdpZHRoKHRoaXMsIHRoaXMud2lkdGgpO1xuXHQgICAgfVxuXHQgIH0sXG5cdFxuXHQgIC8qKlxuXHQgICAqIEByZXR1cm5zIHtkYXQuZ3VpLkdVSX0gdGhlIHRvcG1vc3QgcGFyZW50IEdVSSBvZiBhIG5lc3RlZCBHVUkuXG5cdCAgICogQGluc3RhbmNlXG5cdCAgICovXG5cdCAgZ2V0Um9vdDogZnVuY3Rpb24gZ2V0Um9vdCgpIHtcblx0ICAgIHZhciBndWkgPSB0aGlzO1xuXHQgICAgd2hpbGUgKGd1aS5wYXJlbnQpIHtcblx0ICAgICAgZ3VpID0gZ3VpLnBhcmVudDtcblx0ICAgIH1cblx0ICAgIHJldHVybiBndWk7XG5cdCAgfSxcblx0XG5cdCAgLyoqXG5cdCAgICogQHJldHVybnMge09iamVjdH0gYSBKU09OIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgc3RhdGUgb2Zcblx0ICAgKiB0aGlzIEdVSSBhcyB3ZWxsIGFzIGl0cyByZW1lbWJlcmVkIHByb3BlcnRpZXMuXG5cdCAgICogQGluc3RhbmNlXG5cdCAgICovXG5cdCAgZ2V0U2F2ZU9iamVjdDogZnVuY3Rpb24gZ2V0U2F2ZU9iamVjdCgpIHtcblx0ICAgIHZhciB0b1JldHVybiA9IHRoaXMubG9hZDtcblx0ICAgIHRvUmV0dXJuLmNsb3NlZCA9IHRoaXMuY2xvc2VkO1xuXHRcblx0ICAgIC8vIEFtIEkgcmVtZW1iZXJpbmcgYW55IHZhbHVlcz9cblx0ICAgIGlmICh0aGlzLl9fcmVtZW1iZXJlZE9iamVjdHMubGVuZ3RoID4gMCkge1xuXHQgICAgICB0b1JldHVybi5wcmVzZXQgPSB0aGlzLnByZXNldDtcblx0XG5cdCAgICAgIGlmICghdG9SZXR1cm4ucmVtZW1iZXJlZCkge1xuXHQgICAgICAgIHRvUmV0dXJuLnJlbWVtYmVyZWQgPSB7fTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgdG9SZXR1cm4ucmVtZW1iZXJlZFt0aGlzLnByZXNldF0gPSBnZXRDdXJyZW50UHJlc2V0KHRoaXMpO1xuXHQgICAgfVxuXHRcblx0ICAgIHRvUmV0dXJuLmZvbGRlcnMgPSB7fTtcblx0ICAgIF9jb21tb24yLmRlZmF1bHQuZWFjaCh0aGlzLl9fZm9sZGVycywgZnVuY3Rpb24gKGVsZW1lbnQsIGtleSkge1xuXHQgICAgICB0b1JldHVybi5mb2xkZXJzW2tleV0gPSBlbGVtZW50LmdldFNhdmVPYmplY3QoKTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIHJldHVybiB0b1JldHVybjtcblx0ICB9LFxuXHRcblx0ICBzYXZlOiBmdW5jdGlvbiBzYXZlKCkge1xuXHQgICAgaWYgKCF0aGlzLmxvYWQucmVtZW1iZXJlZCkge1xuXHQgICAgICB0aGlzLmxvYWQucmVtZW1iZXJlZCA9IHt9O1xuXHQgICAgfVxuXHRcblx0ICAgIHRoaXMubG9hZC5yZW1lbWJlcmVkW3RoaXMucHJlc2V0XSA9IGdldEN1cnJlbnRQcmVzZXQodGhpcyk7XG5cdCAgICBtYXJrUHJlc2V0TW9kaWZpZWQodGhpcywgZmFsc2UpO1xuXHQgICAgdGhpcy5zYXZlVG9Mb2NhbFN0b3JhZ2VJZlBvc3NpYmxlKCk7XG5cdCAgfSxcblx0XG5cdCAgc2F2ZUFzOiBmdW5jdGlvbiBzYXZlQXMocHJlc2V0TmFtZSkge1xuXHQgICAgaWYgKCF0aGlzLmxvYWQucmVtZW1iZXJlZCkge1xuXHQgICAgICAvLyBSZXRhaW4gZGVmYXVsdCB2YWx1ZXMgdXBvbiBmaXJzdCBzYXZlXG5cdCAgICAgIHRoaXMubG9hZC5yZW1lbWJlcmVkID0ge307XG5cdCAgICAgIHRoaXMubG9hZC5yZW1lbWJlcmVkW0RFRkFVTFRfREVGQVVMVF9QUkVTRVRfTkFNRV0gPSBnZXRDdXJyZW50UHJlc2V0KHRoaXMsIHRydWUpO1xuXHQgICAgfVxuXHRcblx0ICAgIHRoaXMubG9hZC5yZW1lbWJlcmVkW3ByZXNldE5hbWVdID0gZ2V0Q3VycmVudFByZXNldCh0aGlzKTtcblx0ICAgIHRoaXMucHJlc2V0ID0gcHJlc2V0TmFtZTtcblx0ICAgIGFkZFByZXNldE9wdGlvbih0aGlzLCBwcmVzZXROYW1lLCB0cnVlKTtcblx0ICAgIHRoaXMuc2F2ZVRvTG9jYWxTdG9yYWdlSWZQb3NzaWJsZSgpO1xuXHQgIH0sXG5cdFxuXHQgIHJldmVydDogZnVuY3Rpb24gcmV2ZXJ0KGd1aSkge1xuXHQgICAgX2NvbW1vbjIuZGVmYXVsdC5lYWNoKHRoaXMuX19jb250cm9sbGVycywgZnVuY3Rpb24gKGNvbnRyb2xsZXIpIHtcblx0ICAgICAgLy8gTWFrZSByZXZlcnQgd29yayBvbiBEZWZhdWx0LlxuXHQgICAgICBpZiAoIXRoaXMuZ2V0Um9vdCgpLmxvYWQucmVtZW1iZXJlZCkge1xuXHQgICAgICAgIGNvbnRyb2xsZXIuc2V0VmFsdWUoY29udHJvbGxlci5pbml0aWFsVmFsdWUpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJlY2FsbFNhdmVkVmFsdWUoZ3VpIHx8IHRoaXMuZ2V0Um9vdCgpLCBjb250cm9sbGVyKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgLy8gZmlyZSBvbkZpbmlzaENoYW5nZSBjYWxsYmFja1xuXHQgICAgICBpZiAoY29udHJvbGxlci5fX29uRmluaXNoQ2hhbmdlKSB7XG5cdCAgICAgICAgY29udHJvbGxlci5fX29uRmluaXNoQ2hhbmdlLmNhbGwoY29udHJvbGxlciwgY29udHJvbGxlci5nZXRWYWx1ZSgpKTtcblx0ICAgICAgfVxuXHQgICAgfSwgdGhpcyk7XG5cdFxuXHQgICAgX2NvbW1vbjIuZGVmYXVsdC5lYWNoKHRoaXMuX19mb2xkZXJzLCBmdW5jdGlvbiAoZm9sZGVyKSB7XG5cdCAgICAgIGZvbGRlci5yZXZlcnQoZm9sZGVyKTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIGlmICghZ3VpKSB7XG5cdCAgICAgIG1hcmtQcmVzZXRNb2RpZmllZCh0aGlzLmdldFJvb3QoKSwgZmFsc2UpO1xuXHQgICAgfVxuXHQgIH0sXG5cdFxuXHQgIGxpc3RlbjogZnVuY3Rpb24gbGlzdGVuKGNvbnRyb2xsZXIpIHtcblx0ICAgIHZhciBpbml0ID0gdGhpcy5fX2xpc3RlbmluZy5sZW5ndGggPT09IDA7XG5cdCAgICB0aGlzLl9fbGlzdGVuaW5nLnB1c2goY29udHJvbGxlcik7XG5cdCAgICBpZiAoaW5pdCkge1xuXHQgICAgICB1cGRhdGVEaXNwbGF5cyh0aGlzLl9fbGlzdGVuaW5nKTtcblx0ICAgIH1cblx0ICB9LFxuXHRcblx0ICB1cGRhdGVEaXNwbGF5OiBmdW5jdGlvbiB1cGRhdGVEaXNwbGF5KCkge1xuXHQgICAgX2NvbW1vbjIuZGVmYXVsdC5lYWNoKHRoaXMuX19jb250cm9sbGVycywgZnVuY3Rpb24gKGNvbnRyb2xsZXIpIHtcblx0ICAgICAgY29udHJvbGxlci51cGRhdGVEaXNwbGF5KCk7XG5cdCAgICB9KTtcblx0ICAgIF9jb21tb24yLmRlZmF1bHQuZWFjaCh0aGlzLl9fZm9sZGVycywgZnVuY3Rpb24gKGZvbGRlcikge1xuXHQgICAgICBmb2xkZXIudXBkYXRlRGlzcGxheSgpO1xuXHQgICAgfSk7XG5cdCAgfVxuXHR9KTtcblx0XG5cdC8qKlxuXHQgKiBBZGQgYSByb3cgdG8gdGhlIGVuZCBvZiB0aGUgR1VJIG9yIGJlZm9yZSBhbm90aGVyIHJvdy5cblx0ICpcblx0ICogQHBhcmFtIGd1aVxuXHQgKiBAcGFyYW0gW25ld0RvbV0gSWYgc3BlY2lmaWVkLCBpbnNlcnRzIHRoZSBkb20gY29udGVudCBpbiB0aGUgbmV3IHJvd1xuXHQgKiBAcGFyYW0gW2xpQmVmb3JlXSBJZiBzcGVjaWZpZWQsIHBsYWNlcyB0aGUgbmV3IHJvdyBiZWZvcmUgYW5vdGhlciByb3dcblx0ICovXG5cdGZ1bmN0aW9uIGFkZFJvdyhndWksIG5ld0RvbSwgbGlCZWZvcmUpIHtcblx0ICB2YXIgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuXHQgIGlmIChuZXdEb20pIHtcblx0ICAgIGxpLmFwcGVuZENoaWxkKG5ld0RvbSk7XG5cdCAgfVxuXHRcblx0ICBpZiAobGlCZWZvcmUpIHtcblx0ICAgIGd1aS5fX3VsLmluc2VydEJlZm9yZShsaSwgbGlCZWZvcmUpO1xuXHQgIH0gZWxzZSB7XG5cdCAgICBndWkuX191bC5hcHBlbmRDaGlsZChsaSk7XG5cdCAgfVxuXHQgIGd1aS5vblJlc2l6ZSgpO1xuXHQgIHJldHVybiBsaTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbWFya1ByZXNldE1vZGlmaWVkKGd1aSwgbW9kaWZpZWQpIHtcblx0ICB2YXIgb3B0ID0gZ3VpLl9fcHJlc2V0X3NlbGVjdFtndWkuX19wcmVzZXRfc2VsZWN0LnNlbGVjdGVkSW5kZXhdO1xuXHRcblx0ICAvLyBjb25zb2xlLmxvZygnbWFyaycsIG1vZGlmaWVkLCBvcHQpO1xuXHQgIGlmIChtb2RpZmllZCkge1xuXHQgICAgb3B0LmlubmVySFRNTCA9IG9wdC52YWx1ZSArICcqJztcblx0ICB9IGVsc2Uge1xuXHQgICAgb3B0LmlubmVySFRNTCA9IG9wdC52YWx1ZTtcblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGF1Z21lbnRDb250cm9sbGVyKGd1aSwgbGksIGNvbnRyb2xsZXIpIHtcblx0ICBjb250cm9sbGVyLl9fbGkgPSBsaTtcblx0ICBjb250cm9sbGVyLl9fZ3VpID0gZ3VpO1xuXHRcblx0ICBfY29tbW9uMi5kZWZhdWx0LmV4dGVuZChjb250cm9sbGVyLCB7XG5cdCAgICBvcHRpb25zOiBmdW5jdGlvbiBvcHRpb25zKF9vcHRpb25zKSB7XG5cdCAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuXHQgICAgICAgIHZhciBuZXh0U2libGluZyA9IGNvbnRyb2xsZXIuX19saS5uZXh0RWxlbWVudFNpYmxpbmc7XG5cdCAgICAgICAgY29udHJvbGxlci5yZW1vdmUoKTtcblx0XG5cdCAgICAgICAgcmV0dXJuIF9hZGQoZ3VpLCBjb250cm9sbGVyLm9iamVjdCwgY29udHJvbGxlci5wcm9wZXJ0eSwge1xuXHQgICAgICAgICAgYmVmb3JlOiBuZXh0U2libGluZyxcblx0ICAgICAgICAgIGZhY3RvcnlBcmdzOiBbX2NvbW1vbjIuZGVmYXVsdC50b0FycmF5KGFyZ3VtZW50cyldXG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmIChfY29tbW9uMi5kZWZhdWx0LmlzQXJyYXkoX29wdGlvbnMpIHx8IF9jb21tb24yLmRlZmF1bHQuaXNPYmplY3QoX29wdGlvbnMpKSB7XG5cdCAgICAgICAgdmFyIF9uZXh0U2libGluZyA9IGNvbnRyb2xsZXIuX19saS5uZXh0RWxlbWVudFNpYmxpbmc7XG5cdCAgICAgICAgY29udHJvbGxlci5yZW1vdmUoKTtcblx0XG5cdCAgICAgICAgcmV0dXJuIF9hZGQoZ3VpLCBjb250cm9sbGVyLm9iamVjdCwgY29udHJvbGxlci5wcm9wZXJ0eSwge1xuXHQgICAgICAgICAgYmVmb3JlOiBfbmV4dFNpYmxpbmcsXG5cdCAgICAgICAgICBmYWN0b3J5QXJnczogW19vcHRpb25zXVxuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9LFxuXHRcblx0ICAgIG5hbWU6IGZ1bmN0aW9uIG5hbWUodikge1xuXHQgICAgICBjb250cm9sbGVyLl9fbGkuZmlyc3RFbGVtZW50Q2hpbGQuZmlyc3RFbGVtZW50Q2hpbGQuaW5uZXJIVE1MID0gdjtcblx0ICAgICAgcmV0dXJuIGNvbnRyb2xsZXI7XG5cdCAgICB9LFxuXHRcblx0ICAgIGxpc3RlbjogZnVuY3Rpb24gbGlzdGVuKCkge1xuXHQgICAgICBjb250cm9sbGVyLl9fZ3VpLmxpc3Rlbihjb250cm9sbGVyKTtcblx0ICAgICAgcmV0dXJuIGNvbnRyb2xsZXI7XG5cdCAgICB9LFxuXHRcblx0ICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuXHQgICAgICBjb250cm9sbGVyLl9fZ3VpLnJlbW92ZShjb250cm9sbGVyKTtcblx0ICAgICAgcmV0dXJuIGNvbnRyb2xsZXI7XG5cdCAgICB9XG5cdCAgfSk7XG5cdFxuXHQgIC8vIEFsbCBzbGlkZXJzIHNob3VsZCBiZSBhY2NvbXBhbmllZCBieSBhIGJveC5cblx0ICBpZiAoY29udHJvbGxlciBpbnN0YW5jZW9mIF9OdW1iZXJDb250cm9sbGVyU2xpZGVyMi5kZWZhdWx0KSB7XG5cdCAgICB2YXIgYm94ID0gbmV3IF9OdW1iZXJDb250cm9sbGVyQm94Mi5kZWZhdWx0KGNvbnRyb2xsZXIub2JqZWN0LCBjb250cm9sbGVyLnByb3BlcnR5LCB7IG1pbjogY29udHJvbGxlci5fX21pbiwgbWF4OiBjb250cm9sbGVyLl9fbWF4LCBzdGVwOiBjb250cm9sbGVyLl9fc3RlcCB9KTtcblx0XG5cdCAgICBfY29tbW9uMi5kZWZhdWx0LmVhY2goWyd1cGRhdGVEaXNwbGF5JywgJ29uQ2hhbmdlJywgJ29uRmluaXNoQ2hhbmdlJywgJ3N0ZXAnXSwgZnVuY3Rpb24gKG1ldGhvZCkge1xuXHQgICAgICB2YXIgcGMgPSBjb250cm9sbGVyW21ldGhvZF07XG5cdCAgICAgIHZhciBwYiA9IGJveFttZXRob2RdO1xuXHQgICAgICBjb250cm9sbGVyW21ldGhvZF0gPSBib3hbbWV0aG9kXSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG5cdCAgICAgICAgcGIuYXBwbHkoYm94LCBhcmdzKTtcblx0ICAgICAgICByZXR1cm4gcGMuYXBwbHkoY29udHJvbGxlciwgYXJncyk7XG5cdCAgICAgIH07XG5cdCAgICB9KTtcblx0XG5cdCAgICBfZG9tMi5kZWZhdWx0LmFkZENsYXNzKGxpLCAnaGFzLXNsaWRlcicpO1xuXHQgICAgY29udHJvbGxlci5kb21FbGVtZW50Lmluc2VydEJlZm9yZShib3guZG9tRWxlbWVudCwgY29udHJvbGxlci5kb21FbGVtZW50LmZpcnN0RWxlbWVudENoaWxkKTtcblx0ICB9IGVsc2UgaWYgKGNvbnRyb2xsZXIgaW5zdGFuY2VvZiBfTnVtYmVyQ29udHJvbGxlckJveDIuZGVmYXVsdCkge1xuXHQgICAgdmFyIHIgPSBmdW5jdGlvbiByKHJldHVybmVkKSB7XG5cdCAgICAgIC8vIEhhdmUgd2UgZGVmaW5lZCBib3RoIGJvdW5kYXJpZXM/XG5cdCAgICAgIGlmIChfY29tbW9uMi5kZWZhdWx0LmlzTnVtYmVyKGNvbnRyb2xsZXIuX19taW4pICYmIF9jb21tb24yLmRlZmF1bHQuaXNOdW1iZXIoY29udHJvbGxlci5fX21heCkpIHtcblx0ICAgICAgICAvLyBXZWxsLCB0aGVuIGxldHMganVzdCByZXBsYWNlIHRoaXMgd2l0aCBhIHNsaWRlci5cblx0XG5cdCAgICAgICAgLy8gbGV0cyByZW1lbWJlciBpZiB0aGUgb2xkIGNvbnRyb2xsZXIgaGFkIGEgc3BlY2lmaWMgbmFtZSBvciB3YXMgbGlzdGVuaW5nXG5cdCAgICAgICAgdmFyIG9sZE5hbWUgPSBjb250cm9sbGVyLl9fbGkuZmlyc3RFbGVtZW50Q2hpbGQuZmlyc3RFbGVtZW50Q2hpbGQuaW5uZXJIVE1MO1xuXHQgICAgICAgIHZhciB3YXNMaXN0ZW5pbmcgPSBjb250cm9sbGVyLl9fZ3VpLl9fbGlzdGVuaW5nLmluZGV4T2YoY29udHJvbGxlcikgPiAtMTtcblx0XG5cdCAgICAgICAgY29udHJvbGxlci5yZW1vdmUoKTtcblx0ICAgICAgICB2YXIgbmV3Q29udHJvbGxlciA9IF9hZGQoZ3VpLCBjb250cm9sbGVyLm9iamVjdCwgY29udHJvbGxlci5wcm9wZXJ0eSwge1xuXHQgICAgICAgICAgYmVmb3JlOiBjb250cm9sbGVyLl9fbGkubmV4dEVsZW1lbnRTaWJsaW5nLFxuXHQgICAgICAgICAgZmFjdG9yeUFyZ3M6IFtjb250cm9sbGVyLl9fbWluLCBjb250cm9sbGVyLl9fbWF4LCBjb250cm9sbGVyLl9fc3RlcF1cblx0ICAgICAgICB9KTtcblx0XG5cdCAgICAgICAgbmV3Q29udHJvbGxlci5uYW1lKG9sZE5hbWUpO1xuXHQgICAgICAgIGlmICh3YXNMaXN0ZW5pbmcpIG5ld0NvbnRyb2xsZXIubGlzdGVuKCk7XG5cdFxuXHQgICAgICAgIHJldHVybiBuZXdDb250cm9sbGVyO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICByZXR1cm4gcmV0dXJuZWQ7XG5cdCAgICB9O1xuXHRcblx0ICAgIGNvbnRyb2xsZXIubWluID0gX2NvbW1vbjIuZGVmYXVsdC5jb21wb3NlKHIsIGNvbnRyb2xsZXIubWluKTtcblx0ICAgIGNvbnRyb2xsZXIubWF4ID0gX2NvbW1vbjIuZGVmYXVsdC5jb21wb3NlKHIsIGNvbnRyb2xsZXIubWF4KTtcblx0ICB9IGVsc2UgaWYgKGNvbnRyb2xsZXIgaW5zdGFuY2VvZiBfQm9vbGVhbkNvbnRyb2xsZXIyLmRlZmF1bHQpIHtcblx0ICAgIF9kb20yLmRlZmF1bHQuYmluZChsaSwgJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICBfZG9tMi5kZWZhdWx0LmZha2VFdmVudChjb250cm9sbGVyLl9fY2hlY2tib3gsICdjbGljaycpO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgX2RvbTIuZGVmYXVsdC5iaW5kKGNvbnRyb2xsZXIuX19jaGVja2JveCwgJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsgLy8gUHJldmVudHMgZG91YmxlLXRvZ2dsZVxuXHQgICAgfSk7XG5cdCAgfSBlbHNlIGlmIChjb250cm9sbGVyIGluc3RhbmNlb2YgX0Z1bmN0aW9uQ29udHJvbGxlcjIuZGVmYXVsdCkge1xuXHQgICAgX2RvbTIuZGVmYXVsdC5iaW5kKGxpLCAnY2xpY2snLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIF9kb20yLmRlZmF1bHQuZmFrZUV2ZW50KGNvbnRyb2xsZXIuX19idXR0b24sICdjbGljaycpO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgX2RvbTIuZGVmYXVsdC5iaW5kKGxpLCAnbW91c2VvdmVyJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICBfZG9tMi5kZWZhdWx0LmFkZENsYXNzKGNvbnRyb2xsZXIuX19idXR0b24sICdob3ZlcicpO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgX2RvbTIuZGVmYXVsdC5iaW5kKGxpLCAnbW91c2VvdXQnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIF9kb20yLmRlZmF1bHQucmVtb3ZlQ2xhc3MoY29udHJvbGxlci5fX2J1dHRvbiwgJ2hvdmVyJyk7XG5cdCAgICB9KTtcblx0ICB9IGVsc2UgaWYgKGNvbnRyb2xsZXIgaW5zdGFuY2VvZiBfQ29sb3JDb250cm9sbGVyMi5kZWZhdWx0KSB7XG5cdCAgICBfZG9tMi5kZWZhdWx0LmFkZENsYXNzKGxpLCAnY29sb3InKTtcblx0ICAgIGNvbnRyb2xsZXIudXBkYXRlRGlzcGxheSA9IF9jb21tb24yLmRlZmF1bHQuY29tcG9zZShmdW5jdGlvbiAodmFsKSB7XG5cdCAgICAgIGxpLnN0eWxlLmJvcmRlckxlZnRDb2xvciA9IGNvbnRyb2xsZXIuX19jb2xvci50b1N0cmluZygpO1xuXHQgICAgICByZXR1cm4gdmFsO1xuXHQgICAgfSwgY29udHJvbGxlci51cGRhdGVEaXNwbGF5KTtcblx0XG5cdCAgICBjb250cm9sbGVyLnVwZGF0ZURpc3BsYXkoKTtcblx0ICB9XG5cdFxuXHQgIGNvbnRyb2xsZXIuc2V0VmFsdWUgPSBfY29tbW9uMi5kZWZhdWx0LmNvbXBvc2UoZnVuY3Rpb24gKHZhbCkge1xuXHQgICAgaWYgKGd1aS5nZXRSb290KCkuX19wcmVzZXRfc2VsZWN0ICYmIGNvbnRyb2xsZXIuaXNNb2RpZmllZCgpKSB7XG5cdCAgICAgIG1hcmtQcmVzZXRNb2RpZmllZChndWkuZ2V0Um9vdCgpLCB0cnVlKTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gdmFsO1xuXHQgIH0sIGNvbnRyb2xsZXIuc2V0VmFsdWUpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZWNhbGxTYXZlZFZhbHVlKGd1aSwgY29udHJvbGxlcikge1xuXHQgIC8vIEZpbmQgdGhlIHRvcG1vc3QgR1VJLCB0aGF0J3Mgd2hlcmUgcmVtZW1iZXJlZCBvYmplY3RzIGxpdmUuXG5cdCAgdmFyIHJvb3QgPSBndWkuZ2V0Um9vdCgpO1xuXHRcblx0ICAvLyBEb2VzIHRoZSBvYmplY3Qgd2UncmUgY29udHJvbGxpbmcgbWF0Y2ggYW55dGhpbmcgd2UndmUgYmVlbiB0b2xkIHRvXG5cdCAgLy8gcmVtZW1iZXI/XG5cdCAgdmFyIG1hdGNoZWRJbmRleCA9IHJvb3QuX19yZW1lbWJlcmVkT2JqZWN0cy5pbmRleE9mKGNvbnRyb2xsZXIub2JqZWN0KTtcblx0XG5cdCAgLy8gV2h5IHllcywgaXQgZG9lcyFcblx0ICBpZiAobWF0Y2hlZEluZGV4ICE9PSAtMSkge1xuXHQgICAgLy8gTGV0IG1lIGZldGNoIGEgbWFwIG9mIGNvbnRyb2xsZXJzIGZvciB0aGNvbW1vbi5pc09iamVjdC5cblx0ICAgIHZhciBjb250cm9sbGVyTWFwID0gcm9vdC5fX3JlbWVtYmVyZWRPYmplY3RJbmRlY2VzVG9Db250cm9sbGVyc1ttYXRjaGVkSW5kZXhdO1xuXHRcblx0ICAgIC8vIE9ocCwgSSBiZWxpZXZlIHRoaXMgaXMgdGhlIGZpcnN0IGNvbnRyb2xsZXIgd2UndmUgY3JlYXRlZCBmb3IgdGhpc1xuXHQgICAgLy8gb2JqZWN0LiBMZXRzIG1ha2UgdGhlIG1hcCBmcmVzaC5cblx0ICAgIGlmIChjb250cm9sbGVyTWFwID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgY29udHJvbGxlck1hcCA9IHt9O1xuXHQgICAgICByb290Ll9fcmVtZW1iZXJlZE9iamVjdEluZGVjZXNUb0NvbnRyb2xsZXJzW21hdGNoZWRJbmRleF0gPSBjb250cm9sbGVyTWFwO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIEtlZXAgdHJhY2sgb2YgdGhpcyBjb250cm9sbGVyXG5cdCAgICBjb250cm9sbGVyTWFwW2NvbnRyb2xsZXIucHJvcGVydHldID0gY29udHJvbGxlcjtcblx0XG5cdCAgICAvLyBPa2F5LCBub3cgaGF2ZSB3ZSBzYXZlZCBhbnkgdmFsdWVzIGZvciB0aGlzIGNvbnRyb2xsZXI/XG5cdCAgICBpZiAocm9vdC5sb2FkICYmIHJvb3QubG9hZC5yZW1lbWJlcmVkKSB7XG5cdCAgICAgIHZhciBwcmVzZXRNYXAgPSByb290LmxvYWQucmVtZW1iZXJlZDtcblx0XG5cdCAgICAgIC8vIFdoaWNoIHByZXNldCBhcmUgd2UgdHJ5aW5nIHRvIGxvYWQ/XG5cdCAgICAgIHZhciBwcmVzZXQgPSB2b2lkIDA7XG5cdFxuXHQgICAgICBpZiAocHJlc2V0TWFwW2d1aS5wcmVzZXRdKSB7XG5cdCAgICAgICAgcHJlc2V0ID0gcHJlc2V0TWFwW2d1aS5wcmVzZXRdO1xuXHQgICAgICB9IGVsc2UgaWYgKHByZXNldE1hcFtERUZBVUxUX0RFRkFVTFRfUFJFU0VUX05BTUVdKSB7XG5cdCAgICAgICAgLy8gVWhoLCB5b3UgY2FuIGhhdmUgdGhlIGRlZmF1bHQgaW5zdGVhZD9cblx0ICAgICAgICBwcmVzZXQgPSBwcmVzZXRNYXBbREVGQVVMVF9ERUZBVUxUX1BSRVNFVF9OQU1FXTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAvLyBOYWRhLlxuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgLy8gRGlkIHRoZSBsb2FkZWQgb2JqZWN0IHJlbWVtYmVyIHRoY29tbW9uLmlzT2JqZWN0PyAmJiAgRGlkIHdlIHJlbWVtYmVyIHRoaXMgcGFydGljdWxhciBwcm9wZXJ0eT9cblx0ICAgICAgaWYgKHByZXNldFttYXRjaGVkSW5kZXhdICYmIHByZXNldFttYXRjaGVkSW5kZXhdW2NvbnRyb2xsZXIucHJvcGVydHldICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAvLyBXZSBkaWQgcmVtZW1iZXIgc29tZXRoaW5nIGZvciB0aGlzIGd1eSAuLi5cblx0ICAgICAgICB2YXIgdmFsdWUgPSBwcmVzZXRbbWF0Y2hlZEluZGV4XVtjb250cm9sbGVyLnByb3BlcnR5XTtcblx0XG5cdCAgICAgICAgLy8gQW5kIHRoYXQncyB3aGF0IGl0IGlzLlxuXHQgICAgICAgIGNvbnRyb2xsZXIuaW5pdGlhbFZhbHVlID0gdmFsdWU7XG5cdCAgICAgICAgY29udHJvbGxlci5zZXRWYWx1ZSh2YWx1ZSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIF9hZGQoZ3VpLCBvYmplY3QsIHByb3BlcnR5LCBwYXJhbXMpIHtcblx0ICBpZiAob2JqZWN0W3Byb3BlcnR5XSA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ09iamVjdCBcIicgKyBvYmplY3QgKyAnXCIgaGFzIG5vIHByb3BlcnR5IFwiJyArIHByb3BlcnR5ICsgJ1wiJyk7XG5cdCAgfVxuXHRcblx0ICB2YXIgY29udHJvbGxlciA9IHZvaWQgMDtcblx0XG5cdCAgaWYgKHBhcmFtcy5jb2xvcikge1xuXHQgICAgY29udHJvbGxlciA9IG5ldyBfQ29sb3JDb250cm9sbGVyMi5kZWZhdWx0KG9iamVjdCwgcHJvcGVydHkpO1xuXHQgIH0gZWxzZSB7XG5cdCAgICB2YXIgZmFjdG9yeUFyZ3MgPSBbb2JqZWN0LCBwcm9wZXJ0eV0uY29uY2F0KHBhcmFtcy5mYWN0b3J5QXJncyk7XG5cdCAgICBjb250cm9sbGVyID0gX0NvbnRyb2xsZXJGYWN0b3J5Mi5kZWZhdWx0LmFwcGx5KGd1aSwgZmFjdG9yeUFyZ3MpO1xuXHQgIH1cblx0XG5cdCAgaWYgKHBhcmFtcy5iZWZvcmUgaW5zdGFuY2VvZiBfQ29udHJvbGxlcjIuZGVmYXVsdCkge1xuXHQgICAgcGFyYW1zLmJlZm9yZSA9IHBhcmFtcy5iZWZvcmUuX19saTtcblx0ICB9XG5cdFxuXHQgIHJlY2FsbFNhdmVkVmFsdWUoZ3VpLCBjb250cm9sbGVyKTtcblx0XG5cdCAgX2RvbTIuZGVmYXVsdC5hZGRDbGFzcyhjb250cm9sbGVyLmRvbUVsZW1lbnQsICdjJyk7XG5cdFxuXHQgIHZhciBuYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuXHQgIF9kb20yLmRlZmF1bHQuYWRkQ2xhc3MobmFtZSwgJ3Byb3BlcnR5LW5hbWUnKTtcblx0ICBuYW1lLmlubmVySFRNTCA9IGNvbnRyb2xsZXIucHJvcGVydHk7XG5cdFxuXHQgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0ICBjb250YWluZXIuYXBwZW5kQ2hpbGQobmFtZSk7XG5cdCAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNvbnRyb2xsZXIuZG9tRWxlbWVudCk7XG5cdFxuXHQgIHZhciBsaSA9IGFkZFJvdyhndWksIGNvbnRhaW5lciwgcGFyYW1zLmJlZm9yZSk7XG5cdFxuXHQgIF9kb20yLmRlZmF1bHQuYWRkQ2xhc3MobGksIEdVSS5DTEFTU19DT05UUk9MTEVSX1JPVyk7XG5cdCAgaWYgKGNvbnRyb2xsZXIgaW5zdGFuY2VvZiBfQ29sb3JDb250cm9sbGVyMi5kZWZhdWx0KSB7XG5cdCAgICBfZG9tMi5kZWZhdWx0LmFkZENsYXNzKGxpLCAnY29sb3InKTtcblx0ICB9IGVsc2Uge1xuXHQgICAgX2RvbTIuZGVmYXVsdC5hZGRDbGFzcyhsaSwgX3R5cGVvZihjb250cm9sbGVyLmdldFZhbHVlKCkpKTtcblx0ICB9XG5cdFxuXHQgIGF1Z21lbnRDb250cm9sbGVyKGd1aSwgbGksIGNvbnRyb2xsZXIpO1xuXHRcblx0ICBndWkuX19jb250cm9sbGVycy5wdXNoKGNvbnRyb2xsZXIpO1xuXHRcblx0ICByZXR1cm4gY29udHJvbGxlcjtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0TG9jYWxTdG9yYWdlSGFzaChndWksIGtleSkge1xuXHQgIC8vIFRPRE8gaG93IGRvZXMgdGhpcyBkZWFsIHdpdGggbXVsdGlwbGUgR1VJJ3M/XG5cdCAgcmV0dXJuIGRvY3VtZW50LmxvY2F0aW9uLmhyZWYgKyAnLicgKyBrZXk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGFkZFByZXNldE9wdGlvbihndWksIG5hbWUsIHNldFNlbGVjdGVkKSB7XG5cdCAgdmFyIG9wdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuXHQgIG9wdC5pbm5lckhUTUwgPSBuYW1lO1xuXHQgIG9wdC52YWx1ZSA9IG5hbWU7XG5cdCAgZ3VpLl9fcHJlc2V0X3NlbGVjdC5hcHBlbmRDaGlsZChvcHQpO1xuXHQgIGlmIChzZXRTZWxlY3RlZCkge1xuXHQgICAgZ3VpLl9fcHJlc2V0X3NlbGVjdC5zZWxlY3RlZEluZGV4ID0gZ3VpLl9fcHJlc2V0X3NlbGVjdC5sZW5ndGggLSAxO1xuXHQgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gc2hvd0hpZGVFeHBsYWluKGd1aSwgZXhwbGFpbikge1xuXHQgIGV4cGxhaW4uc3R5bGUuZGlzcGxheSA9IGd1aS51c2VMb2NhbFN0b3JhZ2UgPyAnYmxvY2snIDogJ25vbmUnO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBhZGRTYXZlTWVudShndWkpIHtcblx0ICB2YXIgZGl2ID0gZ3VpLl9fc2F2ZV9yb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuXHRcblx0ICBfZG9tMi5kZWZhdWx0LmFkZENsYXNzKGd1aS5kb21FbGVtZW50LCAnaGFzLXNhdmUnKTtcblx0XG5cdCAgZ3VpLl9fdWwuaW5zZXJ0QmVmb3JlKGRpdiwgZ3VpLl9fdWwuZmlyc3RDaGlsZCk7XG5cdFxuXHQgIF9kb20yLmRlZmF1bHQuYWRkQ2xhc3MoZGl2LCAnc2F2ZS1yb3cnKTtcblx0XG5cdCAgdmFyIGdlYXJzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuXHQgIGdlYXJzLmlubmVySFRNTCA9ICcmbmJzcDsnO1xuXHQgIF9kb20yLmRlZmF1bHQuYWRkQ2xhc3MoZ2VhcnMsICdidXR0b24gZ2VhcnMnKTtcblx0XG5cdCAgLy8gVE9ETyByZXBsYWNlIHdpdGggRnVuY3Rpb25Db250cm9sbGVyXG5cdCAgdmFyIGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcblx0ICBidXR0b24uaW5uZXJIVE1MID0gJ1NhdmUnO1xuXHQgIF9kb20yLmRlZmF1bHQuYWRkQ2xhc3MoYnV0dG9uLCAnYnV0dG9uJyk7XG5cdCAgX2RvbTIuZGVmYXVsdC5hZGRDbGFzcyhidXR0b24sICdzYXZlJyk7XG5cdFxuXHQgIHZhciBidXR0b24yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuXHQgIGJ1dHRvbjIuaW5uZXJIVE1MID0gJ05ldyc7XG5cdCAgX2RvbTIuZGVmYXVsdC5hZGRDbGFzcyhidXR0b24yLCAnYnV0dG9uJyk7XG5cdCAgX2RvbTIuZGVmYXVsdC5hZGRDbGFzcyhidXR0b24yLCAnc2F2ZS1hcycpO1xuXHRcblx0ICB2YXIgYnV0dG9uMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcblx0ICBidXR0b24zLmlubmVySFRNTCA9ICdSZXZlcnQnO1xuXHQgIF9kb20yLmRlZmF1bHQuYWRkQ2xhc3MoYnV0dG9uMywgJ2J1dHRvbicpO1xuXHQgIF9kb20yLmRlZmF1bHQuYWRkQ2xhc3MoYnV0dG9uMywgJ3JldmVydCcpO1xuXHRcblx0ICB2YXIgc2VsZWN0ID0gZ3VpLl9fcHJlc2V0X3NlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xuXHRcblx0ICBpZiAoZ3VpLmxvYWQgJiYgZ3VpLmxvYWQucmVtZW1iZXJlZCkge1xuXHQgICAgX2NvbW1vbjIuZGVmYXVsdC5lYWNoKGd1aS5sb2FkLnJlbWVtYmVyZWQsIGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG5cdCAgICAgIGFkZFByZXNldE9wdGlvbihndWksIGtleSwga2V5ID09PSBndWkucHJlc2V0KTtcblx0ICAgIH0pO1xuXHQgIH0gZWxzZSB7XG5cdCAgICBhZGRQcmVzZXRPcHRpb24oZ3VpLCBERUZBVUxUX0RFRkFVTFRfUFJFU0VUX05BTUUsIGZhbHNlKTtcblx0ICB9XG5cdFxuXHQgIF9kb20yLmRlZmF1bHQuYmluZChzZWxlY3QsICdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgZ3VpLl9fcHJlc2V0X3NlbGVjdC5sZW5ndGg7IGluZGV4KyspIHtcblx0ICAgICAgZ3VpLl9fcHJlc2V0X3NlbGVjdFtpbmRleF0uaW5uZXJIVE1MID0gZ3VpLl9fcHJlc2V0X3NlbGVjdFtpbmRleF0udmFsdWU7XG5cdCAgICB9XG5cdFxuXHQgICAgZ3VpLnByZXNldCA9IHRoaXMudmFsdWU7XG5cdCAgfSk7XG5cdFxuXHQgIGRpdi5hcHBlbmRDaGlsZChzZWxlY3QpO1xuXHQgIGRpdi5hcHBlbmRDaGlsZChnZWFycyk7XG5cdCAgZGl2LmFwcGVuZENoaWxkKGJ1dHRvbik7XG5cdCAgZGl2LmFwcGVuZENoaWxkKGJ1dHRvbjIpO1xuXHQgIGRpdi5hcHBlbmRDaGlsZChidXR0b24zKTtcblx0XG5cdCAgaWYgKFNVUFBPUlRTX0xPQ0FMX1NUT1JBR0UpIHtcblx0ICAgIHZhciBleHBsYWluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RnLWxvY2FsLWV4cGxhaW4nKTtcblx0ICAgIHZhciBsb2NhbFN0b3JhZ2VDaGVja0JveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZy1sb2NhbC1zdG9yYWdlJyk7XG5cdCAgICB2YXIgc2F2ZUxvY2FsbHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGctc2F2ZS1sb2NhbGx5Jyk7XG5cdFxuXHQgICAgc2F2ZUxvY2FsbHkuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cdFxuXHQgICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKGdldExvY2FsU3RvcmFnZUhhc2goZ3VpLCAnaXNMb2NhbCcpKSA9PT0gJ3RydWUnKSB7XG5cdCAgICAgIGxvY2FsU3RvcmFnZUNoZWNrQm94LnNldEF0dHJpYnV0ZSgnY2hlY2tlZCcsICdjaGVja2VkJyk7XG5cdCAgICB9XG5cdFxuXHQgICAgc2hvd0hpZGVFeHBsYWluKGd1aSwgZXhwbGFpbik7XG5cdFxuXHQgICAgLy8gVE9ETzogVXNlIGEgYm9vbGVhbiBjb250cm9sbGVyLCBmb29sIVxuXHQgICAgX2RvbTIuZGVmYXVsdC5iaW5kKGxvY2FsU3RvcmFnZUNoZWNrQm94LCAnY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICBndWkudXNlTG9jYWxTdG9yYWdlID0gIWd1aS51c2VMb2NhbFN0b3JhZ2U7XG5cdCAgICAgIHNob3dIaWRlRXhwbGFpbihndWksIGV4cGxhaW4pO1xuXHQgICAgfSk7XG5cdCAgfVxuXHRcblx0ICB2YXIgbmV3Q29uc3RydWN0b3JUZXh0QXJlYSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZy1uZXctY29uc3RydWN0b3InKTtcblx0XG5cdCAgX2RvbTIuZGVmYXVsdC5iaW5kKG5ld0NvbnN0cnVjdG9yVGV4dEFyZWEsICdrZXlkb3duJywgZnVuY3Rpb24gKGUpIHtcblx0ICAgIGlmIChlLm1ldGFLZXkgJiYgKGUud2hpY2ggPT09IDY3IHx8IGUua2V5Q29kZSA9PT0gNjcpKSB7XG5cdCAgICAgIFNBVkVfRElBTE9HVUUuaGlkZSgpO1xuXHQgICAgfVxuXHQgIH0pO1xuXHRcblx0ICBfZG9tMi5kZWZhdWx0LmJpbmQoZ2VhcnMsICdjbGljaycsIGZ1bmN0aW9uICgpIHtcblx0ICAgIG5ld0NvbnN0cnVjdG9yVGV4dEFyZWEuaW5uZXJIVE1MID0gSlNPTi5zdHJpbmdpZnkoZ3VpLmdldFNhdmVPYmplY3QoKSwgdW5kZWZpbmVkLCAyKTtcblx0ICAgIFNBVkVfRElBTE9HVUUuc2hvdygpO1xuXHQgICAgbmV3Q29uc3RydWN0b3JUZXh0QXJlYS5mb2N1cygpO1xuXHQgICAgbmV3Q29uc3RydWN0b3JUZXh0QXJlYS5zZWxlY3QoKTtcblx0ICB9KTtcblx0XG5cdCAgX2RvbTIuZGVmYXVsdC5iaW5kKGJ1dHRvbiwgJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuXHQgICAgZ3VpLnNhdmUoKTtcblx0ICB9KTtcblx0XG5cdCAgX2RvbTIuZGVmYXVsdC5iaW5kKGJ1dHRvbjIsICdjbGljaycsIGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBwcmVzZXROYW1lID0gcHJvbXB0KCdFbnRlciBhIG5ldyBwcmVzZXQgbmFtZS4nKTtcblx0ICAgIGlmIChwcmVzZXROYW1lKSB7XG5cdCAgICAgIGd1aS5zYXZlQXMocHJlc2V0TmFtZSk7XG5cdCAgICB9XG5cdCAgfSk7XG5cdFxuXHQgIF9kb20yLmRlZmF1bHQuYmluZChidXR0b24zLCAnY2xpY2snLCBmdW5jdGlvbiAoKSB7XG5cdCAgICBndWkucmV2ZXJ0KCk7XG5cdCAgfSk7XG5cdFxuXHQgIC8vIGRpdi5hcHBlbmRDaGlsZChidXR0b24yKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gYWRkUmVzaXplSGFuZGxlKGd1aSkge1xuXHQgIHZhciBwbW91c2VYID0gdm9pZCAwO1xuXHRcblx0ICBndWkuX19yZXNpemVfaGFuZGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFxuXHQgIF9jb21tb24yLmRlZmF1bHQuZXh0ZW5kKGd1aS5fX3Jlc2l6ZV9oYW5kbGUuc3R5bGUsIHtcblx0XG5cdCAgICB3aWR0aDogJzZweCcsXG5cdCAgICBtYXJnaW5MZWZ0OiAnLTNweCcsXG5cdCAgICBoZWlnaHQ6ICcyMDBweCcsXG5cdCAgICBjdXJzb3I6ICdldy1yZXNpemUnLFxuXHQgICAgcG9zaXRpb246ICdhYnNvbHV0ZSdcblx0ICAgIC8vIGJvcmRlcjogJzFweCBzb2xpZCBibHVlJ1xuXHRcblx0ICB9KTtcblx0XG5cdCAgZnVuY3Rpb24gZHJhZyhlKSB7XG5cdCAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cdFxuXHQgICAgZ3VpLndpZHRoICs9IHBtb3VzZVggLSBlLmNsaWVudFg7XG5cdCAgICBndWkub25SZXNpemUoKTtcblx0ICAgIHBtb3VzZVggPSBlLmNsaWVudFg7XG5cdFxuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gZHJhZ1N0b3AoKSB7XG5cdCAgICBfZG9tMi5kZWZhdWx0LnJlbW92ZUNsYXNzKGd1aS5fX2Nsb3NlQnV0dG9uLCBHVUkuQ0xBU1NfRFJBRyk7XG5cdCAgICBfZG9tMi5kZWZhdWx0LnVuYmluZCh3aW5kb3csICdtb3VzZW1vdmUnLCBkcmFnKTtcblx0ICAgIF9kb20yLmRlZmF1bHQudW5iaW5kKHdpbmRvdywgJ21vdXNldXAnLCBkcmFnU3RvcCk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBkcmFnU3RhcnQoZSkge1xuXHQgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcblx0ICAgIHBtb3VzZVggPSBlLmNsaWVudFg7XG5cdFxuXHQgICAgX2RvbTIuZGVmYXVsdC5hZGRDbGFzcyhndWkuX19jbG9zZUJ1dHRvbiwgR1VJLkNMQVNTX0RSQUcpO1xuXHQgICAgX2RvbTIuZGVmYXVsdC5iaW5kKHdpbmRvdywgJ21vdXNlbW92ZScsIGRyYWcpO1xuXHQgICAgX2RvbTIuZGVmYXVsdC5iaW5kKHdpbmRvdywgJ21vdXNldXAnLCBkcmFnU3RvcCk7XG5cdFxuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHQgIH1cblx0XG5cdCAgX2RvbTIuZGVmYXVsdC5iaW5kKGd1aS5fX3Jlc2l6ZV9oYW5kbGUsICdtb3VzZWRvd24nLCBkcmFnU3RhcnQpO1xuXHQgIF9kb20yLmRlZmF1bHQuYmluZChndWkuX19jbG9zZUJ1dHRvbiwgJ21vdXNlZG93bicsIGRyYWdTdGFydCk7XG5cdFxuXHQgIGd1aS5kb21FbGVtZW50Lmluc2VydEJlZm9yZShndWkuX19yZXNpemVfaGFuZGxlLCBndWkuZG9tRWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHNldFdpZHRoKGd1aSwgdykge1xuXHQgIGd1aS5kb21FbGVtZW50LnN0eWxlLndpZHRoID0gdyArICdweCc7XG5cdCAgLy8gQXV0byBwbGFjZWQgc2F2ZS1yb3dzIGFyZSBwb3NpdGlvbiBmaXhlZCwgc28gd2UgaGF2ZSB0b1xuXHQgIC8vIHNldCB0aGUgd2lkdGggbWFudWFsbHkgaWYgd2Ugd2FudCBpdCB0byBibGVlZCB0byB0aGUgZWRnZVxuXHQgIGlmIChndWkuX19zYXZlX3JvdyAmJiBndWkuYXV0b1BsYWNlKSB7XG5cdCAgICBndWkuX19zYXZlX3Jvdy5zdHlsZS53aWR0aCA9IHcgKyAncHgnO1xuXHQgIH1cblx0ICBpZiAoZ3VpLl9fY2xvc2VCdXR0b24pIHtcblx0ICAgIGd1aS5fX2Nsb3NlQnV0dG9uLnN0eWxlLndpZHRoID0gdyArICdweCc7XG5cdCAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRDdXJyZW50UHJlc2V0KGd1aSwgdXNlSW5pdGlhbFZhbHVlcykge1xuXHQgIHZhciB0b1JldHVybiA9IHt9O1xuXHRcblx0ICAvLyBGb3IgZWFjaCBvYmplY3QgSSdtIHJlbWVtYmVyaW5nXG5cdCAgX2NvbW1vbjIuZGVmYXVsdC5lYWNoKGd1aS5fX3JlbWVtYmVyZWRPYmplY3RzLCBmdW5jdGlvbiAodmFsLCBpbmRleCkge1xuXHQgICAgdmFyIHNhdmVkVmFsdWVzID0ge307XG5cdFxuXHQgICAgLy8gVGhlIGNvbnRyb2xsZXJzIEkndmUgbWFkZSBmb3IgdGhjb21tb24uaXNPYmplY3QgYnkgcHJvcGVydHlcblx0ICAgIHZhciBjb250cm9sbGVyTWFwID0gZ3VpLl9fcmVtZW1iZXJlZE9iamVjdEluZGVjZXNUb0NvbnRyb2xsZXJzW2luZGV4XTtcblx0XG5cdCAgICAvLyBSZW1lbWJlciBlYWNoIHZhbHVlIGZvciBlYWNoIHByb3BlcnR5XG5cdCAgICBfY29tbW9uMi5kZWZhdWx0LmVhY2goY29udHJvbGxlck1hcCwgZnVuY3Rpb24gKGNvbnRyb2xsZXIsIHByb3BlcnR5KSB7XG5cdCAgICAgIHNhdmVkVmFsdWVzW3Byb3BlcnR5XSA9IHVzZUluaXRpYWxWYWx1ZXMgPyBjb250cm9sbGVyLmluaXRpYWxWYWx1ZSA6IGNvbnRyb2xsZXIuZ2V0VmFsdWUoKTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIC8vIFNhdmUgdGhlIHZhbHVlcyBmb3IgdGhjb21tb24uaXNPYmplY3Rcblx0ICAgIHRvUmV0dXJuW2luZGV4XSA9IHNhdmVkVmFsdWVzO1xuXHQgIH0pO1xuXHRcblx0ICByZXR1cm4gdG9SZXR1cm47XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHNldFByZXNldFNlbGVjdEluZGV4KGd1aSkge1xuXHQgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBndWkuX19wcmVzZXRfc2VsZWN0Lmxlbmd0aDsgaW5kZXgrKykge1xuXHQgICAgaWYgKGd1aS5fX3ByZXNldF9zZWxlY3RbaW5kZXhdLnZhbHVlID09PSBndWkucHJlc2V0KSB7XG5cdCAgICAgIGd1aS5fX3ByZXNldF9zZWxlY3Quc2VsZWN0ZWRJbmRleCA9IGluZGV4O1xuXHQgICAgfVxuXHQgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gdXBkYXRlRGlzcGxheXMoY29udHJvbGxlckFycmF5KSB7XG5cdCAgaWYgKGNvbnRyb2xsZXJBcnJheS5sZW5ndGggIT09IDApIHtcblx0ICAgIF9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUyLmRlZmF1bHQuY2FsbCh3aW5kb3csIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdXBkYXRlRGlzcGxheXMoY29udHJvbGxlckFycmF5KTtcblx0ICAgIH0pO1xuXHQgIH1cblx0XG5cdCAgX2NvbW1vbjIuZGVmYXVsdC5lYWNoKGNvbnRyb2xsZXJBcnJheSwgZnVuY3Rpb24gKGMpIHtcblx0ICAgIGMudXBkYXRlRGlzcGxheSgpO1xuXHQgIH0pO1xuXHR9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBHVUk7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogMTggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdC8qKlxuXHQgKiBkYXQtZ3VpIEphdmFTY3JpcHQgQ29udHJvbGxlciBMaWJyYXJ5XG5cdCAqIGh0dHA6Ly9jb2RlLmdvb2dsZS5jb20vcC9kYXQtZ3VpXG5cdCAqXG5cdCAqIENvcHlyaWdodCAyMDExIERhdGEgQXJ0cyBUZWFtLCBHb29nbGUgQ3JlYXRpdmUgTGFiXG5cdCAqXG5cdCAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG5cdCAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cblx0ICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG5cdCAqXG5cdCAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuXHQgKi9cblx0XG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgIGxvYWQ6IGZ1bmN0aW9uIGxvYWQodXJsLCBpbmRvYykge1xuXHQgICAgdmFyIGRvYyA9IGluZG9jIHx8IGRvY3VtZW50O1xuXHQgICAgdmFyIGxpbmsgPSBkb2MuY3JlYXRlRWxlbWVudCgnbGluaycpO1xuXHQgICAgbGluay50eXBlID0gJ3RleHQvY3NzJztcblx0ICAgIGxpbmsucmVsID0gJ3N0eWxlc2hlZXQnO1xuXHQgICAgbGluay5ocmVmID0gdXJsO1xuXHQgICAgZG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0uYXBwZW5kQ2hpbGQobGluayk7XG5cdCAgfSxcblx0XG5cdCAgaW5qZWN0OiBmdW5jdGlvbiBpbmplY3QoY3NzLCBpbmRvYykge1xuXHQgICAgdmFyIGRvYyA9IGluZG9jIHx8IGRvY3VtZW50O1xuXHQgICAgdmFyIGluamVjdGVkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcblx0ICAgIGluamVjdGVkLnR5cGUgPSAndGV4dC9jc3MnO1xuXHQgICAgaW5qZWN0ZWQuaW5uZXJIVE1MID0gY3NzO1xuXHQgICAgdmFyIGhlYWQgPSBkb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXTtcblx0ICAgIHRyeSB7XG5cdCAgICAgIGhlYWQuYXBwZW5kQ2hpbGQoaW5qZWN0ZWQpO1xuXHQgICAgfSBjYXRjaCAoZSkgey8vIFVuYWJsZSB0byBpbmplY3QgQ1NTLCBwcm9iYWJseSBiZWNhdXNlIG9mIGEgQ29udGVudCBTZWN1cml0eSBQb2xpY3lcblx0ICAgIH1cblx0ICB9XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgaWQ9XFxcImRnLXNhdmVcXFwiIGNsYXNzPVxcXCJkZyBkaWFsb2d1ZVxcXCI+XFxuXFxuICBIZXJlJ3MgdGhlIG5ldyBsb2FkIHBhcmFtZXRlciBmb3IgeW91ciA8Y29kZT5HVUk8L2NvZGU+J3MgY29uc3RydWN0b3I6XFxuXFxuICA8dGV4dGFyZWEgaWQ9XFxcImRnLW5ldy1jb25zdHJ1Y3RvclxcXCI+PC90ZXh0YXJlYT5cXG5cXG4gIDxkaXYgaWQ9XFxcImRnLXNhdmUtbG9jYWxseVxcXCI+XFxuXFxuICAgIDxpbnB1dCBpZD1cXFwiZGctbG9jYWwtc3RvcmFnZVxcXCIgdHlwZT1cXFwiY2hlY2tib3hcXFwiLz4gQXV0b21hdGljYWxseSBzYXZlXFxuICAgIHZhbHVlcyB0byA8Y29kZT5sb2NhbFN0b3JhZ2U8L2NvZGU+IG9uIGV4aXQuXFxuXFxuICAgIDxkaXYgaWQ9XFxcImRnLWxvY2FsLWV4cGxhaW5cXFwiPlRoZSB2YWx1ZXMgc2F2ZWQgdG8gPGNvZGU+bG9jYWxTdG9yYWdlPC9jb2RlPiB3aWxsXFxuICAgICAgb3ZlcnJpZGUgdGhvc2UgcGFzc2VkIHRvIDxjb2RlPmRhdC5HVUk8L2NvZGU+J3MgY29uc3RydWN0b3IuIFRoaXMgbWFrZXMgaXRcXG4gICAgICBlYXNpZXIgdG8gd29yayBpbmNyZW1lbnRhbGx5LCBidXQgPGNvZGU+bG9jYWxTdG9yYWdlPC9jb2RlPiBpcyBmcmFnaWxlLFxcbiAgICAgIGFuZCB5b3VyIGZyaWVuZHMgbWF5IG5vdCBzZWUgdGhlIHNhbWUgdmFsdWVzIHlvdSBkby5cXG5cXG4gICAgPC9kaXY+XFxuXFxuICA8L2Rpdj5cXG5cXG48L2Rpdj5cIjtcblxuLyoqKi8gfSxcbi8qIDIwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0dmFyIF9PcHRpb25Db250cm9sbGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cdFxuXHR2YXIgX09wdGlvbkNvbnRyb2xsZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfT3B0aW9uQ29udHJvbGxlcik7XG5cdFxuXHR2YXIgX051bWJlckNvbnRyb2xsZXJCb3ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcblx0XG5cdHZhciBfTnVtYmVyQ29udHJvbGxlckJveDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9OdW1iZXJDb250cm9sbGVyQm94KTtcblx0XG5cdHZhciBfTnVtYmVyQ29udHJvbGxlclNsaWRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xuXHRcblx0dmFyIF9OdW1iZXJDb250cm9sbGVyU2xpZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX051bWJlckNvbnRyb2xsZXJTbGlkZXIpO1xuXHRcblx0dmFyIF9TdHJpbmdDb250cm9sbGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cdFxuXHR2YXIgX1N0cmluZ0NvbnRyb2xsZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3RyaW5nQ29udHJvbGxlcik7XG5cdFxuXHR2YXIgX0Z1bmN0aW9uQ29udHJvbGxlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xuXHRcblx0dmFyIF9GdW5jdGlvbkNvbnRyb2xsZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRnVuY3Rpb25Db250cm9sbGVyKTtcblx0XG5cdHZhciBfQm9vbGVhbkNvbnRyb2xsZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHRcblx0dmFyIF9Cb29sZWFuQ29udHJvbGxlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Cb29sZWFuQ29udHJvbGxlcik7XG5cdFxuXHR2YXIgX2NvbW1vbiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX2NvbW1vbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb21tb24pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBDb250cm9sbGVyRmFjdG9yeSA9IGZ1bmN0aW9uIENvbnRyb2xsZXJGYWN0b3J5KG9iamVjdCwgcHJvcGVydHkpIHtcblx0ICB2YXIgaW5pdGlhbFZhbHVlID0gb2JqZWN0W3Byb3BlcnR5XTtcblx0XG5cdCAgLy8gUHJvdmlkaW5nIG9wdGlvbnM/XG5cdCAgaWYgKF9jb21tb24yLmRlZmF1bHQuaXNBcnJheShhcmd1bWVudHNbMl0pIHx8IF9jb21tb24yLmRlZmF1bHQuaXNPYmplY3QoYXJndW1lbnRzWzJdKSkge1xuXHQgICAgcmV0dXJuIG5ldyBfT3B0aW9uQ29udHJvbGxlcjIuZGVmYXVsdChvYmplY3QsIHByb3BlcnR5LCBhcmd1bWVudHNbMl0pO1xuXHQgIH1cblx0XG5cdCAgLy8gUHJvdmlkaW5nIGEgbWFwP1xuXHQgIGlmIChfY29tbW9uMi5kZWZhdWx0LmlzTnVtYmVyKGluaXRpYWxWYWx1ZSkpIHtcblx0ICAgIC8vIEhhcyBtaW4gYW5kIG1heD8gKHNsaWRlcilcblx0ICAgIGlmIChfY29tbW9uMi5kZWZhdWx0LmlzTnVtYmVyKGFyZ3VtZW50c1syXSkgJiYgX2NvbW1vbjIuZGVmYXVsdC5pc051bWJlcihhcmd1bWVudHNbM10pKSB7XG5cdCAgICAgIC8vIGhhcyBzdGVwP1xuXHQgICAgICBpZiAoX2NvbW1vbjIuZGVmYXVsdC5pc051bWJlcihhcmd1bWVudHNbNF0pKSB7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBfTnVtYmVyQ29udHJvbGxlclNsaWRlcjIuZGVmYXVsdChvYmplY3QsIHByb3BlcnR5LCBhcmd1bWVudHNbMl0sIGFyZ3VtZW50c1szXSwgYXJndW1lbnRzWzRdKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIG5ldyBfTnVtYmVyQ29udHJvbGxlclNsaWRlcjIuZGVmYXVsdChvYmplY3QsIHByb3BlcnR5LCBhcmd1bWVudHNbMl0sIGFyZ3VtZW50c1szXSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gbnVtYmVyIGJveFxuXHQgICAgaWYgKF9jb21tb24yLmRlZmF1bHQuaXNOdW1iZXIoYXJndW1lbnRzWzRdKSkge1xuXHQgICAgICAvLyBoYXMgc3RlcFxuXHQgICAgICByZXR1cm4gbmV3IF9OdW1iZXJDb250cm9sbGVyQm94Mi5kZWZhdWx0KG9iamVjdCwgcHJvcGVydHksIHsgbWluOiBhcmd1bWVudHNbMl0sIG1heDogYXJndW1lbnRzWzNdLCBzdGVwOiBhcmd1bWVudHNbNF0gfSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gbmV3IF9OdW1iZXJDb250cm9sbGVyQm94Mi5kZWZhdWx0KG9iamVjdCwgcHJvcGVydHksIHsgbWluOiBhcmd1bWVudHNbMl0sIG1heDogYXJndW1lbnRzWzNdIH0pO1xuXHQgIH1cblx0XG5cdCAgaWYgKF9jb21tb24yLmRlZmF1bHQuaXNTdHJpbmcoaW5pdGlhbFZhbHVlKSkge1xuXHQgICAgcmV0dXJuIG5ldyBfU3RyaW5nQ29udHJvbGxlcjIuZGVmYXVsdChvYmplY3QsIHByb3BlcnR5KTtcblx0ICB9XG5cdFxuXHQgIGlmIChfY29tbW9uMi5kZWZhdWx0LmlzRnVuY3Rpb24oaW5pdGlhbFZhbHVlKSkge1xuXHQgICAgcmV0dXJuIG5ldyBfRnVuY3Rpb25Db250cm9sbGVyMi5kZWZhdWx0KG9iamVjdCwgcHJvcGVydHksICcnKTtcblx0ICB9XG5cdFxuXHQgIGlmIChfY29tbW9uMi5kZWZhdWx0LmlzQm9vbGVhbihpbml0aWFsVmFsdWUpKSB7XG5cdCAgICByZXR1cm4gbmV3IF9Cb29sZWFuQ29udHJvbGxlcjIuZGVmYXVsdChvYmplY3QsIHByb3BlcnR5KTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBudWxsO1xuXHR9OyAvKipcblx0ICAgICogZGF0LWd1aSBKYXZhU2NyaXB0IENvbnRyb2xsZXIgTGlicmFyeVxuXHQgICAgKiBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvZGF0LWd1aVxuXHQgICAgKlxuXHQgICAgKiBDb3B5cmlnaHQgMjAxMSBEYXRhIEFydHMgVGVhbSwgR29vZ2xlIENyZWF0aXZlIExhYlxuXHQgICAgKlxuXHQgICAgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuXHQgICAgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG5cdCAgICAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuXHQgICAgKlxuXHQgICAgKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblx0ICAgICovXG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBDb250cm9sbGVyRmFjdG9yeTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG4vKiAyMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHQvKipcblx0ICogZGF0LWd1aSBKYXZhU2NyaXB0IENvbnRyb2xsZXIgTGlicmFyeVxuXHQgKiBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvZGF0LWd1aVxuXHQgKlxuXHQgKiBDb3B5cmlnaHQgMjAxMSBEYXRhIEFydHMgVGVhbSwgR29vZ2xlIENyZWF0aXZlIExhYlxuXHQgKlxuXHQgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuXHQgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG5cdCAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuXHQgKlxuXHQgKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblx0ICovXG5cdFxuXHRmdW5jdGlvbiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2FsbGJhY2spIHtcblx0ICBzZXRUaW1lb3V0KGNhbGxiYWNrLCAxMDAwIC8gNjApO1xuXHR9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cub1JlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgcmVxdWVzdEFuaW1hdGlvbkZyYW1lO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdO1xuXG4vKioqLyB9LFxuLyogMjIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX2RvbSA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdFxuXHR2YXIgX2RvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kb20pO1xuXHRcblx0dmFyIF9jb21tb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9jb21tb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tbW9uKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfSAvKipcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIGRhdC1ndWkgSmF2YVNjcmlwdCBDb250cm9sbGVyIExpYnJhcnlcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIGh0dHA6Ly9jb2RlLmdvb2dsZS5jb20vcC9kYXQtZ3VpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTEgRGF0YSBBcnRzIFRlYW0sIEdvb2dsZSBDcmVhdGl2ZSBMYWJcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblx0XG5cdHZhciBDZW50ZXJlZERpdiA9IGZ1bmN0aW9uICgpIHtcblx0ICBmdW5jdGlvbiBDZW50ZXJlZERpdigpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDZW50ZXJlZERpdik7XG5cdFxuXHQgICAgdGhpcy5iYWNrZ3JvdW5kRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHQgICAgX2NvbW1vbjIuZGVmYXVsdC5leHRlbmQodGhpcy5iYWNrZ3JvdW5kRWxlbWVudC5zdHlsZSwge1xuXHQgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDAsMCwwLDAuOCknLFxuXHQgICAgICB0b3A6IDAsXG5cdCAgICAgIGxlZnQ6IDAsXG5cdCAgICAgIGRpc3BsYXk6ICdub25lJyxcblx0ICAgICAgekluZGV4OiAnMTAwMCcsXG5cdCAgICAgIG9wYWNpdHk6IDAsXG5cdCAgICAgIFdlYmtpdFRyYW5zaXRpb246ICdvcGFjaXR5IDAuMnMgbGluZWFyJyxcblx0ICAgICAgdHJhbnNpdGlvbjogJ29wYWNpdHkgMC4ycyBsaW5lYXInXG5cdCAgICB9KTtcblx0XG5cdCAgICBfZG9tMi5kZWZhdWx0Lm1ha2VGdWxsc2NyZWVuKHRoaXMuYmFja2dyb3VuZEVsZW1lbnQpO1xuXHQgICAgdGhpcy5iYWNrZ3JvdW5kRWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7XG5cdFxuXHQgICAgdGhpcy5kb21FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdCAgICBfY29tbW9uMi5kZWZhdWx0LmV4dGVuZCh0aGlzLmRvbUVsZW1lbnQuc3R5bGUsIHtcblx0ICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG5cdCAgICAgIGRpc3BsYXk6ICdub25lJyxcblx0ICAgICAgekluZGV4OiAnMTAwMScsXG5cdCAgICAgIG9wYWNpdHk6IDAsXG5cdCAgICAgIFdlYmtpdFRyYW5zaXRpb246ICctd2Via2l0LXRyYW5zZm9ybSAwLjJzIGVhc2Utb3V0LCBvcGFjaXR5IDAuMnMgbGluZWFyJyxcblx0ICAgICAgdHJhbnNpdGlvbjogJ3RyYW5zZm9ybSAwLjJzIGVhc2Utb3V0LCBvcGFjaXR5IDAuMnMgbGluZWFyJ1xuXHQgICAgfSk7XG5cdFxuXHQgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmJhY2tncm91bmRFbGVtZW50KTtcblx0ICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5kb21FbGVtZW50KTtcblx0XG5cdCAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHQgICAgX2RvbTIuZGVmYXVsdC5iaW5kKHRoaXMuYmFja2dyb3VuZEVsZW1lbnQsICdjbGljaycsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgX3RoaXMuaGlkZSgpO1xuXHQgICAgfSk7XG5cdCAgfVxuXHRcblx0ICBDZW50ZXJlZERpdi5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uIHNob3coKSB7XG5cdCAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICAgIHRoaXMuYmFja2dyb3VuZEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cdFxuXHQgICAgdGhpcy5kb21FbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXHQgICAgdGhpcy5kb21FbGVtZW50LnN0eWxlLm9wYWNpdHkgPSAwO1xuXHQgICAgLy8gICAgdGhpcy5kb21FbGVtZW50LnN0eWxlLnRvcCA9ICc1MiUnO1xuXHQgICAgdGhpcy5kb21FbGVtZW50LnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9ICdzY2FsZSgxLjEpJztcblx0XG5cdCAgICB0aGlzLmxheW91dCgpO1xuXHRcblx0ICAgIF9jb21tb24yLmRlZmF1bHQuZGVmZXIoZnVuY3Rpb24gKCkge1xuXHQgICAgICBfdGhpcy5iYWNrZ3JvdW5kRWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gMTtcblx0ICAgICAgX3RoaXMuZG9tRWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gMTtcblx0ICAgICAgX3RoaXMuZG9tRWxlbWVudC5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSAnc2NhbGUoMSknO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgLyoqXG5cdCAgICogSGlkZSBjZW50ZXJlZCBkaXZcblx0ICAgKi9cblx0XG5cdFxuXHQgIENlbnRlcmVkRGl2LnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24gaGlkZSgpIHtcblx0ICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgICAgdmFyIGhpZGUgPSBmdW5jdGlvbiBoaWRlKCkge1xuXHQgICAgICBfdGhpcy5kb21FbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdCAgICAgIF90aGlzLmJhY2tncm91bmRFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdFxuXHQgICAgICBfZG9tMi5kZWZhdWx0LnVuYmluZChfdGhpcy5kb21FbGVtZW50LCAnd2Via2l0VHJhbnNpdGlvbkVuZCcsIGhpZGUpO1xuXHQgICAgICBfZG9tMi5kZWZhdWx0LnVuYmluZChfdGhpcy5kb21FbGVtZW50LCAndHJhbnNpdGlvbmVuZCcsIGhpZGUpO1xuXHQgICAgICBfZG9tMi5kZWZhdWx0LnVuYmluZChfdGhpcy5kb21FbGVtZW50LCAnb1RyYW5zaXRpb25FbmQnLCBoaWRlKTtcblx0ICAgIH07XG5cdFxuXHQgICAgX2RvbTIuZGVmYXVsdC5iaW5kKHRoaXMuZG9tRWxlbWVudCwgJ3dlYmtpdFRyYW5zaXRpb25FbmQnLCBoaWRlKTtcblx0ICAgIF9kb20yLmRlZmF1bHQuYmluZCh0aGlzLmRvbUVsZW1lbnQsICd0cmFuc2l0aW9uZW5kJywgaGlkZSk7XG5cdCAgICBfZG9tMi5kZWZhdWx0LmJpbmQodGhpcy5kb21FbGVtZW50LCAnb1RyYW5zaXRpb25FbmQnLCBoaWRlKTtcblx0XG5cdCAgICB0aGlzLmJhY2tncm91bmRFbGVtZW50LnN0eWxlLm9wYWNpdHkgPSAwO1xuXHQgICAgLy8gICAgdGhpcy5kb21FbGVtZW50LnN0eWxlLnRvcCA9ICc0OCUnO1xuXHQgICAgdGhpcy5kb21FbGVtZW50LnN0eWxlLm9wYWNpdHkgPSAwO1xuXHQgICAgdGhpcy5kb21FbGVtZW50LnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9ICdzY2FsZSgxLjEpJztcblx0ICB9O1xuXHRcblx0ICBDZW50ZXJlZERpdi5wcm90b3R5cGUubGF5b3V0ID0gZnVuY3Rpb24gbGF5b3V0KCkge1xuXHQgICAgdGhpcy5kb21FbGVtZW50LnN0eWxlLmxlZnQgPSB3aW5kb3cuaW5uZXJXaWR0aCAvIDIgLSBfZG9tMi5kZWZhdWx0LmdldFdpZHRoKHRoaXMuZG9tRWxlbWVudCkgLyAyICsgJ3B4Jztcblx0ICAgIHRoaXMuZG9tRWxlbWVudC5zdHlsZS50b3AgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLyAyIC0gX2RvbTIuZGVmYXVsdC5nZXRIZWlnaHQodGhpcy5kb21FbGVtZW50KSAvIDIgKyAncHgnO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiBDZW50ZXJlZERpdjtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gQ2VudGVyZWREaXY7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogMjMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMjQpKCk7XG5cdC8vIGltcG9ydHNcblx0XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLmRnIHtcXG4gIC8qKiBDbGVhciBsaXN0IHN0eWxlcyAqL1xcbiAgLyogQXV0by1wbGFjZSBjb250YWluZXIgKi9cXG4gIC8qIEF1dG8tcGxhY2VkIEdVSSdzICovXFxuICAvKiBMaW5lIGl0ZW1zIHRoYXQgZG9uJ3QgY29udGFpbiBmb2xkZXJzLiAqL1xcbiAgLyoqIEZvbGRlciBuYW1lcyAqL1xcbiAgLyoqIEhpZGVzIGNsb3NlZCBpdGVtcyAqL1xcbiAgLyoqIENvbnRyb2xsZXIgcm93ICovXFxuICAvKiogTmFtZS1oYWxmIChsZWZ0KSAqL1xcbiAgLyoqIENvbnRyb2xsZXItaGFsZiAocmlnaHQpICovXFxuICAvKiogQ29udHJvbGxlciBwbGFjZW1lbnQgKi9cXG4gIC8qKiBTaG9ydGVyIG51bWJlciBib3hlcyB3aGVuIHNsaWRlciBpcyBwcmVzZW50LiAqL1xcbiAgLyoqIEVuc3VyZSB0aGUgZW50aXJlIGJvb2xlYW4gYW5kIGZ1bmN0aW9uIHJvdyBzaG93cyBhIGhhbmQgKi9cXG4gIC8qKiBhbGxvdyBvdmVyZmxvdyBmb3IgY29sb3Igc2VsZWN0b3IgKi8gfVxcbiAgLmRnIHVsIHtcXG4gICAgbGlzdC1zdHlsZTogbm9uZTtcXG4gICAgbWFyZ2luOiAwO1xcbiAgICBwYWRkaW5nOiAwO1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgY2xlYXI6IGJvdGg7IH1cXG4gIC5kZy5hYyB7XFxuICAgIHBvc2l0aW9uOiBmaXhlZDtcXG4gICAgdG9wOiAwO1xcbiAgICBsZWZ0OiAwO1xcbiAgICByaWdodDogMDtcXG4gICAgaGVpZ2h0OiAwO1xcbiAgICB6LWluZGV4OiAwOyB9XFxuICAuZGc6bm90KC5hYykgLm1haW4ge1xcbiAgICAvKiogRXhjbHVkZSBtYWlucyBpbiBhYyBzbyB0aGF0IHdlIGRvbid0IGhpZGUgY2xvc2UgYnV0dG9uICovXFxuICAgIG92ZXJmbG93OiBoaWRkZW47IH1cXG4gIC5kZy5tYWluIHtcXG4gICAgLXdlYmtpdC10cmFuc2l0aW9uOiBvcGFjaXR5IDAuMXMgbGluZWFyO1xcbiAgICAtby10cmFuc2l0aW9uOiBvcGFjaXR5IDAuMXMgbGluZWFyO1xcbiAgICAtbW96LXRyYW5zaXRpb246IG9wYWNpdHkgMC4xcyBsaW5lYXI7XFxuICAgIHRyYW5zaXRpb246IG9wYWNpdHkgMC4xcyBsaW5lYXI7IH1cXG4gICAgLmRnLm1haW4udGFsbGVyLXRoYW4td2luZG93IHtcXG4gICAgICBvdmVyZmxvdy15OiBhdXRvOyB9XFxuICAgICAgLmRnLm1haW4udGFsbGVyLXRoYW4td2luZG93IC5jbG9zZS1idXR0b24ge1xcbiAgICAgICAgb3BhY2l0eTogMTtcXG4gICAgICAgIC8qIFRPRE8sIHRoZXNlIGFyZSBzdHlsZSBub3RlcyAqL1xcbiAgICAgICAgbWFyZ2luLXRvcDogLTFweDtcXG4gICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjMmMyYzJjOyB9XFxuICAgIC5kZy5tYWluIHVsLmNsb3NlZCAuY2xvc2UtYnV0dG9uIHtcXG4gICAgICBvcGFjaXR5OiAxICFpbXBvcnRhbnQ7IH1cXG4gICAgLmRnLm1haW46aG92ZXIgLmNsb3NlLWJ1dHRvbixcXG4gICAgLmRnLm1haW4gLmNsb3NlLWJ1dHRvbi5kcmFnIHtcXG4gICAgICBvcGFjaXR5OiAxOyB9XFxuICAgIC5kZy5tYWluIC5jbG9zZS1idXR0b24ge1xcbiAgICAgIC8qb3BhY2l0eTogMDsqL1xcbiAgICAgIC13ZWJraXQtdHJhbnNpdGlvbjogb3BhY2l0eSAwLjFzIGxpbmVhcjtcXG4gICAgICAtby10cmFuc2l0aW9uOiBvcGFjaXR5IDAuMXMgbGluZWFyO1xcbiAgICAgIC1tb3otdHJhbnNpdGlvbjogb3BhY2l0eSAwLjFzIGxpbmVhcjtcXG4gICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuMXMgbGluZWFyO1xcbiAgICAgIGJvcmRlcjogMDtcXG4gICAgICBsaW5lLWhlaWdodDogMTlweDtcXG4gICAgICBoZWlnaHQ6IDIwcHg7XFxuICAgICAgLyogVE9ETywgdGhlc2UgYXJlIHN0eWxlIG5vdGVzICovXFxuICAgICAgY3Vyc29yOiBwb2ludGVyO1xcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAwOyB9XFxuICAgICAgLmRnLm1haW4gLmNsb3NlLWJ1dHRvbi5jbG9zZS10b3Age1xcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOyB9XFxuICAgICAgLmRnLm1haW4gLmNsb3NlLWJ1dHRvbi5jbG9zZS1ib3R0b20ge1xcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlOyB9XFxuICAgICAgLmRnLm1haW4gLmNsb3NlLWJ1dHRvbjpob3ZlciB7XFxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMTExOyB9XFxuICAuZGcuYSB7XFxuICAgIGZsb2F0OiByaWdodDtcXG4gICAgbWFyZ2luLXJpZ2h0OiAxNXB4O1xcbiAgICBvdmVyZmxvdy15OiB2aXNpYmxlOyB9XFxuICAgIC5kZy5hLmhhcy1zYXZlID4gdWwuY2xvc2UtdG9wIHtcXG4gICAgICBtYXJnaW4tdG9wOiAwOyB9XFxuICAgIC5kZy5hLmhhcy1zYXZlID4gdWwuY2xvc2UtYm90dG9tIHtcXG4gICAgICBtYXJnaW4tdG9wOiAyN3B4OyB9XFxuICAgIC5kZy5hLmhhcy1zYXZlID4gdWwuY2xvc2VkIHtcXG4gICAgICBtYXJnaW4tdG9wOiAwOyB9XFxuICAgIC5kZy5hIC5zYXZlLXJvdyB7XFxuICAgICAgdG9wOiAwO1xcbiAgICAgIHotaW5kZXg6IDEwMDI7IH1cXG4gICAgICAuZGcuYSAuc2F2ZS1yb3cuY2xvc2UtdG9wIHtcXG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsgfVxcbiAgICAgIC5kZy5hIC5zYXZlLXJvdy5jbG9zZS1ib3R0b20ge1xcbiAgICAgICAgcG9zaXRpb246IGZpeGVkOyB9XFxuICAuZGcgbGkge1xcbiAgICAtd2Via2l0LXRyYW5zaXRpb246IGhlaWdodCAwLjFzIGVhc2Utb3V0O1xcbiAgICAtby10cmFuc2l0aW9uOiBoZWlnaHQgMC4xcyBlYXNlLW91dDtcXG4gICAgLW1vei10cmFuc2l0aW9uOiBoZWlnaHQgMC4xcyBlYXNlLW91dDtcXG4gICAgdHJhbnNpdGlvbjogaGVpZ2h0IDAuMXMgZWFzZS1vdXQ7XFxuICAgIC13ZWJraXQtdHJhbnNpdGlvbjogb3ZlcmZsb3cgMC4xcyBsaW5lYXI7XFxuICAgIC1vLXRyYW5zaXRpb246IG92ZXJmbG93IDAuMXMgbGluZWFyO1xcbiAgICAtbW96LXRyYW5zaXRpb246IG92ZXJmbG93IDAuMXMgbGluZWFyO1xcbiAgICB0cmFuc2l0aW9uOiBvdmVyZmxvdyAwLjFzIGxpbmVhcjsgfVxcbiAgLmRnIGxpOm5vdCguZm9sZGVyKSB7XFxuICAgIGN1cnNvcjogYXV0bztcXG4gICAgaGVpZ2h0OiAyN3B4O1xcbiAgICBsaW5lLWhlaWdodDogMjdweDtcXG4gICAgcGFkZGluZzogMCA0cHggMCA1cHg7IH1cXG4gIC5kZyBsaS5mb2xkZXIge1xcbiAgICBwYWRkaW5nOiAwO1xcbiAgICBib3JkZXItbGVmdDogNHB4IHNvbGlkIHRyYW5zcGFyZW50OyB9XFxuICAuZGcgbGkudGl0bGUge1xcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgIG1hcmdpbi1sZWZ0OiAtNHB4OyB9XFxuICAuZGcgLmNsb3NlZCBsaTpub3QoLnRpdGxlKSxcXG4gIC5kZyAuY2xvc2VkIHVsIGxpLFxcbiAgLmRnIC5jbG9zZWQgdWwgbGkgPiAqIHtcXG4gICAgaGVpZ2h0OiAwO1xcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgICBib3JkZXI6IDA7IH1cXG4gIC5kZyAuY3Ige1xcbiAgICBjbGVhcjogYm90aDtcXG4gICAgcGFkZGluZy1sZWZ0OiAzcHg7XFxuICAgIGhlaWdodDogMjdweDtcXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjsgfVxcbiAgLmRnIC5wcm9wZXJ0eS1uYW1lIHtcXG4gICAgY3Vyc29yOiBkZWZhdWx0O1xcbiAgICBmbG9hdDogbGVmdDtcXG4gICAgY2xlYXI6IGxlZnQ7XFxuICAgIHdpZHRoOiA0MCU7XFxuICAgIG92ZXJmbG93OiBoaWRkZW47XFxuICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOyB9XFxuICAuZGcgLmMge1xcbiAgICBmbG9hdDogbGVmdDtcXG4gICAgd2lkdGg6IDYwJTtcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlOyB9XFxuICAuZGcgLmMgaW5wdXRbdHlwZT10ZXh0XSB7XFxuICAgIGJvcmRlcjogMDtcXG4gICAgbWFyZ2luLXRvcDogNHB4O1xcbiAgICBwYWRkaW5nOiAzcHg7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICBmbG9hdDogcmlnaHQ7IH1cXG4gIC5kZyAuaGFzLXNsaWRlciBpbnB1dFt0eXBlPXRleHRdIHtcXG4gICAgd2lkdGg6IDMwJTtcXG4gICAgLypkaXNwbGF5OiBub25lOyovXFxuICAgIG1hcmdpbi1sZWZ0OiAwOyB9XFxuICAuZGcgLnNsaWRlciB7XFxuICAgIGZsb2F0OiBsZWZ0O1xcbiAgICB3aWR0aDogNjYlO1xcbiAgICBtYXJnaW4tbGVmdDogLTVweDtcXG4gICAgbWFyZ2luLXJpZ2h0OiAwO1xcbiAgICBoZWlnaHQ6IDE5cHg7XFxuICAgIG1hcmdpbi10b3A6IDRweDsgfVxcbiAgLmRnIC5zbGlkZXItZmcge1xcbiAgICBoZWlnaHQ6IDEwMCU7IH1cXG4gIC5kZyAuYyBpbnB1dFt0eXBlPWNoZWNrYm94XSB7XFxuICAgIG1hcmdpbi10b3A6IDdweDsgfVxcbiAgLmRnIC5jIHNlbGVjdCB7XFxuICAgIG1hcmdpbi10b3A6IDVweDsgfVxcbiAgLmRnIC5jci5mdW5jdGlvbixcXG4gIC5kZyAuY3IuZnVuY3Rpb24gLnByb3BlcnR5LW5hbWUsXFxuICAuZGcgLmNyLmZ1bmN0aW9uICosXFxuICAuZGcgLmNyLmJvb2xlYW4sXFxuICAuZGcgLmNyLmJvb2xlYW4gKiB7XFxuICAgIGN1cnNvcjogcG9pbnRlcjsgfVxcbiAgLmRnIC5jci5jb2xvciB7XFxuICAgIG92ZXJmbG93OiB2aXNpYmxlOyB9XFxuICAuZGcgLnNlbGVjdG9yIHtcXG4gICAgZGlzcGxheTogbm9uZTtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICBtYXJnaW4tbGVmdDogLTlweDtcXG4gICAgbWFyZ2luLXRvcDogMjNweDtcXG4gICAgei1pbmRleDogMTA7IH1cXG4gIC5kZyAuYzpob3ZlciAuc2VsZWN0b3IsXFxuICAuZGcgLnNlbGVjdG9yLmRyYWcge1xcbiAgICBkaXNwbGF5OiBibG9jazsgfVxcbiAgLmRnIGxpLnNhdmUtcm93IHtcXG4gICAgcGFkZGluZzogMDsgfVxcbiAgICAuZGcgbGkuc2F2ZS1yb3cgLmJ1dHRvbiB7XFxuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgICAgIHBhZGRpbmc6IDBweCA2cHg7IH1cXG4gIC5kZy5kaWFsb2d1ZSB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICMyMjI7XFxuICAgIHdpZHRoOiA0NjBweDtcXG4gICAgcGFkZGluZzogMTVweDtcXG4gICAgZm9udC1zaXplOiAxM3B4O1xcbiAgICBsaW5lLWhlaWdodDogMTVweDsgfVxcblxcbi8qIFRPRE8gU2VwYXJhdGUgc3R5bGUgYW5kIHN0cnVjdHVyZSAqL1xcbiNkZy1uZXctY29uc3RydWN0b3Ige1xcbiAgcGFkZGluZzogMTBweDtcXG4gIGNvbG9yOiAjMjIyO1xcbiAgZm9udC1mYW1pbHk6IE1vbmFjbywgbW9ub3NwYWNlO1xcbiAgZm9udC1zaXplOiAxMHB4O1xcbiAgYm9yZGVyOiAwO1xcbiAgcmVzaXplOiBub25lO1xcbiAgYm94LXNoYWRvdzogaW5zZXQgMXB4IDFweCAxcHggIzg4ODtcXG4gIHdvcmQtd3JhcDogYnJlYWstd29yZDtcXG4gIG1hcmdpbjogMTJweCAwO1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICB3aWR0aDogNDQwcHg7XFxuICBvdmVyZmxvdy15OiBzY3JvbGw7XFxuICBoZWlnaHQ6IDEwMHB4O1xcbiAgcG9zaXRpb246IHJlbGF0aXZlOyB9XFxuXFxuI2RnLWxvY2FsLWV4cGxhaW4ge1xcbiAgZGlzcGxheTogbm9uZTtcXG4gIGZvbnQtc2l6ZTogMTFweDtcXG4gIGxpbmUtaGVpZ2h0OiAxN3B4O1xcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzMzMztcXG4gIHBhZGRpbmc6IDhweDtcXG4gIG1hcmdpbi10b3A6IDEwcHg7IH1cXG4gICNkZy1sb2NhbC1leHBsYWluIGNvZGUge1xcbiAgICBmb250LXNpemU6IDEwcHg7IH1cXG5cXG4jZGF0LWd1aS1zYXZlLWxvY2FsbHkge1xcbiAgZGlzcGxheTogbm9uZTsgfVxcblxcbi8qKiBNYWluIHR5cGUgKi9cXG4uZGcge1xcbiAgY29sb3I6ICNlZWU7XFxuICBmb250OiAxMXB4ICdMdWNpZGEgR3JhbmRlJywgc2Fucy1zZXJpZjtcXG4gIHRleHQtc2hhZG93OiAwIC0xcHggMCAjMTExO1xcbiAgLyoqIEF1dG8gcGxhY2UgKi9cXG4gIC8qIENvbnRyb2xsZXIgcm93LCA8bGk+ICovXFxuICAvKiogQ29udHJvbGxlcnMgKi8gfVxcbiAgLmRnLm1haW4ge1xcbiAgICAvKiogU2Nyb2xsYmFyICovIH1cXG4gICAgLmRnLm1haW46Oi13ZWJraXQtc2Nyb2xsYmFyIHtcXG4gICAgICB3aWR0aDogNXB4O1xcbiAgICAgIGJhY2tncm91bmQ6ICMxYTFhMWE7IH1cXG4gICAgLmRnLm1haW46Oi13ZWJraXQtc2Nyb2xsYmFyLWNvcm5lciB7XFxuICAgICAgaGVpZ2h0OiAwO1xcbiAgICAgIGRpc3BsYXk6IG5vbmU7IH1cXG4gICAgLmRnLm1haW46Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHtcXG4gICAgICBib3JkZXItcmFkaXVzOiA1cHg7XFxuICAgICAgYmFja2dyb3VuZDogIzY3Njc2NzsgfVxcbiAgLmRnIGxpOm5vdCguZm9sZGVyKSB7XFxuICAgIGJhY2tncm91bmQ6ICMxYTFhMWE7XFxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjMmMyYzJjOyB9XFxuICAuZGcgbGkuc2F2ZS1yb3cge1xcbiAgICBsaW5lLWhlaWdodDogMjVweDtcXG4gICAgYmFja2dyb3VuZDogI2RhZDVjYjtcXG4gICAgYm9yZGVyOiAwOyB9XFxuICAgIC5kZyBsaS5zYXZlLXJvdyBzZWxlY3Qge1xcbiAgICAgIG1hcmdpbi1sZWZ0OiA1cHg7XFxuICAgICAgd2lkdGg6IDEwOHB4OyB9XFxuICAgIC5kZyBsaS5zYXZlLXJvdyAuYnV0dG9uIHtcXG4gICAgICBtYXJnaW4tbGVmdDogNXB4O1xcbiAgICAgIG1hcmdpbi10b3A6IDFweDtcXG4gICAgICBib3JkZXItcmFkaXVzOiAycHg7XFxuICAgICAgZm9udC1zaXplOiA5cHg7XFxuICAgICAgbGluZS1oZWlnaHQ6IDdweDtcXG4gICAgICBwYWRkaW5nOiA0cHggNHB4IDVweCA0cHg7XFxuICAgICAgYmFja2dyb3VuZDogI2M1YmRhZDtcXG4gICAgICBjb2xvcjogI2ZmZjtcXG4gICAgICB0ZXh0LXNoYWRvdzogMCAxcHggMCAjYjBhNThmO1xcbiAgICAgIGJveC1zaGFkb3c6IDAgLTFweCAwICNiMGE1OGY7XFxuICAgICAgY3Vyc29yOiBwb2ludGVyOyB9XFxuICAgICAgLmRnIGxpLnNhdmUtcm93IC5idXR0b24uZ2VhcnMge1xcbiAgICAgICAgYmFja2dyb3VuZDogI2M1YmRhZCB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBc0FBQUFOQ0FZQUFBQi85WlE3QUFBQUdYUkZXSFJUYjJaMGQyRnlaUUJCWkc5aVpTQkpiV0ZuWlZKbFlXUjVjY2xsUEFBQUFRSkpSRUZVZU5waVlLQVUvUC8vUHdHSUMvQXBDQUJpQlNBVytJOEFDbEFjZ0t4UTRUOWhvTUFFVXJ4eDJRU0dONitlZ0RYKy92V1Q0ZTdOODJBTVlvUEF4L2V2d1dvWW9TWWJBQ1gyczdLeEN4emNzZXpEaDNldkZvREVCWVRFRXF5Y2dnV0F6QTlBdVVTUVFnZVlQYTlmUHY2L1lXbS9BY3g1SVBiN3R5L2Z3K1FaYmx3Njd2RHM4UjBZSHlRaGdPYngreUFKa0JxbUc1ZFBQRGgxYVBPR1IvZXVnVzBHNHZsSW9USWZ5RmNBK1Fla2hoSEpoUGRReGJpQUlndU1CVFFaclBENzEwOE02cm9XWURGUWlJQUF2NkFvdy8xYkZ3WGdpcytmMkxVQXlud29JYU5jejhYTngzRGw3TUVKVURHUXB4OWd0UThZQ3VlQitEMjZPRUNBQVFEYWR0N2U0NkQ0MlFBQUFBQkpSVTVFcmtKZ2dnPT0pIDJweCAxcHggbm8tcmVwZWF0O1xcbiAgICAgICAgaGVpZ2h0OiA3cHg7XFxuICAgICAgICB3aWR0aDogOHB4OyB9XFxuICAgICAgLmRnIGxpLnNhdmUtcm93IC5idXR0b246aG92ZXIge1xcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2JhYjE5ZTtcXG4gICAgICAgIGJveC1zaGFkb3c6IDAgLTFweCAwICNiMGE1OGY7IH1cXG4gIC5kZyBsaS5mb2xkZXIge1xcbiAgICBib3JkZXItYm90dG9tOiAwOyB9XFxuICAuZGcgbGkudGl0bGUge1xcbiAgICBwYWRkaW5nLWxlZnQ6IDE2cHg7XFxuICAgIGJhY2tncm91bmQ6ICMwMDAgdXJsKGRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEJRQUZBSkVBQVAvLy8vUHo4Ly8vLy8vLy95SDVCQUVBQUFJQUxBQUFBQUFGQUFVQUFBSUlsSStoS2dGeG9DZ0FPdz09KSA2cHggMTBweCBuby1yZXBlYXQ7XFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKTsgfVxcbiAgLmRnIC5jbG9zZWQgbGkudGl0bGUge1xcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQlFBRkFKRUFBUC8vLy9QejgvLy8vLy8vL3lINUJBRUFBQUlBTEFBQUFBQUZBQVVBQUFJSWxHSVdxTUNiV0FFQU93PT0pOyB9XFxuICAuZGcgLmNyLmJvb2xlYW4ge1xcbiAgICBib3JkZXItbGVmdDogM3B4IHNvbGlkICM4MDY3ODc7IH1cXG4gIC5kZyAuY3IuY29sb3Ige1xcbiAgICBib3JkZXItbGVmdDogM3B4IHNvbGlkOyB9XFxuICAuZGcgLmNyLmZ1bmN0aW9uIHtcXG4gICAgYm9yZGVyLWxlZnQ6IDNweCBzb2xpZCAjZTYxZDVmOyB9XFxuICAuZGcgLmNyLm51bWJlciB7XFxuICAgIGJvcmRlci1sZWZ0OiAzcHggc29saWQgIzJGQTFENjsgfVxcbiAgICAuZGcgLmNyLm51bWJlciBpbnB1dFt0eXBlPXRleHRdIHtcXG4gICAgICBjb2xvcjogIzJGQTFENjsgfVxcbiAgLmRnIC5jci5zdHJpbmcge1xcbiAgICBib3JkZXItbGVmdDogM3B4IHNvbGlkICMxZWQzNmY7IH1cXG4gICAgLmRnIC5jci5zdHJpbmcgaW5wdXRbdHlwZT10ZXh0XSB7XFxuICAgICAgY29sb3I6ICMxZWQzNmY7IH1cXG4gIC5kZyAuY3IuZnVuY3Rpb246aG92ZXIsIC5kZyAuY3IuYm9vbGVhbjpob3ZlciB7XFxuICAgIGJhY2tncm91bmQ6ICMxMTE7IH1cXG4gIC5kZyAuYyBpbnB1dFt0eXBlPXRleHRdIHtcXG4gICAgYmFja2dyb3VuZDogIzMwMzAzMDtcXG4gICAgb3V0bGluZTogbm9uZTsgfVxcbiAgICAuZGcgLmMgaW5wdXRbdHlwZT10ZXh0XTpob3ZlciB7XFxuICAgICAgYmFja2dyb3VuZDogIzNjM2MzYzsgfVxcbiAgICAuZGcgLmMgaW5wdXRbdHlwZT10ZXh0XTpmb2N1cyB7XFxuICAgICAgYmFja2dyb3VuZDogIzQ5NDk0OTtcXG4gICAgICBjb2xvcjogI2ZmZjsgfVxcbiAgLmRnIC5jIC5zbGlkZXIge1xcbiAgICBiYWNrZ3JvdW5kOiAjMzAzMDMwO1xcbiAgICBjdXJzb3I6IGV3LXJlc2l6ZTsgfVxcbiAgLmRnIC5jIC5zbGlkZXItZmcge1xcbiAgICBiYWNrZ3JvdW5kOiAjMkZBMUQ2O1xcbiAgICBtYXgtd2lkdGg6IDEwMCU7IH1cXG4gIC5kZyAuYyAuc2xpZGVyOmhvdmVyIHtcXG4gICAgYmFja2dyb3VuZDogIzNjM2MzYzsgfVxcbiAgICAuZGcgLmMgLnNsaWRlcjpob3ZlciAuc2xpZGVyLWZnIHtcXG4gICAgICBiYWNrZ3JvdW5kOiAjNDRhYmRhOyB9XFxuXCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuLyogMjQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qXG5cdFx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0XHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG5cdCovXG5cdC8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGxpc3QgPSBbXTtcblx0XG5cdFx0Ly8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXHRcdGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcblx0XHRcdHZhciByZXN1bHQgPSBbXTtcblx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdHZhciBpdGVtID0gdGhpc1tpXTtcblx0XHRcdFx0aWYoaXRlbVsyXSkge1xuXHRcdFx0XHRcdHJlc3VsdC5wdXNoKFwiQG1lZGlhIFwiICsgaXRlbVsyXSArIFwie1wiICsgaXRlbVsxXSArIFwifVwiKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyZXN1bHQucHVzaChpdGVtWzFdKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJlc3VsdC5qb2luKFwiXCIpO1xuXHRcdH07XG5cdFxuXHRcdC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG5cdFx0bGlzdC5pID0gZnVuY3Rpb24obW9kdWxlcywgbWVkaWFRdWVyeSkge1xuXHRcdFx0aWYodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpXG5cdFx0XHRcdG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcblx0XHRcdHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHR2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXHRcdFx0XHRpZih0eXBlb2YgaWQgPT09IFwibnVtYmVyXCIpXG5cdFx0XHRcdFx0YWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuXHRcdFx0fVxuXHRcdFx0Zm9yKGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHR2YXIgaXRlbSA9IG1vZHVsZXNbaV07XG5cdFx0XHRcdC8vIHNraXAgYWxyZWFkeSBpbXBvcnRlZCBtb2R1bGVcblx0XHRcdFx0Ly8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcblx0XHRcdFx0Ly8gIHdoZW4gYSBtb2R1bGUgaXMgaW1wb3J0ZWQgbXVsdGlwbGUgdGltZXMgd2l0aCBkaWZmZXJlbnQgbWVkaWEgcXVlcmllcy5cblx0XHRcdFx0Ly8gIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcblx0XHRcdFx0aWYodHlwZW9mIGl0ZW1bMF0gIT09IFwibnVtYmVyXCIgfHwgIWFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcblx0XHRcdFx0XHRpZihtZWRpYVF1ZXJ5ICYmICFpdGVtWzJdKSB7XG5cdFx0XHRcdFx0XHRpdGVtWzJdID0gbWVkaWFRdWVyeTtcblx0XHRcdFx0XHR9IGVsc2UgaWYobWVkaWFRdWVyeSkge1xuXHRcdFx0XHRcdFx0aXRlbVsyXSA9IFwiKFwiICsgaXRlbVsyXSArIFwiKSBhbmQgKFwiICsgbWVkaWFRdWVyeSArIFwiKVwiO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRsaXN0LnB1c2goaXRlbSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXHRcdHJldHVybiBsaXN0O1xuXHR9O1xuXG5cbi8qKiovIH1cbi8qKioqKiovIF0pXG59KTtcbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdC5ndWkuanMubWFwIiwiLyoqXG4gKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tL1xuICogQGF1dGhvciBqZXRpZW5uZSAvIGh0dHA6Ly9qZXRpZW5uZS5jb20vXG4gKiBAYXV0aG9yIHBhdWxpcmlzaCAvIGh0dHA6Ly9wYXVsaXJpc2guY29tL1xuICovXG52YXIgTWVtb3J5U3RhdHMgPSBmdW5jdGlvbiAoKXtcblxuXHR2YXIgbXNNaW5cdD0gMTAwO1xuXHR2YXIgbXNNYXhcdD0gMDtcblx0dmFyIEdSQVBIX0hFSUdIVCA9IDMwO1xuXHR2YXIgcmVkcmF3TUJUaHJlc2hvbGQgPSBHUkFQSF9IRUlHSFQ7XG5cblx0dmFyIGNvbnRhaW5lclx0PSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnZGl2JyApO1xuXHRjb250YWluZXIuaWRcdD0gJ3N0YXRzJztcblx0Y29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSAnd2lkdGg6ODBweDtoZWlnaHQ6NDhweDtvcGFjaXR5OjAuOTtjdXJzb3I6cG9pbnRlcjtvdmVyZmxvdzpoaWRkZW47ei1pbmRleDoxMDAwMDt3aWxsLWNoYW5nZTp0cmFuc2Zvcm07JztcblxuXHR2YXIgbXNEaXZcdD0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2RpdicgKTtcblx0bXNEaXYuaWRcdD0gJ21zJztcblx0bXNEaXYuc3R5bGUuY3NzVGV4dCA9ICdwYWRkaW5nOjAgMCAzcHggM3B4O3RleHQtYWxpZ246bGVmdDtiYWNrZ3JvdW5kLWNvbG9yOiMwMjA7Jztcblx0Y29udGFpbmVyLmFwcGVuZENoaWxkKCBtc0RpdiApO1xuXG5cdHZhciBtc1RleHRcdD0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2RpdicgKTtcblx0bXNUZXh0LmlkXHQ9ICdtc1RleHQnO1xuXHRtc1RleHQuc3R5bGUuY3NzVGV4dCA9ICdjb2xvcjojMGYwO2ZvbnQtZmFtaWx5OkhlbHZldGljYSxBcmlhbCxzYW5zLXNlcmlmO2ZvbnQtc2l6ZTo5cHg7Zm9udC13ZWlnaHQ6Ym9sZDtsaW5lLWhlaWdodDoxNXB4Jztcblx0bXNUZXh0LmlubmVySFRNTD0gJ01lbW9yeSc7XG5cdG1zRGl2LmFwcGVuZENoaWxkKCBtc1RleHQgKTtcblxuXHR2YXIgbXNHcmFwaFx0PSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnZGl2JyApO1xuXHRtc0dyYXBoLmlkXHQ9ICdtc0dyYXBoJztcblx0bXNHcmFwaC5zdHlsZS5jc3NUZXh0ID0gJ3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjc0cHg7aGVpZ2h0OicgKyBHUkFQSF9IRUlHSFQgKyAncHg7YmFja2dyb3VuZC1jb2xvcjojMGYwJztcblx0bXNEaXYuYXBwZW5kQ2hpbGQoIG1zR3JhcGggKTtcblxuXHR3aGlsZSAoIG1zR3JhcGguY2hpbGRyZW4ubGVuZ3RoIDwgNzQgKSB7XG5cblx0XHR2YXIgYmFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ3NwYW4nICk7XG5cdFx0YmFyLnN0eWxlLmNzc1RleHQgPSAnd2lkdGg6MXB4O2hlaWdodDonICsgR1JBUEhfSEVJR0hUICsgJ3B4O2Zsb2F0OmxlZnQ7YmFja2dyb3VuZC1jb2xvcjojMTMxJztcblx0XHRtc0dyYXBoLmFwcGVuZENoaWxkKCBiYXIgKTtcblxuXHR9XG5cblx0dmFyIHVwZGF0ZUdyYXBoID0gZnVuY3Rpb24gKCBkb20sIGhlaWdodCwgY29sb3IgKSB7XG5cblx0XHR2YXIgY2hpbGQgPSBkb20uYXBwZW5kQ2hpbGQoIGRvbS5maXJzdENoaWxkICk7XG5cdFx0Y2hpbGQuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ICsgJ3B4Jztcblx0XHRpZiggY29sb3IgKSBjaGlsZC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvcjtcblxuXHR9O1xuXG5cdHZhciByZWRyYXdHcmFwaCA9IGZ1bmN0aW9uKGRvbSwgb0hGYWN0b3IsIGhGYWN0b3IpIHtcblx0XHRbXS5mb3JFYWNoLmNhbGwoZG9tLmNoaWxkcmVuLCBmdW5jdGlvbihjKSB7XG5cdFx0XHR2YXIgY0hlaWdodCA9IGMuc3R5bGUuaGVpZ2h0LnN1YnN0cmluZygwLCBjLnN0eWxlLmhlaWdodC5sZW5ndGgtMik7XG5cblx0XHRcdC8vIENvbnZlcnQgdG8gTUIsIGNoYW5nZSBmYWN0b3Jcblx0XHRcdHZhciBuZXdWYWwgPSBHUkFQSF9IRUlHSFQgLSAoKEdSQVBIX0hFSUdIVCAtIGNIZWlnaHQpL29IRmFjdG9yKSAqIGhGYWN0b3I7XG5cblx0XHRcdGMuc3R5bGUuaGVpZ2h0ID0gbmV3VmFsICsgJ3B4Jztcblx0XHR9KTtcblx0fTtcblxuXHQvLyBwb2x5ZmlsbCB1c2VkSlNIZWFwU2l6ZVxuXHRpZiAod2luZG93LnBlcmZvcm1hbmNlICYmICFwZXJmb3JtYW5jZS5tZW1vcnkpe1xuXHRcdHBlcmZvcm1hbmNlLm1lbW9yeSA9IHsgdXNlZEpTSGVhcFNpemUgOiAwLCB0b3RhbEpTSGVhcFNpemUgOiAwIH07XG5cdH1cblxuXHQvLyBzdXBwb3J0IG9mIHRoZSBBUEk/XG5cdGlmKCBwZXJmb3JtYW5jZS5tZW1vcnkudG90YWxKU0hlYXBTaXplID09PSAwICl7XG5cdFx0Y29uc29sZS53YXJuKCd0b3RhbEpTSGVhcFNpemUgPT09IDAuLi4gcGVyZm9ybWFuY2UubWVtb3J5IGlzIG9ubHkgYXZhaWxhYmxlIGluIENocm9tZSAuJyk7XG5cdH1cblxuXHR2YXIgc2l6ZXMgPSBbJ0J5dGVzJywgJ0tCJywgJ01CJywgJ0dCJywgJ1RCJ107XG5cdHZhciBwcmVjaXNpb247XG5cdHZhciBpO1xuXHRmdW5jdGlvbiBieXRlc1RvU2l6ZSggYnl0ZXMsIG5GcmFjdERpZ2l0ICl7XG5cdFx0aWYgKGJ5dGVzID09PSAwKSByZXR1cm4gJ24vYSc7XG5cdFx0bkZyYWN0RGlnaXRcdD0gbkZyYWN0RGlnaXQgIT09IHVuZGVmaW5lZCA/IG5GcmFjdERpZ2l0IDogMDtcblx0XHRwcmVjaXNpb24gPSBNYXRoLnBvdygxMCwgbkZyYWN0RGlnaXQpO1xuXHRcdGkgPSBNYXRoLmZsb29yKE1hdGgubG9nKGJ5dGVzKSAvIE1hdGgubG9nKDEwMjQpKTtcblx0XHRyZXR1cm4gTWF0aC5yb3VuZChieXRlcypwcmVjaXNpb24gLyBNYXRoLnBvdygxMDI0LCBpKSkvcHJlY2lzaW9uICsgJyAnICsgc2l6ZXNbaV07XG5cdH1cblxuXHQvLyBUT0RPLCBhZGQgYSBzYW5pdHkgY2hlY2sgdG8gc2VlIGlmIHZhbHVlcyBhcmUgYnVja2V0ZWQuXG5cdC8vIElmIHNvLCByZW1pbmQgdXNlciB0byBhZG9wdCB0aGUgLS1lbmFibGUtcHJlY2lzZS1tZW1vcnktaW5mbyBmbGFnLlxuXHQvLyBvcGVuIC1hIFwiL0FwcGxpY2F0aW9ucy9Hb29nbGUgQ2hyb21lLmFwcFwiIC0tYXJncyAtLWVuYWJsZS1wcmVjaXNlLW1lbW9yeS1pbmZvXG5cblx0dmFyIGxhc3RUaW1lXHQ9IERhdGUubm93KCk7XG5cdHZhciBsYXN0VXNlZEhlYXAgPSBwZXJmb3JtYW5jZS5tZW1vcnkudXNlZEpTSGVhcFNpemU7XG5cdHZhciBkZWx0YSA9IDA7XG5cdHZhciBjb2xvciA9IFwiIzEzMVwiO1xuXHR2YXIgbXMgPSAwO1xuXHR2YXIgbWJWYWx1ZSA9IDA7XG5cdHZhciBmYWN0b3IgPSAwO1xuXHR2YXIgbmV3VGhyZXNob2xkID0gMDtcblxuXHRyZXR1cm4ge1xuXHRcdGRvbUVsZW1lbnQ6IGNvbnRhaW5lcixcblxuXHRcdHVwZGF0ZTogZnVuY3Rpb24gKCkge1xuXG5cdFx0XHQvLyB1cGRhdGUgYXQgMzBmcHNcblx0XHRcdGlmKCBEYXRlLm5vdygpIC0gbGFzdFRpbWUgPCAxMDAwLzMwICkgcmV0dXJuO1xuXHRcdFx0bGFzdFRpbWUgPSBEYXRlLm5vdygpO1xuXG5cdFx0XHRkZWx0YSA9IHBlcmZvcm1hbmNlLm1lbW9yeS51c2VkSlNIZWFwU2l6ZSAtIGxhc3RVc2VkSGVhcDtcblx0XHRcdGxhc3RVc2VkSGVhcCA9IHBlcmZvcm1hbmNlLm1lbW9yeS51c2VkSlNIZWFwU2l6ZTtcblxuXHRcdFx0Ly8gaWYgbWVtb3J5IGhhcyBnb25lIGRvd24sIGNvbnNpZGVyIGl0IGEgR0MgYW5kIGRyYXcgYSByZWQgYmFyLlxuXHRcdFx0Y29sb3IgPSBkZWx0YSA8IDAgPyAnIzgzMCcgOiAnIzEzMSc7XG5cblx0XHRcdG1zID0gbGFzdFVzZWRIZWFwO1xuXHRcdFx0bXNNaW4gPSBNYXRoLm1pbiggbXNNaW4sIG1zICk7XG5cdFx0XHRtc01heCA9IE1hdGgubWF4KCBtc01heCwgbXMgKTtcblx0XHRcdG1zVGV4dC50ZXh0Q29udGVudCA9IFwiTWVtOiBcIiArIGJ5dGVzVG9TaXplKG1zLCAyKTtcblxuXHRcdFx0bWJWYWx1ZVx0PSBtcyAvICgxMDI0KjEwMjQpO1xuXHRcdFx0XG5cdFx0XHRpZihtYlZhbHVlID4gcmVkcmF3TUJUaHJlc2hvbGQpIHtcblx0XHRcdFx0ZmFjdG9yID0gKG1iVmFsdWUgLSAobWJWYWx1ZSAlIEdSQVBIX0hFSUdIVCkpLyBHUkFQSF9IRUlHSFQ7XG5cdFx0XHRcdG5ld1RocmVzaG9sZCA9IEdSQVBIX0hFSUdIVCAqIChmYWN0b3IgKyAxKTtcblx0XHRcdFx0cmVkcmF3R3JhcGgobXNHcmFwaCwgR1JBUEhfSEVJR0hUL3JlZHJhd01CVGhyZXNob2xkLCBHUkFQSF9IRUlHSFQvbmV3VGhyZXNob2xkKTtcblx0XHRcdFx0cmVkcmF3TUJUaHJlc2hvbGQgPSBuZXdUaHJlc2hvbGQ7XG5cdFx0XHR9XG5cblx0XHRcdHVwZGF0ZUdyYXBoKCBtc0dyYXBoLCBHUkFQSF9IRUlHSFQtbWJWYWx1ZSooR1JBUEhfSEVJR0hUL3JlZHJhd01CVGhyZXNob2xkKSwgY29sb3IpO1xuXG5cblx0XHR9XG5cblx0fTtcblxufTtcblxuaWYgKHR5cGVvZiBtb2R1bGUgIT09IFwidW5kZWZpbmVkXCIgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0bW9kdWxlLmV4cG9ydHMgPSBNZW1vcnlTdGF0cztcbn1cbiIsIi8qanNsaW50IG9uZXZhcjp0cnVlLCB1bmRlZjp0cnVlLCBuZXdjYXA6dHJ1ZSwgcmVnZXhwOnRydWUsIGJpdHdpc2U6dHJ1ZSwgbWF4ZXJyOjUwLCBpbmRlbnQ6NCwgd2hpdGU6ZmFsc2UsIG5vbWVuOmZhbHNlLCBwbHVzcGx1czpmYWxzZSAqL1xuLypnbG9iYWwgZGVmaW5lOmZhbHNlLCByZXF1aXJlOmZhbHNlLCBleHBvcnRzOmZhbHNlLCBtb2R1bGU6ZmFsc2UsIHNpZ25hbHM6ZmFsc2UgKi9cblxuLyoqIEBsaWNlbnNlXG4gKiBKUyBTaWduYWxzIDxodHRwOi8vbWlsbGVybWVkZWlyb3MuZ2l0aHViLmNvbS9qcy1zaWduYWxzLz5cbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICogQXV0aG9yOiBNaWxsZXIgTWVkZWlyb3NcbiAqIFZlcnNpb246IDEuMC4wIC0gQnVpbGQ6IDI2OCAoMjAxMi8xMS8yOSAwNTo0OCBQTSlcbiAqL1xuXG4oZnVuY3Rpb24oZ2xvYmFsKXtcblxuICAgIC8vIFNpZ25hbEJpbmRpbmcgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogT2JqZWN0IHRoYXQgcmVwcmVzZW50cyBhIGJpbmRpbmcgYmV0d2VlbiBhIFNpZ25hbCBhbmQgYSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAgICAgKiA8YnIgLz4tIDxzdHJvbmc+VGhpcyBpcyBhbiBpbnRlcm5hbCBjb25zdHJ1Y3RvciBhbmQgc2hvdWxkbid0IGJlIGNhbGxlZCBieSByZWd1bGFyIHVzZXJzLjwvc3Ryb25nPlxuICAgICAqIDxiciAvPi0gaW5zcGlyZWQgYnkgSm9hIEViZXJ0IEFTMyBTaWduYWxCaW5kaW5nIGFuZCBSb2JlcnQgUGVubmVyJ3MgU2xvdCBjbGFzc2VzLlxuICAgICAqIEBhdXRob3IgTWlsbGVyIE1lZGVpcm9zXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQGludGVybmFsXG4gICAgICogQG5hbWUgU2lnbmFsQmluZGluZ1xuICAgICAqIEBwYXJhbSB7U2lnbmFsfSBzaWduYWwgUmVmZXJlbmNlIHRvIFNpZ25hbCBvYmplY3QgdGhhdCBsaXN0ZW5lciBpcyBjdXJyZW50bHkgYm91bmQgdG8uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgSGFuZGxlciBmdW5jdGlvbiBib3VuZCB0byB0aGUgc2lnbmFsLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNPbmNlIElmIGJpbmRpbmcgc2hvdWxkIGJlIGV4ZWN1dGVkIGp1c3Qgb25jZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2xpc3RlbmVyQ29udGV4dF0gQ29udGV4dCBvbiB3aGljaCBsaXN0ZW5lciB3aWxsIGJlIGV4ZWN1dGVkIChvYmplY3QgdGhhdCBzaG91bGQgcmVwcmVzZW50IHRoZSBgdGhpc2AgdmFyaWFibGUgaW5zaWRlIGxpc3RlbmVyIGZ1bmN0aW9uKS5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3ByaW9yaXR5XSBUaGUgcHJpb3JpdHkgbGV2ZWwgb2YgdGhlIGV2ZW50IGxpc3RlbmVyLiAoZGVmYXVsdCA9IDApLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNpZ25hbEJpbmRpbmcoc2lnbmFsLCBsaXN0ZW5lciwgaXNPbmNlLCBsaXN0ZW5lckNvbnRleHQsIHByaW9yaXR5KSB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhhbmRsZXIgZnVuY3Rpb24gYm91bmQgdG8gdGhlIHNpZ25hbC5cbiAgICAgICAgICogQHR5cGUgRnVuY3Rpb25cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2xpc3RlbmVyID0gbGlzdGVuZXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGJpbmRpbmcgc2hvdWxkIGJlIGV4ZWN1dGVkIGp1c3Qgb25jZS5cbiAgICAgICAgICogQHR5cGUgYm9vbGVhblxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5faXNPbmNlID0gaXNPbmNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb250ZXh0IG9uIHdoaWNoIGxpc3RlbmVyIHdpbGwgYmUgZXhlY3V0ZWQgKG9iamVjdCB0aGF0IHNob3VsZCByZXByZXNlbnQgdGhlIGB0aGlzYCB2YXJpYWJsZSBpbnNpZGUgbGlzdGVuZXIgZnVuY3Rpb24pLlxuICAgICAgICAgKiBAbWVtYmVyT2YgU2lnbmFsQmluZGluZy5wcm90b3R5cGVcbiAgICAgICAgICogQG5hbWUgY29udGV4dFxuICAgICAgICAgKiBAdHlwZSBPYmplY3R8dW5kZWZpbmVkfG51bGxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29udGV4dCA9IGxpc3RlbmVyQ29udGV4dDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIFNpZ25hbCBvYmplY3QgdGhhdCBsaXN0ZW5lciBpcyBjdXJyZW50bHkgYm91bmQgdG8uXG4gICAgICAgICAqIEB0eXBlIFNpZ25hbFxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc2lnbmFsID0gc2lnbmFsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMaXN0ZW5lciBwcmlvcml0eVxuICAgICAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3ByaW9yaXR5ID0gcHJpb3JpdHkgfHwgMDtcbiAgICB9XG5cbiAgICBTaWduYWxCaW5kaW5nLnByb3RvdHlwZSA9IHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgYmluZGluZyBpcyBhY3RpdmUgYW5kIHNob3VsZCBiZSBleGVjdXRlZC5cbiAgICAgICAgICogQHR5cGUgYm9vbGVhblxuICAgICAgICAgKi9cbiAgICAgICAgYWN0aXZlIDogdHJ1ZSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGVmYXVsdCBwYXJhbWV0ZXJzIHBhc3NlZCB0byBsaXN0ZW5lciBkdXJpbmcgYFNpZ25hbC5kaXNwYXRjaGAgYW5kIGBTaWduYWxCaW5kaW5nLmV4ZWN1dGVgLiAoY3VycmllZCBwYXJhbWV0ZXJzKVxuICAgICAgICAgKiBAdHlwZSBBcnJheXxudWxsXG4gICAgICAgICAqL1xuICAgICAgICBwYXJhbXMgOiBudWxsLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxsIGxpc3RlbmVyIHBhc3NpbmcgYXJiaXRyYXJ5IHBhcmFtZXRlcnMuXG4gICAgICAgICAqIDxwPklmIGJpbmRpbmcgd2FzIGFkZGVkIHVzaW5nIGBTaWduYWwuYWRkT25jZSgpYCBpdCB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgcmVtb3ZlZCBmcm9tIHNpZ25hbCBkaXNwYXRjaCBxdWV1ZSwgdGhpcyBtZXRob2QgaXMgdXNlZCBpbnRlcm5hbGx5IGZvciB0aGUgc2lnbmFsIGRpc3BhdGNoLjwvcD5cbiAgICAgICAgICogQHBhcmFtIHtBcnJheX0gW3BhcmFtc0Fycl0gQXJyYXkgb2YgcGFyYW1ldGVycyB0aGF0IHNob3VsZCBiZSBwYXNzZWQgdG8gdGhlIGxpc3RlbmVyXG4gICAgICAgICAqIEByZXR1cm4geyp9IFZhbHVlIHJldHVybmVkIGJ5IHRoZSBsaXN0ZW5lci5cbiAgICAgICAgICovXG4gICAgICAgIGV4ZWN1dGUgOiBmdW5jdGlvbiAocGFyYW1zQXJyKSB7XG4gICAgICAgICAgICB2YXIgaGFuZGxlclJldHVybiwgcGFyYW1zO1xuICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlICYmICEhdGhpcy5fbGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICBwYXJhbXMgPSB0aGlzLnBhcmFtcz8gdGhpcy5wYXJhbXMuY29uY2F0KHBhcmFtc0FycikgOiBwYXJhbXNBcnI7XG4gICAgICAgICAgICAgICAgaGFuZGxlclJldHVybiA9IHRoaXMuX2xpc3RlbmVyLmFwcGx5KHRoaXMuY29udGV4dCwgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5faXNPbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGV0YWNoKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZXJSZXR1cm47XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERldGFjaCBiaW5kaW5nIGZyb20gc2lnbmFsLlxuICAgICAgICAgKiAtIGFsaWFzIHRvOiBteVNpZ25hbC5yZW1vdmUobXlCaW5kaW5nLmdldExpc3RlbmVyKCkpO1xuICAgICAgICAgKiBAcmV0dXJuIHtGdW5jdGlvbnxudWxsfSBIYW5kbGVyIGZ1bmN0aW9uIGJvdW5kIHRvIHRoZSBzaWduYWwgb3IgYG51bGxgIGlmIGJpbmRpbmcgd2FzIHByZXZpb3VzbHkgZGV0YWNoZWQuXG4gICAgICAgICAqL1xuICAgICAgICBkZXRhY2ggOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pc0JvdW5kKCk/IHRoaXMuX3NpZ25hbC5yZW1vdmUodGhpcy5fbGlzdGVuZXIsIHRoaXMuY29udGV4dCkgOiBudWxsO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBgdHJ1ZWAgaWYgYmluZGluZyBpcyBzdGlsbCBib3VuZCB0byB0aGUgc2lnbmFsIGFuZCBoYXZlIGEgbGlzdGVuZXIuXG4gICAgICAgICAqL1xuICAgICAgICBpc0JvdW5kIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICghIXRoaXMuX3NpZ25hbCAmJiAhIXRoaXMuX2xpc3RlbmVyKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybiB7Ym9vbGVhbn0gSWYgU2lnbmFsQmluZGluZyB3aWxsIG9ubHkgYmUgZXhlY3V0ZWQgb25jZS5cbiAgICAgICAgICovXG4gICAgICAgIGlzT25jZSA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pc09uY2U7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm4ge0Z1bmN0aW9ufSBIYW5kbGVyIGZ1bmN0aW9uIGJvdW5kIHRvIHRoZSBzaWduYWwuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRMaXN0ZW5lciA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saXN0ZW5lcjtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybiB7U2lnbmFsfSBTaWduYWwgdGhhdCBsaXN0ZW5lciBpcyBjdXJyZW50bHkgYm91bmQgdG8uXG4gICAgICAgICAqL1xuICAgICAgICBnZXRTaWduYWwgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2lnbmFsO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWxldGUgaW5zdGFuY2UgcHJvcGVydGllc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX2Rlc3Ryb3kgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fc2lnbmFsO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2xpc3RlbmVyO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuY29udGV4dDtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybiB7c3RyaW5nfSBTdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG9iamVjdC5cbiAgICAgICAgICovXG4gICAgICAgIHRvU3RyaW5nIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICdbU2lnbmFsQmluZGluZyBpc09uY2U6JyArIHRoaXMuX2lzT25jZSArJywgaXNCb3VuZDonKyB0aGlzLmlzQm91bmQoKSArJywgYWN0aXZlOicgKyB0aGlzLmFjdGl2ZSArICddJztcbiAgICAgICAgfVxuXG4gICAgfTtcblxuXG4vKmdsb2JhbCBTaWduYWxCaW5kaW5nOmZhbHNlKi9cblxuICAgIC8vIFNpZ25hbCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgZnVuY3Rpb24gdmFsaWRhdGVMaXN0ZW5lcihsaXN0ZW5lciwgZm5OYW1lKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvciggJ2xpc3RlbmVyIGlzIGEgcmVxdWlyZWQgcGFyYW0gb2Yge2ZufSgpIGFuZCBzaG91bGQgYmUgYSBGdW5jdGlvbi4nLnJlcGxhY2UoJ3tmbn0nLCBmbk5hbWUpICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDdXN0b20gZXZlbnQgYnJvYWRjYXN0ZXJcbiAgICAgKiA8YnIgLz4tIGluc3BpcmVkIGJ5IFJvYmVydCBQZW5uZXIncyBBUzMgU2lnbmFscy5cbiAgICAgKiBAbmFtZSBTaWduYWxcbiAgICAgKiBAYXV0aG9yIE1pbGxlciBNZWRlaXJvc1xuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNpZ25hbCgpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIEFycmF5LjxTaWduYWxCaW5kaW5nPlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYmluZGluZ3MgPSBbXTtcbiAgICAgICAgdGhpcy5fcHJldlBhcmFtcyA9IG51bGw7XG5cbiAgICAgICAgLy8gZW5mb3JjZSBkaXNwYXRjaCB0byBhd2F5cyB3b3JrIG9uIHNhbWUgY29udGV4dCAoIzQ3KVxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2ggPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgU2lnbmFsLnByb3RvdHlwZS5kaXNwYXRjaC5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIFNpZ25hbC5wcm90b3R5cGUgPSB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNpZ25hbHMgVmVyc2lvbiBOdW1iZXJcbiAgICAgICAgICogQHR5cGUgU3RyaW5nXG4gICAgICAgICAqIEBjb25zdFxuICAgICAgICAgKi9cbiAgICAgICAgVkVSU0lPTiA6ICcxLjAuMCcsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIFNpZ25hbCBzaG91bGQga2VlcCByZWNvcmQgb2YgcHJldmlvdXNseSBkaXNwYXRjaGVkIHBhcmFtZXRlcnMgYW5kXG4gICAgICAgICAqIGF1dG9tYXRpY2FsbHkgZXhlY3V0ZSBsaXN0ZW5lciBkdXJpbmcgYGFkZCgpYC9gYWRkT25jZSgpYCBpZiBTaWduYWwgd2FzXG4gICAgICAgICAqIGFscmVhZHkgZGlzcGF0Y2hlZCBiZWZvcmUuXG4gICAgICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgICAgICovXG4gICAgICAgIG1lbW9yaXplIDogZmFsc2UsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF9zaG91bGRQcm9wYWdhdGUgOiB0cnVlLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBTaWduYWwgaXMgYWN0aXZlIGFuZCBzaG91bGQgYnJvYWRjYXN0IGV2ZW50cy5cbiAgICAgICAgICogPHA+PHN0cm9uZz5JTVBPUlRBTlQ6PC9zdHJvbmc+IFNldHRpbmcgdGhpcyBwcm9wZXJ0eSBkdXJpbmcgYSBkaXNwYXRjaCB3aWxsIG9ubHkgYWZmZWN0IHRoZSBuZXh0IGRpc3BhdGNoLCBpZiB5b3Ugd2FudCB0byBzdG9wIHRoZSBwcm9wYWdhdGlvbiBvZiBhIHNpZ25hbCB1c2UgYGhhbHQoKWAgaW5zdGVhZC48L3A+XG4gICAgICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgICAgICovXG4gICAgICAgIGFjdGl2ZSA6IHRydWUsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyXG4gICAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNPbmNlXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbbGlzdGVuZXJDb250ZXh0XVxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gW3ByaW9yaXR5XVxuICAgICAgICAgKiBAcmV0dXJuIHtTaWduYWxCaW5kaW5nfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3JlZ2lzdGVyTGlzdGVuZXIgOiBmdW5jdGlvbiAobGlzdGVuZXIsIGlzT25jZSwgbGlzdGVuZXJDb250ZXh0LCBwcmlvcml0eSkge1xuXG4gICAgICAgICAgICB2YXIgcHJldkluZGV4ID0gdGhpcy5faW5kZXhPZkxpc3RlbmVyKGxpc3RlbmVyLCBsaXN0ZW5lckNvbnRleHQpLFxuICAgICAgICAgICAgICAgIGJpbmRpbmc7XG5cbiAgICAgICAgICAgIGlmIChwcmV2SW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgYmluZGluZyA9IHRoaXMuX2JpbmRpbmdzW3ByZXZJbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKGJpbmRpbmcuaXNPbmNlKCkgIT09IGlzT25jZSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBjYW5ub3QgYWRkJysgKGlzT25jZT8gJycgOiAnT25jZScpICsnKCkgdGhlbiBhZGQnKyAoIWlzT25jZT8gJycgOiAnT25jZScpICsnKCkgdGhlIHNhbWUgbGlzdGVuZXIgd2l0aG91dCByZW1vdmluZyB0aGUgcmVsYXRpb25zaGlwIGZpcnN0LicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYmluZGluZyA9IG5ldyBTaWduYWxCaW5kaW5nKHRoaXMsIGxpc3RlbmVyLCBpc09uY2UsIGxpc3RlbmVyQ29udGV4dCwgcHJpb3JpdHkpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2FkZEJpbmRpbmcoYmluZGluZyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKHRoaXMubWVtb3JpemUgJiYgdGhpcy5fcHJldlBhcmFtcyl7XG4gICAgICAgICAgICAgICAgYmluZGluZy5leGVjdXRlKHRoaXMuX3ByZXZQYXJhbXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gYmluZGluZztcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtTaWduYWxCaW5kaW5nfSBiaW5kaW5nXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfYWRkQmluZGluZyA6IGZ1bmN0aW9uIChiaW5kaW5nKSB7XG4gICAgICAgICAgICAvL3NpbXBsaWZpZWQgaW5zZXJ0aW9uIHNvcnRcbiAgICAgICAgICAgIHZhciBuID0gdGhpcy5fYmluZGluZ3MubGVuZ3RoO1xuICAgICAgICAgICAgZG8geyAtLW47IH0gd2hpbGUgKHRoaXMuX2JpbmRpbmdzW25dICYmIGJpbmRpbmcuX3ByaW9yaXR5IDw9IHRoaXMuX2JpbmRpbmdzW25dLl9wcmlvcml0eSk7XG4gICAgICAgICAgICB0aGlzLl9iaW5kaW5ncy5zcGxpY2UobiArIDEsIDAsIGJpbmRpbmcpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lclxuICAgICAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfaW5kZXhPZkxpc3RlbmVyIDogZnVuY3Rpb24gKGxpc3RlbmVyLCBjb250ZXh0KSB7XG4gICAgICAgICAgICB2YXIgbiA9IHRoaXMuX2JpbmRpbmdzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBjdXI7XG4gICAgICAgICAgICB3aGlsZSAobi0tKSB7XG4gICAgICAgICAgICAgICAgY3VyID0gdGhpcy5fYmluZGluZ3Nbbl07XG4gICAgICAgICAgICAgICAgaWYgKGN1ci5fbGlzdGVuZXIgPT09IGxpc3RlbmVyICYmIGN1ci5jb250ZXh0ID09PSBjb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2hlY2sgaWYgbGlzdGVuZXIgd2FzIGF0dGFjaGVkIHRvIFNpZ25hbC5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IFtjb250ZXh0XVxuICAgICAgICAgKiBAcmV0dXJuIHtib29sZWFufSBpZiBTaWduYWwgaGFzIHRoZSBzcGVjaWZpZWQgbGlzdGVuZXIuXG4gICAgICAgICAqL1xuICAgICAgICBoYXMgOiBmdW5jdGlvbiAobGlzdGVuZXIsIGNvbnRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbmRleE9mTGlzdGVuZXIobGlzdGVuZXIsIGNvbnRleHQpICE9PSAtMTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQWRkIGEgbGlzdGVuZXIgdG8gdGhlIHNpZ25hbC5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgU2lnbmFsIGhhbmRsZXIgZnVuY3Rpb24uXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbbGlzdGVuZXJDb250ZXh0XSBDb250ZXh0IG9uIHdoaWNoIGxpc3RlbmVyIHdpbGwgYmUgZXhlY3V0ZWQgKG9iamVjdCB0aGF0IHNob3VsZCByZXByZXNlbnQgdGhlIGB0aGlzYCB2YXJpYWJsZSBpbnNpZGUgbGlzdGVuZXIgZnVuY3Rpb24pLlxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gW3ByaW9yaXR5XSBUaGUgcHJpb3JpdHkgbGV2ZWwgb2YgdGhlIGV2ZW50IGxpc3RlbmVyLiBMaXN0ZW5lcnMgd2l0aCBoaWdoZXIgcHJpb3JpdHkgd2lsbCBiZSBleGVjdXRlZCBiZWZvcmUgbGlzdGVuZXJzIHdpdGggbG93ZXIgcHJpb3JpdHkuIExpc3RlbmVycyB3aXRoIHNhbWUgcHJpb3JpdHkgbGV2ZWwgd2lsbCBiZSBleGVjdXRlZCBhdCB0aGUgc2FtZSBvcmRlciBhcyB0aGV5IHdlcmUgYWRkZWQuIChkZWZhdWx0ID0gMClcbiAgICAgICAgICogQHJldHVybiB7U2lnbmFsQmluZGluZ30gQW4gT2JqZWN0IHJlcHJlc2VudGluZyB0aGUgYmluZGluZyBiZXR3ZWVuIHRoZSBTaWduYWwgYW5kIGxpc3RlbmVyLlxuICAgICAgICAgKi9cbiAgICAgICAgYWRkIDogZnVuY3Rpb24gKGxpc3RlbmVyLCBsaXN0ZW5lckNvbnRleHQsIHByaW9yaXR5KSB7XG4gICAgICAgICAgICB2YWxpZGF0ZUxpc3RlbmVyKGxpc3RlbmVyLCAnYWRkJyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVnaXN0ZXJMaXN0ZW5lcihsaXN0ZW5lciwgZmFsc2UsIGxpc3RlbmVyQ29udGV4dCwgcHJpb3JpdHkpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBZGQgbGlzdGVuZXIgdG8gdGhlIHNpZ25hbCB0aGF0IHNob3VsZCBiZSByZW1vdmVkIGFmdGVyIGZpcnN0IGV4ZWN1dGlvbiAod2lsbCBiZSBleGVjdXRlZCBvbmx5IG9uY2UpLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciBTaWduYWwgaGFuZGxlciBmdW5jdGlvbi5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IFtsaXN0ZW5lckNvbnRleHRdIENvbnRleHQgb24gd2hpY2ggbGlzdGVuZXIgd2lsbCBiZSBleGVjdXRlZCAob2JqZWN0IHRoYXQgc2hvdWxkIHJlcHJlc2VudCB0aGUgYHRoaXNgIHZhcmlhYmxlIGluc2lkZSBsaXN0ZW5lciBmdW5jdGlvbikuXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcHJpb3JpdHldIFRoZSBwcmlvcml0eSBsZXZlbCBvZiB0aGUgZXZlbnQgbGlzdGVuZXIuIExpc3RlbmVycyB3aXRoIGhpZ2hlciBwcmlvcml0eSB3aWxsIGJlIGV4ZWN1dGVkIGJlZm9yZSBsaXN0ZW5lcnMgd2l0aCBsb3dlciBwcmlvcml0eS4gTGlzdGVuZXJzIHdpdGggc2FtZSBwcmlvcml0eSBsZXZlbCB3aWxsIGJlIGV4ZWN1dGVkIGF0IHRoZSBzYW1lIG9yZGVyIGFzIHRoZXkgd2VyZSBhZGRlZC4gKGRlZmF1bHQgPSAwKVxuICAgICAgICAgKiBAcmV0dXJuIHtTaWduYWxCaW5kaW5nfSBBbiBPYmplY3QgcmVwcmVzZW50aW5nIHRoZSBiaW5kaW5nIGJldHdlZW4gdGhlIFNpZ25hbCBhbmQgbGlzdGVuZXIuXG4gICAgICAgICAqL1xuICAgICAgICBhZGRPbmNlIDogZnVuY3Rpb24gKGxpc3RlbmVyLCBsaXN0ZW5lckNvbnRleHQsIHByaW9yaXR5KSB7XG4gICAgICAgICAgICB2YWxpZGF0ZUxpc3RlbmVyKGxpc3RlbmVyLCAnYWRkT25jZScpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlZ2lzdGVyTGlzdGVuZXIobGlzdGVuZXIsIHRydWUsIGxpc3RlbmVyQ29udGV4dCwgcHJpb3JpdHkpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW1vdmUgYSBzaW5nbGUgbGlzdGVuZXIgZnJvbSB0aGUgZGlzcGF0Y2ggcXVldWUuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIEhhbmRsZXIgZnVuY3Rpb24gdGhhdCBzaG91bGQgYmUgcmVtb3ZlZC5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IFtjb250ZXh0XSBFeGVjdXRpb24gY29udGV4dCAoc2luY2UgeW91IGNhbiBhZGQgdGhlIHNhbWUgaGFuZGxlciBtdWx0aXBsZSB0aW1lcyBpZiBleGVjdXRpbmcgaW4gYSBkaWZmZXJlbnQgY29udGV4dCkuXG4gICAgICAgICAqIEByZXR1cm4ge0Z1bmN0aW9ufSBMaXN0ZW5lciBoYW5kbGVyIGZ1bmN0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgcmVtb3ZlIDogZnVuY3Rpb24gKGxpc3RlbmVyLCBjb250ZXh0KSB7XG4gICAgICAgICAgICB2YWxpZGF0ZUxpc3RlbmVyKGxpc3RlbmVyLCAncmVtb3ZlJyk7XG5cbiAgICAgICAgICAgIHZhciBpID0gdGhpcy5faW5kZXhPZkxpc3RlbmVyKGxpc3RlbmVyLCBjb250ZXh0KTtcbiAgICAgICAgICAgIGlmIChpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JpbmRpbmdzW2ldLl9kZXN0cm95KCk7IC8vbm8gcmVhc29uIHRvIGEgU2lnbmFsQmluZGluZyBleGlzdCBpZiBpdCBpc24ndCBhdHRhY2hlZCB0byBhIHNpZ25hbFxuICAgICAgICAgICAgICAgIHRoaXMuX2JpbmRpbmdzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBsaXN0ZW5lcjtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVtb3ZlIGFsbCBsaXN0ZW5lcnMgZnJvbSB0aGUgU2lnbmFsLlxuICAgICAgICAgKi9cbiAgICAgICAgcmVtb3ZlQWxsIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG4gPSB0aGlzLl9iaW5kaW5ncy5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAobi0tKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYmluZGluZ3Nbbl0uX2Rlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2JpbmRpbmdzLmxlbmd0aCA9IDA7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm4ge251bWJlcn0gTnVtYmVyIG9mIGxpc3RlbmVycyBhdHRhY2hlZCB0byB0aGUgU2lnbmFsLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0TnVtTGlzdGVuZXJzIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JpbmRpbmdzLmxlbmd0aDtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogU3RvcCBwcm9wYWdhdGlvbiBvZiB0aGUgZXZlbnQsIGJsb2NraW5nIHRoZSBkaXNwYXRjaCB0byBuZXh0IGxpc3RlbmVycyBvbiB0aGUgcXVldWUuXG4gICAgICAgICAqIDxwPjxzdHJvbmc+SU1QT1JUQU5UOjwvc3Ryb25nPiBzaG91bGQgYmUgY2FsbGVkIG9ubHkgZHVyaW5nIHNpZ25hbCBkaXNwYXRjaCwgY2FsbGluZyBpdCBiZWZvcmUvYWZ0ZXIgZGlzcGF0Y2ggd29uJ3QgYWZmZWN0IHNpZ25hbCBicm9hZGNhc3QuPC9wPlxuICAgICAgICAgKiBAc2VlIFNpZ25hbC5wcm90b3R5cGUuZGlzYWJsZVxuICAgICAgICAgKi9cbiAgICAgICAgaGFsdCA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuX3Nob3VsZFByb3BhZ2F0ZSA9IGZhbHNlO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNwYXRjaC9Ccm9hZGNhc3QgU2lnbmFsIHRvIGFsbCBsaXN0ZW5lcnMgYWRkZWQgdG8gdGhlIHF1ZXVlLlxuICAgICAgICAgKiBAcGFyYW0gey4uLip9IFtwYXJhbXNdIFBhcmFtZXRlcnMgdGhhdCBzaG91bGQgYmUgcGFzc2VkIHRvIGVhY2ggaGFuZGxlci5cbiAgICAgICAgICovXG4gICAgICAgIGRpc3BhdGNoIDogZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgICAgICAgaWYgKCEgdGhpcy5hY3RpdmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBwYXJhbXNBcnIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLFxuICAgICAgICAgICAgICAgIG4gPSB0aGlzLl9iaW5kaW5ncy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgYmluZGluZ3M7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm1lbW9yaXplKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcHJldlBhcmFtcyA9IHBhcmFtc0FycjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCEgbikge1xuICAgICAgICAgICAgICAgIC8vc2hvdWxkIGNvbWUgYWZ0ZXIgbWVtb3JpemVcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJpbmRpbmdzID0gdGhpcy5fYmluZGluZ3Muc2xpY2UoKTsgLy9jbG9uZSBhcnJheSBpbiBjYXNlIGFkZC9yZW1vdmUgaXRlbXMgZHVyaW5nIGRpc3BhdGNoXG4gICAgICAgICAgICB0aGlzLl9zaG91bGRQcm9wYWdhdGUgPSB0cnVlOyAvL2luIGNhc2UgYGhhbHRgIHdhcyBjYWxsZWQgYmVmb3JlIGRpc3BhdGNoIG9yIGR1cmluZyB0aGUgcHJldmlvdXMgZGlzcGF0Y2guXG5cbiAgICAgICAgICAgIC8vZXhlY3V0ZSBhbGwgY2FsbGJhY2tzIHVudGlsIGVuZCBvZiB0aGUgbGlzdCBvciB1bnRpbCBhIGNhbGxiYWNrIHJldHVybnMgYGZhbHNlYCBvciBzdG9wcyBwcm9wYWdhdGlvblxuICAgICAgICAgICAgLy9yZXZlcnNlIGxvb3Agc2luY2UgbGlzdGVuZXJzIHdpdGggaGlnaGVyIHByaW9yaXR5IHdpbGwgYmUgYWRkZWQgYXQgdGhlIGVuZCBvZiB0aGUgbGlzdFxuICAgICAgICAgICAgZG8geyBuLS07IH0gd2hpbGUgKGJpbmRpbmdzW25dICYmIHRoaXMuX3Nob3VsZFByb3BhZ2F0ZSAmJiBiaW5kaW5nc1tuXS5leGVjdXRlKHBhcmFtc0FycikgIT09IGZhbHNlKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRm9yZ2V0IG1lbW9yaXplZCBhcmd1bWVudHMuXG4gICAgICAgICAqIEBzZWUgU2lnbmFsLm1lbW9yaXplXG4gICAgICAgICAqL1xuICAgICAgICBmb3JnZXQgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgdGhpcy5fcHJldlBhcmFtcyA9IG51bGw7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbW92ZSBhbGwgYmluZGluZ3MgZnJvbSBzaWduYWwgYW5kIGRlc3Ryb3kgYW55IHJlZmVyZW5jZSB0byBleHRlcm5hbCBvYmplY3RzIChkZXN0cm95IFNpZ25hbCBvYmplY3QpLlxuICAgICAgICAgKiA8cD48c3Ryb25nPklNUE9SVEFOVDo8L3N0cm9uZz4gY2FsbGluZyBhbnkgbWV0aG9kIG9uIHRoZSBzaWduYWwgaW5zdGFuY2UgYWZ0ZXIgY2FsbGluZyBkaXNwb3NlIHdpbGwgdGhyb3cgZXJyb3JzLjwvcD5cbiAgICAgICAgICovXG4gICAgICAgIGRpc3Bvc2UgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUFsbCgpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2JpbmRpbmdzO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3ByZXZQYXJhbXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm4ge3N0cmluZ30gU3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBvYmplY3QuXG4gICAgICAgICAqL1xuICAgICAgICB0b1N0cmluZyA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAnW1NpZ25hbCBhY3RpdmU6JysgdGhpcy5hY3RpdmUgKycgbnVtTGlzdGVuZXJzOicrIHRoaXMuZ2V0TnVtTGlzdGVuZXJzKCkgKyddJztcbiAgICAgICAgfVxuXG4gICAgfTtcblxuXG4gICAgLy8gTmFtZXNwYWNlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBTaWduYWxzIG5hbWVzcGFjZVxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbmFtZSBzaWduYWxzXG4gICAgICovXG4gICAgdmFyIHNpZ25hbHMgPSBTaWduYWw7XG5cbiAgICAvKipcbiAgICAgKiBDdXN0b20gZXZlbnQgYnJvYWRjYXN0ZXJcbiAgICAgKiBAc2VlIFNpZ25hbFxuICAgICAqL1xuICAgIC8vIGFsaWFzIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSAoc2VlICNnaC00NClcbiAgICBzaWduYWxzLlNpZ25hbCA9IFNpZ25hbDtcblxuXG5cbiAgICAvL2V4cG9ydHMgdG8gbXVsdGlwbGUgZW52aXJvbm1lbnRzXG4gICAgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKXsgLy9BTURcbiAgICAgICAgZGVmaW5lKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNpZ25hbHM7IH0pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpeyAvL25vZGVcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBzaWduYWxzO1xuICAgIH0gZWxzZSB7IC8vYnJvd3NlclxuICAgICAgICAvL3VzZSBzdHJpbmcgYmVjYXVzZSBvZiBHb29nbGUgY2xvc3VyZSBjb21waWxlciBBRFZBTkNFRF9NT0RFXG4gICAgICAgIC8qanNsaW50IHN1Yjp0cnVlICovXG4gICAgICAgIGdsb2JhbFsnc2lnbmFscyddID0gc2lnbmFscztcbiAgICB9XG5cbn0odGhpcykpO1xuIiwiLyoqXG4gKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tL1xuICovXG5cbnZhciBTdGF0cyA9IGZ1bmN0aW9uICgpIHtcblxuXHR2YXIgbW9kZSA9IDA7XG5cblx0dmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdkaXYnICk7XG5cdGNvbnRhaW5lci5zdHlsZS5jc3NUZXh0ID0gJ3Bvc2l0aW9uOmZpeGVkO3RvcDowO2xlZnQ6MDtjdXJzb3I6cG9pbnRlcjtvcGFjaXR5OjAuOTt6LWluZGV4OjEwMDAwJztcblx0Y29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoICdjbGljaycsIGZ1bmN0aW9uICggZXZlbnQgKSB7XG5cblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdHNob3dQYW5lbCggKysgbW9kZSAlIGNvbnRhaW5lci5jaGlsZHJlbi5sZW5ndGggKTtcblxuXHR9LCBmYWxzZSApO1xuXG5cdC8vXG5cblx0ZnVuY3Rpb24gYWRkUGFuZWwoIHBhbmVsICkge1xuXG5cdFx0Y29udGFpbmVyLmFwcGVuZENoaWxkKCBwYW5lbC5kb20gKTtcblx0XHRyZXR1cm4gcGFuZWw7XG5cblx0fVxuXG5cdGZ1bmN0aW9uIHNob3dQYW5lbCggaWQgKSB7XG5cblx0XHRmb3IgKCB2YXIgaSA9IDA7IGkgPCBjb250YWluZXIuY2hpbGRyZW4ubGVuZ3RoOyBpICsrICkge1xuXG5cdFx0XHRjb250YWluZXIuY2hpbGRyZW5bIGkgXS5zdHlsZS5kaXNwbGF5ID0gaSA9PT0gaWQgPyAnYmxvY2snIDogJ25vbmUnO1xuXG5cdFx0fVxuXG5cdFx0bW9kZSA9IGlkO1xuXG5cdH1cblxuXHQvL1xuXG5cdHZhciBiZWdpblRpbWUgPSAoIHBlcmZvcm1hbmNlIHx8IERhdGUgKS5ub3coKSwgcHJldlRpbWUgPSBiZWdpblRpbWUsIGZyYW1lcyA9IDA7XG5cblx0dmFyIGZwc1BhbmVsID0gYWRkUGFuZWwoIG5ldyBTdGF0cy5QYW5lbCggJ0ZQUycsICcjMGZmJywgJyMwMDInICkgKTtcblx0dmFyIG1zUGFuZWwgPSBhZGRQYW5lbCggbmV3IFN0YXRzLlBhbmVsKCAnTVMnLCAnIzBmMCcsICcjMDIwJyApICk7XG5cblx0aWYgKCBzZWxmLnBlcmZvcm1hbmNlICYmIHNlbGYucGVyZm9ybWFuY2UubWVtb3J5ICkge1xuXG5cdFx0dmFyIG1lbVBhbmVsID0gYWRkUGFuZWwoIG5ldyBTdGF0cy5QYW5lbCggJ01CJywgJyNmMDgnLCAnIzIwMScgKSApO1xuXG5cdH1cblxuXHRzaG93UGFuZWwoIDAgKTtcblxuXHRyZXR1cm4ge1xuXG5cdFx0UkVWSVNJT046IDE2LFxuXG5cdFx0ZG9tOiBjb250YWluZXIsXG5cblx0XHRhZGRQYW5lbDogYWRkUGFuZWwsXG5cdFx0c2hvd1BhbmVsOiBzaG93UGFuZWwsXG5cblx0XHRiZWdpbjogZnVuY3Rpb24gKCkge1xuXG5cdFx0XHRiZWdpblRpbWUgPSAoIHBlcmZvcm1hbmNlIHx8IERhdGUgKS5ub3coKTtcblxuXHRcdH0sXG5cblx0XHRlbmQ6IGZ1bmN0aW9uICgpIHtcblxuXHRcdFx0ZnJhbWVzICsrO1xuXG5cdFx0XHR2YXIgdGltZSA9ICggcGVyZm9ybWFuY2UgfHwgRGF0ZSApLm5vdygpO1xuXG5cdFx0XHRtc1BhbmVsLnVwZGF0ZSggdGltZSAtIGJlZ2luVGltZSwgMjAwICk7XG5cblx0XHRcdGlmICggdGltZSA+IHByZXZUaW1lICsgMTAwMCApIHtcblxuXHRcdFx0XHRmcHNQYW5lbC51cGRhdGUoICggZnJhbWVzICogMTAwMCApIC8gKCB0aW1lIC0gcHJldlRpbWUgKSwgMTAwICk7XG5cblx0XHRcdFx0cHJldlRpbWUgPSB0aW1lO1xuXHRcdFx0XHRmcmFtZXMgPSAwO1xuXG5cdFx0XHRcdGlmICggbWVtUGFuZWwgKSB7XG5cblx0XHRcdFx0XHR2YXIgbWVtb3J5ID0gcGVyZm9ybWFuY2UubWVtb3J5O1xuXHRcdFx0XHRcdG1lbVBhbmVsLnVwZGF0ZSggbWVtb3J5LnVzZWRKU0hlYXBTaXplIC8gMTA0ODU3NiwgbWVtb3J5LmpzSGVhcFNpemVMaW1pdCAvIDEwNDg1NzYgKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHRpbWU7XG5cblx0XHR9LFxuXG5cdFx0dXBkYXRlOiBmdW5jdGlvbiAoKSB7XG5cblx0XHRcdGJlZ2luVGltZSA9IHRoaXMuZW5kKCk7XG5cblx0XHR9LFxuXG5cdFx0Ly8gQmFja3dhcmRzIENvbXBhdGliaWxpdHlcblxuXHRcdGRvbUVsZW1lbnQ6IGNvbnRhaW5lcixcblx0XHRzZXRNb2RlOiBzaG93UGFuZWxcblxuXHR9O1xuXG59O1xuXG5TdGF0cy5QYW5lbCA9IGZ1bmN0aW9uICggbmFtZSwgZmcsIGJnICkge1xuXG5cdHZhciBtaW4gPSBJbmZpbml0eSwgbWF4ID0gMCwgcm91bmQgPSBNYXRoLnJvdW5kO1xuXHR2YXIgUFIgPSByb3VuZCggd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSApO1xuXG5cdHZhciBXSURUSCA9IDgwICogUFIsIEhFSUdIVCA9IDQ4ICogUFIsXG5cdFx0XHRURVhUX1ggPSAzICogUFIsIFRFWFRfWSA9IDIgKiBQUixcblx0XHRcdEdSQVBIX1ggPSAzICogUFIsIEdSQVBIX1kgPSAxNSAqIFBSLFxuXHRcdFx0R1JBUEhfV0lEVEggPSA3NCAqIFBSLCBHUkFQSF9IRUlHSFQgPSAzMCAqIFBSO1xuXG5cdHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnY2FudmFzJyApO1xuXHRjYW52YXMud2lkdGggPSBXSURUSDtcblx0Y2FudmFzLmhlaWdodCA9IEhFSUdIVDtcblx0Y2FudmFzLnN0eWxlLmNzc1RleHQgPSAnd2lkdGg6ODBweDtoZWlnaHQ6NDhweCc7XG5cblx0dmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCggJzJkJyApO1xuXHRjb250ZXh0LmZvbnQgPSAnYm9sZCAnICsgKCA5ICogUFIgKSArICdweCBIZWx2ZXRpY2EsQXJpYWwsc2Fucy1zZXJpZic7XG5cdGNvbnRleHQudGV4dEJhc2VsaW5lID0gJ3RvcCc7XG5cblx0Y29udGV4dC5maWxsU3R5bGUgPSBiZztcblx0Y29udGV4dC5maWxsUmVjdCggMCwgMCwgV0lEVEgsIEhFSUdIVCApO1xuXG5cdGNvbnRleHQuZmlsbFN0eWxlID0gZmc7XG5cdGNvbnRleHQuZmlsbFRleHQoIG5hbWUsIFRFWFRfWCwgVEVYVF9ZICk7XG5cdGNvbnRleHQuZmlsbFJlY3QoIEdSQVBIX1gsIEdSQVBIX1ksIEdSQVBIX1dJRFRILCBHUkFQSF9IRUlHSFQgKTtcblxuXHRjb250ZXh0LmZpbGxTdHlsZSA9IGJnO1xuXHRjb250ZXh0Lmdsb2JhbEFscGhhID0gMC45O1xuXHRjb250ZXh0LmZpbGxSZWN0KCBHUkFQSF9YLCBHUkFQSF9ZLCBHUkFQSF9XSURUSCwgR1JBUEhfSEVJR0hUICk7XG5cblx0cmV0dXJuIHtcblxuXHRcdGRvbTogY2FudmFzLFxuXG5cdFx0dXBkYXRlOiBmdW5jdGlvbiAoIHZhbHVlLCBtYXhWYWx1ZSApIHtcblxuXHRcdFx0bWluID0gTWF0aC5taW4oIG1pbiwgdmFsdWUgKTtcblx0XHRcdG1heCA9IE1hdGgubWF4KCBtYXgsIHZhbHVlICk7XG5cblx0XHRcdGNvbnRleHQuZmlsbFN0eWxlID0gYmc7XG5cdFx0XHRjb250ZXh0Lmdsb2JhbEFscGhhID0gMTtcblx0XHRcdGNvbnRleHQuZmlsbFJlY3QoIDAsIDAsIFdJRFRILCBHUkFQSF9ZICk7XG5cdFx0XHRjb250ZXh0LmZpbGxTdHlsZSA9IGZnO1xuXHRcdFx0Y29udGV4dC5maWxsVGV4dCggcm91bmQoIHZhbHVlICkgKyAnICcgKyBuYW1lICsgJyAoJyArIHJvdW5kKCBtaW4gKSArICctJyArIHJvdW5kKCBtYXggKSArICcpJywgVEVYVF9YLCBURVhUX1kgKTtcblxuXHRcdFx0Y29udGV4dC5kcmF3SW1hZ2UoIGNhbnZhcywgR1JBUEhfWCArIFBSLCBHUkFQSF9ZLCBHUkFQSF9XSURUSCAtIFBSLCBHUkFQSF9IRUlHSFQsIEdSQVBIX1gsIEdSQVBIX1ksIEdSQVBIX1dJRFRIIC0gUFIsIEdSQVBIX0hFSUdIVCApO1xuXG5cdFx0XHRjb250ZXh0LmZpbGxSZWN0KCBHUkFQSF9YICsgR1JBUEhfV0lEVEggLSBQUiwgR1JBUEhfWSwgUFIsIEdSQVBIX0hFSUdIVCApO1xuXG5cdFx0XHRjb250ZXh0LmZpbGxTdHlsZSA9IGJnO1xuXHRcdFx0Y29udGV4dC5nbG9iYWxBbHBoYSA9IDAuOTtcblx0XHRcdGNvbnRleHQuZmlsbFJlY3QoIEdSQVBIX1ggKyBHUkFQSF9XSURUSCAtIFBSLCBHUkFQSF9ZLCBQUiwgcm91bmQoICggMSAtICggdmFsdWUgLyBtYXhWYWx1ZSApICkgKiBHUkFQSF9IRUlHSFQgKSApO1xuXG5cdFx0fVxuXG5cdH07XG5cbn07XG5cbmlmICggdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBTdGF0cztcblxufVxuIiwiOyB2YXIgX19icm93c2VyaWZ5X3NoaW1fcmVxdWlyZV9fPXJlcXVpcmU7KGZ1bmN0aW9uIGJyb3dzZXJpZnlTaGltKG1vZHVsZSwgZXhwb3J0cywgcmVxdWlyZSwgZGVmaW5lLCBicm93c2VyaWZ5X3NoaW1fX2RlZmluZV9fbW9kdWxlX19leHBvcnRfXykge1xuLyogWmVwdG8gdjEuMi4wIC0gemVwdG8gZXZlbnQgYWpheCBmb3JtIGllIC0gemVwdG9qcy5jb20vbGljZW5zZSAqL1xuKGZ1bmN0aW9uKGdsb2JhbCwgZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuICAgIGRlZmluZShmdW5jdGlvbigpIHsgcmV0dXJuIGZhY3RvcnkoZ2xvYmFsKSB9KVxuICBlbHNlXG4gICAgZmFjdG9yeShnbG9iYWwpXG59KHRoaXMsIGZ1bmN0aW9uKHdpbmRvdykge1xuICB2YXIgWmVwdG8gPSAoZnVuY3Rpb24oKSB7XG4gIHZhciB1bmRlZmluZWQsIGtleSwgJCwgY2xhc3NMaXN0LCBlbXB0eUFycmF5ID0gW10sIGNvbmNhdCA9IGVtcHR5QXJyYXkuY29uY2F0LCBmaWx0ZXIgPSBlbXB0eUFycmF5LmZpbHRlciwgc2xpY2UgPSBlbXB0eUFycmF5LnNsaWNlLFxuICAgIGRvY3VtZW50ID0gd2luZG93LmRvY3VtZW50LFxuICAgIGVsZW1lbnREaXNwbGF5ID0ge30sIGNsYXNzQ2FjaGUgPSB7fSxcbiAgICBjc3NOdW1iZXIgPSB7ICdjb2x1bW4tY291bnQnOiAxLCAnY29sdW1ucyc6IDEsICdmb250LXdlaWdodCc6IDEsICdsaW5lLWhlaWdodCc6IDEsJ29wYWNpdHknOiAxLCAnei1pbmRleCc6IDEsICd6b29tJzogMSB9LFxuICAgIGZyYWdtZW50UkUgPSAvXlxccyo8KFxcdyt8ISlbXj5dKj4vLFxuICAgIHNpbmdsZVRhZ1JFID0gL148KFxcdyspXFxzKlxcLz8+KD86PFxcL1xcMT58KSQvLFxuICAgIHRhZ0V4cGFuZGVyUkUgPSAvPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbXFx3Ol0rKVtePl0qKVxcLz4vaWcsXG4gICAgcm9vdE5vZGVSRSA9IC9eKD86Ym9keXxodG1sKSQvaSxcbiAgICBjYXBpdGFsUkUgPSAvKFtBLVpdKS9nLFxuXG4gICAgLy8gc3BlY2lhbCBhdHRyaWJ1dGVzIHRoYXQgc2hvdWxkIGJlIGdldC9zZXQgdmlhIG1ldGhvZCBjYWxsc1xuICAgIG1ldGhvZEF0dHJpYnV0ZXMgPSBbJ3ZhbCcsICdjc3MnLCAnaHRtbCcsICd0ZXh0JywgJ2RhdGEnLCAnd2lkdGgnLCAnaGVpZ2h0JywgJ29mZnNldCddLFxuXG4gICAgYWRqYWNlbmN5T3BlcmF0b3JzID0gWyAnYWZ0ZXInLCAncHJlcGVuZCcsICdiZWZvcmUnLCAnYXBwZW5kJyBdLFxuICAgIHRhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGFibGUnKSxcbiAgICB0YWJsZVJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyksXG4gICAgY29udGFpbmVycyA9IHtcbiAgICAgICd0cic6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3Rib2R5JyksXG4gICAgICAndGJvZHknOiB0YWJsZSwgJ3RoZWFkJzogdGFibGUsICd0Zm9vdCc6IHRhYmxlLFxuICAgICAgJ3RkJzogdGFibGVSb3csICd0aCc6IHRhYmxlUm93LFxuICAgICAgJyonOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIH0sXG4gICAgcmVhZHlSRSA9IC9jb21wbGV0ZXxsb2FkZWR8aW50ZXJhY3RpdmUvLFxuICAgIHNpbXBsZVNlbGVjdG9yUkUgPSAvXltcXHctXSokLyxcbiAgICBjbGFzczJ0eXBlID0ge30sXG4gICAgdG9TdHJpbmcgPSBjbGFzczJ0eXBlLnRvU3RyaW5nLFxuICAgIHplcHRvID0ge30sXG4gICAgY2FtZWxpemUsIHVuaXEsXG4gICAgdGVtcFBhcmVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgIHByb3BNYXAgPSB7XG4gICAgICAndGFiaW5kZXgnOiAndGFiSW5kZXgnLFxuICAgICAgJ3JlYWRvbmx5JzogJ3JlYWRPbmx5JyxcbiAgICAgICdmb3InOiAnaHRtbEZvcicsXG4gICAgICAnY2xhc3MnOiAnY2xhc3NOYW1lJyxcbiAgICAgICdtYXhsZW5ndGgnOiAnbWF4TGVuZ3RoJyxcbiAgICAgICdjZWxsc3BhY2luZyc6ICdjZWxsU3BhY2luZycsXG4gICAgICAnY2VsbHBhZGRpbmcnOiAnY2VsbFBhZGRpbmcnLFxuICAgICAgJ3Jvd3NwYW4nOiAncm93U3BhbicsXG4gICAgICAnY29sc3Bhbic6ICdjb2xTcGFuJyxcbiAgICAgICd1c2VtYXAnOiAndXNlTWFwJyxcbiAgICAgICdmcmFtZWJvcmRlcic6ICdmcmFtZUJvcmRlcicsXG4gICAgICAnY29udGVudGVkaXRhYmxlJzogJ2NvbnRlbnRFZGl0YWJsZSdcbiAgICB9LFxuICAgIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5IHx8XG4gICAgICBmdW5jdGlvbihvYmplY3QpeyByZXR1cm4gb2JqZWN0IGluc3RhbmNlb2YgQXJyYXkgfVxuXG4gIHplcHRvLm1hdGNoZXMgPSBmdW5jdGlvbihlbGVtZW50LCBzZWxlY3Rvcikge1xuICAgIGlmICghc2VsZWN0b3IgfHwgIWVsZW1lbnQgfHwgZWxlbWVudC5ub2RlVHlwZSAhPT0gMSkgcmV0dXJuIGZhbHNlXG4gICAgdmFyIG1hdGNoZXNTZWxlY3RvciA9IGVsZW1lbnQubWF0Y2hlcyB8fCBlbGVtZW50LndlYmtpdE1hdGNoZXNTZWxlY3RvciB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50Lm1vek1hdGNoZXNTZWxlY3RvciB8fCBlbGVtZW50Lm9NYXRjaGVzU2VsZWN0b3IgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5tYXRjaGVzU2VsZWN0b3JcbiAgICBpZiAobWF0Y2hlc1NlbGVjdG9yKSByZXR1cm4gbWF0Y2hlc1NlbGVjdG9yLmNhbGwoZWxlbWVudCwgc2VsZWN0b3IpXG4gICAgLy8gZmFsbCBiYWNrIHRvIHBlcmZvcm1pbmcgYSBzZWxlY3RvcjpcbiAgICB2YXIgbWF0Y2gsIHBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZSwgdGVtcCA9ICFwYXJlbnRcbiAgICBpZiAodGVtcCkgKHBhcmVudCA9IHRlbXBQYXJlbnQpLmFwcGVuZENoaWxkKGVsZW1lbnQpXG4gICAgbWF0Y2ggPSB+emVwdG8ucXNhKHBhcmVudCwgc2VsZWN0b3IpLmluZGV4T2YoZWxlbWVudClcbiAgICB0ZW1wICYmIHRlbXBQYXJlbnQucmVtb3ZlQ2hpbGQoZWxlbWVudClcbiAgICByZXR1cm4gbWF0Y2hcbiAgfVxuXG4gIGZ1bmN0aW9uIHR5cGUob2JqKSB7XG4gICAgcmV0dXJuIG9iaiA9PSBudWxsID8gU3RyaW5nKG9iaikgOlxuICAgICAgY2xhc3MydHlwZVt0b1N0cmluZy5jYWxsKG9iaildIHx8IFwib2JqZWN0XCJcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHsgcmV0dXJuIHR5cGUodmFsdWUpID09IFwiZnVuY3Rpb25cIiB9XG4gIGZ1bmN0aW9uIGlzV2luZG93KG9iaikgICAgIHsgcmV0dXJuIG9iaiAhPSBudWxsICYmIG9iaiA9PSBvYmoud2luZG93IH1cbiAgZnVuY3Rpb24gaXNEb2N1bWVudChvYmopICAgeyByZXR1cm4gb2JqICE9IG51bGwgJiYgb2JqLm5vZGVUeXBlID09IG9iai5ET0NVTUVOVF9OT0RFIH1cbiAgZnVuY3Rpb24gaXNPYmplY3Qob2JqKSAgICAgeyByZXR1cm4gdHlwZShvYmopID09IFwib2JqZWN0XCIgfVxuICBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KG9iaikge1xuICAgIHJldHVybiBpc09iamVjdChvYmopICYmICFpc1dpbmRvdyhvYmopICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopID09IE9iamVjdC5wcm90b3R5cGVcbiAgfVxuXG4gIGZ1bmN0aW9uIGxpa2VBcnJheShvYmopIHtcbiAgICB2YXIgbGVuZ3RoID0gISFvYmogJiYgJ2xlbmd0aCcgaW4gb2JqICYmIG9iai5sZW5ndGgsXG4gICAgICB0eXBlID0gJC50eXBlKG9iailcblxuICAgIHJldHVybiAnZnVuY3Rpb24nICE9IHR5cGUgJiYgIWlzV2luZG93KG9iaikgJiYgKFxuICAgICAgJ2FycmF5JyA9PSB0eXBlIHx8IGxlbmd0aCA9PT0gMCB8fFxuICAgICAgICAodHlwZW9mIGxlbmd0aCA9PSAnbnVtYmVyJyAmJiBsZW5ndGggPiAwICYmIChsZW5ndGggLSAxKSBpbiBvYmopXG4gICAgKVxuICB9XG5cbiAgZnVuY3Rpb24gY29tcGFjdChhcnJheSkgeyByZXR1cm4gZmlsdGVyLmNhbGwoYXJyYXksIGZ1bmN0aW9uKGl0ZW0peyByZXR1cm4gaXRlbSAhPSBudWxsIH0pIH1cbiAgZnVuY3Rpb24gZmxhdHRlbihhcnJheSkgeyByZXR1cm4gYXJyYXkubGVuZ3RoID4gMCA/ICQuZm4uY29uY2F0LmFwcGx5KFtdLCBhcnJheSkgOiBhcnJheSB9XG4gIGNhbWVsaXplID0gZnVuY3Rpb24oc3RyKXsgcmV0dXJuIHN0ci5yZXBsYWNlKC8tKyguKT8vZywgZnVuY3Rpb24obWF0Y2gsIGNocil7IHJldHVybiBjaHIgPyBjaHIudG9VcHBlckNhc2UoKSA6ICcnIH0pIH1cbiAgZnVuY3Rpb24gZGFzaGVyaXplKHN0cikge1xuICAgIHJldHVybiBzdHIucmVwbGFjZSgvOjovZywgJy8nKVxuICAgICAgICAgICAucmVwbGFjZSgvKFtBLVpdKykoW0EtWl1bYS16XSkvZywgJyQxXyQyJylcbiAgICAgICAgICAgLnJlcGxhY2UoLyhbYS16XFxkXSkoW0EtWl0pL2csICckMV8kMicpXG4gICAgICAgICAgIC5yZXBsYWNlKC9fL2csICctJylcbiAgICAgICAgICAgLnRvTG93ZXJDYXNlKClcbiAgfVxuICB1bmlxID0gZnVuY3Rpb24oYXJyYXkpeyByZXR1cm4gZmlsdGVyLmNhbGwoYXJyYXksIGZ1bmN0aW9uKGl0ZW0sIGlkeCl7IHJldHVybiBhcnJheS5pbmRleE9mKGl0ZW0pID09IGlkeCB9KSB9XG5cbiAgZnVuY3Rpb24gY2xhc3NSRShuYW1lKSB7XG4gICAgcmV0dXJuIG5hbWUgaW4gY2xhc3NDYWNoZSA/XG4gICAgICBjbGFzc0NhY2hlW25hbWVdIDogKGNsYXNzQ2FjaGVbbmFtZV0gPSBuZXcgUmVnRXhwKCcoXnxcXFxccyknICsgbmFtZSArICcoXFxcXHN8JCknKSlcbiAgfVxuXG4gIGZ1bmN0aW9uIG1heWJlQWRkUHgobmFtZSwgdmFsdWUpIHtcbiAgICByZXR1cm4gKHR5cGVvZiB2YWx1ZSA9PSBcIm51bWJlclwiICYmICFjc3NOdW1iZXJbZGFzaGVyaXplKG5hbWUpXSkgPyB2YWx1ZSArIFwicHhcIiA6IHZhbHVlXG4gIH1cblxuICBmdW5jdGlvbiBkZWZhdWx0RGlzcGxheShub2RlTmFtZSkge1xuICAgIHZhciBlbGVtZW50LCBkaXNwbGF5XG4gICAgaWYgKCFlbGVtZW50RGlzcGxheVtub2RlTmFtZV0pIHtcbiAgICAgIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5vZGVOYW1lKVxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbGVtZW50KVxuICAgICAgZGlzcGxheSA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgJycpLmdldFByb3BlcnR5VmFsdWUoXCJkaXNwbGF5XCIpXG4gICAgICBlbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbWVudClcbiAgICAgIGRpc3BsYXkgPT0gXCJub25lXCIgJiYgKGRpc3BsYXkgPSBcImJsb2NrXCIpXG4gICAgICBlbGVtZW50RGlzcGxheVtub2RlTmFtZV0gPSBkaXNwbGF5XG4gICAgfVxuICAgIHJldHVybiBlbGVtZW50RGlzcGxheVtub2RlTmFtZV1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNoaWxkcmVuKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gJ2NoaWxkcmVuJyBpbiBlbGVtZW50ID9cbiAgICAgIHNsaWNlLmNhbGwoZWxlbWVudC5jaGlsZHJlbikgOlxuICAgICAgJC5tYXAoZWxlbWVudC5jaGlsZE5vZGVzLCBmdW5jdGlvbihub2RlKXsgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSkgcmV0dXJuIG5vZGUgfSlcbiAgfVxuXG4gIGZ1bmN0aW9uIFooZG9tLCBzZWxlY3Rvcikge1xuICAgIHZhciBpLCBsZW4gPSBkb20gPyBkb20ubGVuZ3RoIDogMFxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykgdGhpc1tpXSA9IGRvbVtpXVxuICAgIHRoaXMubGVuZ3RoID0gbGVuXG4gICAgdGhpcy5zZWxlY3RvciA9IHNlbGVjdG9yIHx8ICcnXG4gIH1cblxuICAvLyBgJC56ZXB0by5mcmFnbWVudGAgdGFrZXMgYSBodG1sIHN0cmluZyBhbmQgYW4gb3B0aW9uYWwgdGFnIG5hbWVcbiAgLy8gdG8gZ2VuZXJhdGUgRE9NIG5vZGVzIGZyb20gdGhlIGdpdmVuIGh0bWwgc3RyaW5nLlxuICAvLyBUaGUgZ2VuZXJhdGVkIERPTSBub2RlcyBhcmUgcmV0dXJuZWQgYXMgYW4gYXJyYXkuXG4gIC8vIFRoaXMgZnVuY3Rpb24gY2FuIGJlIG92ZXJyaWRkZW4gaW4gcGx1Z2lucyBmb3IgZXhhbXBsZSB0byBtYWtlXG4gIC8vIGl0IGNvbXBhdGlibGUgd2l0aCBicm93c2VycyB0aGF0IGRvbid0IHN1cHBvcnQgdGhlIERPTSBmdWxseS5cbiAgemVwdG8uZnJhZ21lbnQgPSBmdW5jdGlvbihodG1sLCBuYW1lLCBwcm9wZXJ0aWVzKSB7XG4gICAgdmFyIGRvbSwgbm9kZXMsIGNvbnRhaW5lclxuXG4gICAgLy8gQSBzcGVjaWFsIGNhc2Ugb3B0aW1pemF0aW9uIGZvciBhIHNpbmdsZSB0YWdcbiAgICBpZiAoc2luZ2xlVGFnUkUudGVzdChodG1sKSkgZG9tID0gJChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFJlZ0V4cC4kMSkpXG5cbiAgICBpZiAoIWRvbSkge1xuICAgICAgaWYgKGh0bWwucmVwbGFjZSkgaHRtbCA9IGh0bWwucmVwbGFjZSh0YWdFeHBhbmRlclJFLCBcIjwkMT48LyQyPlwiKVxuICAgICAgaWYgKG5hbWUgPT09IHVuZGVmaW5lZCkgbmFtZSA9IGZyYWdtZW50UkUudGVzdChodG1sKSAmJiBSZWdFeHAuJDFcbiAgICAgIGlmICghKG5hbWUgaW4gY29udGFpbmVycykpIG5hbWUgPSAnKidcblxuICAgICAgY29udGFpbmVyID0gY29udGFpbmVyc1tuYW1lXVxuICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9ICcnICsgaHRtbFxuICAgICAgZG9tID0gJC5lYWNoKHNsaWNlLmNhbGwoY29udGFpbmVyLmNoaWxkTm9kZXMpLCBmdW5jdGlvbigpe1xuICAgICAgICBjb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcylcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgaWYgKGlzUGxhaW5PYmplY3QocHJvcGVydGllcykpIHtcbiAgICAgIG5vZGVzID0gJChkb20pXG4gICAgICAkLmVhY2gocHJvcGVydGllcywgZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgICBpZiAobWV0aG9kQXR0cmlidXRlcy5pbmRleE9mKGtleSkgPiAtMSkgbm9kZXNba2V5XSh2YWx1ZSlcbiAgICAgICAgZWxzZSBub2Rlcy5hdHRyKGtleSwgdmFsdWUpXG4gICAgICB9KVxuICAgIH1cblxuICAgIHJldHVybiBkb21cbiAgfVxuXG4gIC8vIGAkLnplcHRvLlpgIHN3YXBzIG91dCB0aGUgcHJvdG90eXBlIG9mIHRoZSBnaXZlbiBgZG9tYCBhcnJheVxuICAvLyBvZiBub2RlcyB3aXRoIGAkLmZuYCBhbmQgdGh1cyBzdXBwbHlpbmcgYWxsIHRoZSBaZXB0byBmdW5jdGlvbnNcbiAgLy8gdG8gdGhlIGFycmF5LiBUaGlzIG1ldGhvZCBjYW4gYmUgb3ZlcnJpZGRlbiBpbiBwbHVnaW5zLlxuICB6ZXB0by5aID0gZnVuY3Rpb24oZG9tLCBzZWxlY3Rvcikge1xuICAgIHJldHVybiBuZXcgWihkb20sIHNlbGVjdG9yKVxuICB9XG5cbiAgLy8gYCQuemVwdG8uaXNaYCBzaG91bGQgcmV0dXJuIGB0cnVlYCBpZiB0aGUgZ2l2ZW4gb2JqZWN0IGlzIGEgWmVwdG9cbiAgLy8gY29sbGVjdGlvbi4gVGhpcyBtZXRob2QgY2FuIGJlIG92ZXJyaWRkZW4gaW4gcGx1Z2lucy5cbiAgemVwdG8uaXNaID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgcmV0dXJuIG9iamVjdCBpbnN0YW5jZW9mIHplcHRvLlpcbiAgfVxuXG4gIC8vIGAkLnplcHRvLmluaXRgIGlzIFplcHRvJ3MgY291bnRlcnBhcnQgdG8galF1ZXJ5J3MgYCQuZm4uaW5pdGAgYW5kXG4gIC8vIHRha2VzIGEgQ1NTIHNlbGVjdG9yIGFuZCBhbiBvcHRpb25hbCBjb250ZXh0IChhbmQgaGFuZGxlcyB2YXJpb3VzXG4gIC8vIHNwZWNpYWwgY2FzZXMpLlxuICAvLyBUaGlzIG1ldGhvZCBjYW4gYmUgb3ZlcnJpZGRlbiBpbiBwbHVnaW5zLlxuICB6ZXB0by5pbml0ID0gZnVuY3Rpb24oc2VsZWN0b3IsIGNvbnRleHQpIHtcbiAgICB2YXIgZG9tXG4gICAgLy8gSWYgbm90aGluZyBnaXZlbiwgcmV0dXJuIGFuIGVtcHR5IFplcHRvIGNvbGxlY3Rpb25cbiAgICBpZiAoIXNlbGVjdG9yKSByZXR1cm4gemVwdG8uWigpXG4gICAgLy8gT3B0aW1pemUgZm9yIHN0cmluZyBzZWxlY3RvcnNcbiAgICBlbHNlIGlmICh0eXBlb2Ygc2VsZWN0b3IgPT0gJ3N0cmluZycpIHtcbiAgICAgIHNlbGVjdG9yID0gc2VsZWN0b3IudHJpbSgpXG4gICAgICAvLyBJZiBpdCdzIGEgaHRtbCBmcmFnbWVudCwgY3JlYXRlIG5vZGVzIGZyb20gaXRcbiAgICAgIC8vIE5vdGU6IEluIGJvdGggQ2hyb21lIDIxIGFuZCBGaXJlZm94IDE1LCBET00gZXJyb3IgMTJcbiAgICAgIC8vIGlzIHRocm93biBpZiB0aGUgZnJhZ21lbnQgZG9lc24ndCBiZWdpbiB3aXRoIDxcbiAgICAgIGlmIChzZWxlY3RvclswXSA9PSAnPCcgJiYgZnJhZ21lbnRSRS50ZXN0KHNlbGVjdG9yKSlcbiAgICAgICAgZG9tID0gemVwdG8uZnJhZ21lbnQoc2VsZWN0b3IsIFJlZ0V4cC4kMSwgY29udGV4dCksIHNlbGVjdG9yID0gbnVsbFxuICAgICAgLy8gSWYgdGhlcmUncyBhIGNvbnRleHQsIGNyZWF0ZSBhIGNvbGxlY3Rpb24gb24gdGhhdCBjb250ZXh0IGZpcnN0LCBhbmQgc2VsZWN0XG4gICAgICAvLyBub2RlcyBmcm9tIHRoZXJlXG4gICAgICBlbHNlIGlmIChjb250ZXh0ICE9PSB1bmRlZmluZWQpIHJldHVybiAkKGNvbnRleHQpLmZpbmQoc2VsZWN0b3IpXG4gICAgICAvLyBJZiBpdCdzIGEgQ1NTIHNlbGVjdG9yLCB1c2UgaXQgdG8gc2VsZWN0IG5vZGVzLlxuICAgICAgZWxzZSBkb20gPSB6ZXB0by5xc2EoZG9jdW1lbnQsIHNlbGVjdG9yKVxuICAgIH1cbiAgICAvLyBJZiBhIGZ1bmN0aW9uIGlzIGdpdmVuLCBjYWxsIGl0IHdoZW4gdGhlIERPTSBpcyByZWFkeVxuICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24oc2VsZWN0b3IpKSByZXR1cm4gJChkb2N1bWVudCkucmVhZHkoc2VsZWN0b3IpXG4gICAgLy8gSWYgYSBaZXB0byBjb2xsZWN0aW9uIGlzIGdpdmVuLCBqdXN0IHJldHVybiBpdFxuICAgIGVsc2UgaWYgKHplcHRvLmlzWihzZWxlY3RvcikpIHJldHVybiBzZWxlY3RvclxuICAgIGVsc2Uge1xuICAgICAgLy8gbm9ybWFsaXplIGFycmF5IGlmIGFuIGFycmF5IG9mIG5vZGVzIGlzIGdpdmVuXG4gICAgICBpZiAoaXNBcnJheShzZWxlY3RvcikpIGRvbSA9IGNvbXBhY3Qoc2VsZWN0b3IpXG4gICAgICAvLyBXcmFwIERPTSBub2Rlcy5cbiAgICAgIGVsc2UgaWYgKGlzT2JqZWN0KHNlbGVjdG9yKSlcbiAgICAgICAgZG9tID0gW3NlbGVjdG9yXSwgc2VsZWN0b3IgPSBudWxsXG4gICAgICAvLyBJZiBpdCdzIGEgaHRtbCBmcmFnbWVudCwgY3JlYXRlIG5vZGVzIGZyb20gaXRcbiAgICAgIGVsc2UgaWYgKGZyYWdtZW50UkUudGVzdChzZWxlY3RvcikpXG4gICAgICAgIGRvbSA9IHplcHRvLmZyYWdtZW50KHNlbGVjdG9yLnRyaW0oKSwgUmVnRXhwLiQxLCBjb250ZXh0KSwgc2VsZWN0b3IgPSBudWxsXG4gICAgICAvLyBJZiB0aGVyZSdzIGEgY29udGV4dCwgY3JlYXRlIGEgY29sbGVjdGlvbiBvbiB0aGF0IGNvbnRleHQgZmlyc3QsIGFuZCBzZWxlY3RcbiAgICAgIC8vIG5vZGVzIGZyb20gdGhlcmVcbiAgICAgIGVsc2UgaWYgKGNvbnRleHQgIT09IHVuZGVmaW5lZCkgcmV0dXJuICQoY29udGV4dCkuZmluZChzZWxlY3RvcilcbiAgICAgIC8vIEFuZCBsYXN0IGJ1dCBubyBsZWFzdCwgaWYgaXQncyBhIENTUyBzZWxlY3RvciwgdXNlIGl0IHRvIHNlbGVjdCBub2Rlcy5cbiAgICAgIGVsc2UgZG9tID0gemVwdG8ucXNhKGRvY3VtZW50LCBzZWxlY3RvcilcbiAgICB9XG4gICAgLy8gY3JlYXRlIGEgbmV3IFplcHRvIGNvbGxlY3Rpb24gZnJvbSB0aGUgbm9kZXMgZm91bmRcbiAgICByZXR1cm4gemVwdG8uWihkb20sIHNlbGVjdG9yKVxuICB9XG5cbiAgLy8gYCRgIHdpbGwgYmUgdGhlIGJhc2UgYFplcHRvYCBvYmplY3QuIFdoZW4gY2FsbGluZyB0aGlzXG4gIC8vIGZ1bmN0aW9uIGp1c3QgY2FsbCBgJC56ZXB0by5pbml0LCB3aGljaCBtYWtlcyB0aGUgaW1wbGVtZW50YXRpb25cbiAgLy8gZGV0YWlscyBvZiBzZWxlY3Rpbmcgbm9kZXMgYW5kIGNyZWF0aW5nIFplcHRvIGNvbGxlY3Rpb25zXG4gIC8vIHBhdGNoYWJsZSBpbiBwbHVnaW5zLlxuICAkID0gZnVuY3Rpb24oc2VsZWN0b3IsIGNvbnRleHQpe1xuICAgIHJldHVybiB6ZXB0by5pbml0KHNlbGVjdG9yLCBjb250ZXh0KVxuICB9XG5cbiAgZnVuY3Rpb24gZXh0ZW5kKHRhcmdldCwgc291cmNlLCBkZWVwKSB7XG4gICAgZm9yIChrZXkgaW4gc291cmNlKVxuICAgICAgaWYgKGRlZXAgJiYgKGlzUGxhaW5PYmplY3Qoc291cmNlW2tleV0pIHx8IGlzQXJyYXkoc291cmNlW2tleV0pKSkge1xuICAgICAgICBpZiAoaXNQbGFpbk9iamVjdChzb3VyY2Vba2V5XSkgJiYgIWlzUGxhaW5PYmplY3QodGFyZ2V0W2tleV0pKVxuICAgICAgICAgIHRhcmdldFtrZXldID0ge31cbiAgICAgICAgaWYgKGlzQXJyYXkoc291cmNlW2tleV0pICYmICFpc0FycmF5KHRhcmdldFtrZXldKSlcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IFtdXG4gICAgICAgIGV4dGVuZCh0YXJnZXRba2V5XSwgc291cmNlW2tleV0sIGRlZXApXG4gICAgICB9XG4gICAgICBlbHNlIGlmIChzb3VyY2Vba2V5XSAhPT0gdW5kZWZpbmVkKSB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldXG4gIH1cblxuICAvLyBDb3B5IGFsbCBidXQgdW5kZWZpbmVkIHByb3BlcnRpZXMgZnJvbSBvbmUgb3IgbW9yZVxuICAvLyBvYmplY3RzIHRvIHRoZSBgdGFyZ2V0YCBvYmplY3QuXG4gICQuZXh0ZW5kID0gZnVuY3Rpb24odGFyZ2V0KXtcbiAgICB2YXIgZGVlcCwgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKVxuICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09ICdib29sZWFuJykge1xuICAgICAgZGVlcCA9IHRhcmdldFxuICAgICAgdGFyZ2V0ID0gYXJncy5zaGlmdCgpXG4gICAgfVxuICAgIGFyZ3MuZm9yRWFjaChmdW5jdGlvbihhcmcpeyBleHRlbmQodGFyZ2V0LCBhcmcsIGRlZXApIH0pXG4gICAgcmV0dXJuIHRhcmdldFxuICB9XG5cbiAgLy8gYCQuemVwdG8ucXNhYCBpcyBaZXB0bydzIENTUyBzZWxlY3RvciBpbXBsZW1lbnRhdGlvbiB3aGljaFxuICAvLyB1c2VzIGBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsYCBhbmQgb3B0aW1pemVzIGZvciBzb21lIHNwZWNpYWwgY2FzZXMsIGxpa2UgYCNpZGAuXG4gIC8vIFRoaXMgbWV0aG9kIGNhbiBiZSBvdmVycmlkZGVuIGluIHBsdWdpbnMuXG4gIHplcHRvLnFzYSA9IGZ1bmN0aW9uKGVsZW1lbnQsIHNlbGVjdG9yKXtcbiAgICB2YXIgZm91bmQsXG4gICAgICAgIG1heWJlSUQgPSBzZWxlY3RvclswXSA9PSAnIycsXG4gICAgICAgIG1heWJlQ2xhc3MgPSAhbWF5YmVJRCAmJiBzZWxlY3RvclswXSA9PSAnLicsXG4gICAgICAgIG5hbWVPbmx5ID0gbWF5YmVJRCB8fCBtYXliZUNsYXNzID8gc2VsZWN0b3Iuc2xpY2UoMSkgOiBzZWxlY3RvciwgLy8gRW5zdXJlIHRoYXQgYSAxIGNoYXIgdGFnIG5hbWUgc3RpbGwgZ2V0cyBjaGVja2VkXG4gICAgICAgIGlzU2ltcGxlID0gc2ltcGxlU2VsZWN0b3JSRS50ZXN0KG5hbWVPbmx5KVxuICAgIHJldHVybiAoZWxlbWVudC5nZXRFbGVtZW50QnlJZCAmJiBpc1NpbXBsZSAmJiBtYXliZUlEKSA/IC8vIFNhZmFyaSBEb2N1bWVudEZyYWdtZW50IGRvZXNuJ3QgaGF2ZSBnZXRFbGVtZW50QnlJZFxuICAgICAgKCAoZm91bmQgPSBlbGVtZW50LmdldEVsZW1lbnRCeUlkKG5hbWVPbmx5KSkgPyBbZm91bmRdIDogW10gKSA6XG4gICAgICAoZWxlbWVudC5ub2RlVHlwZSAhPT0gMSAmJiBlbGVtZW50Lm5vZGVUeXBlICE9PSA5ICYmIGVsZW1lbnQubm9kZVR5cGUgIT09IDExKSA/IFtdIDpcbiAgICAgIHNsaWNlLmNhbGwoXG4gICAgICAgIGlzU2ltcGxlICYmICFtYXliZUlEICYmIGVsZW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSA/IC8vIERvY3VtZW50RnJhZ21lbnQgZG9lc24ndCBoYXZlIGdldEVsZW1lbnRzQnlDbGFzc05hbWUvVGFnTmFtZVxuICAgICAgICAgIG1heWJlQ2xhc3MgPyBlbGVtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUobmFtZU9ubHkpIDogLy8gSWYgaXQncyBzaW1wbGUsIGl0IGNvdWxkIGJlIGEgY2xhc3NcbiAgICAgICAgICBlbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKHNlbGVjdG9yKSA6IC8vIE9yIGEgdGFnXG4gICAgICAgICAgZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSAvLyBPciBpdCdzIG5vdCBzaW1wbGUsIGFuZCB3ZSBuZWVkIHRvIHF1ZXJ5IGFsbFxuICAgICAgKVxuICB9XG5cbiAgZnVuY3Rpb24gZmlsdGVyZWQobm9kZXMsIHNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIHNlbGVjdG9yID09IG51bGwgPyAkKG5vZGVzKSA6ICQobm9kZXMpLmZpbHRlcihzZWxlY3RvcilcbiAgfVxuXG4gICQuY29udGFpbnMgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY29udGFpbnMgP1xuICAgIGZ1bmN0aW9uKHBhcmVudCwgbm9kZSkge1xuICAgICAgcmV0dXJuIHBhcmVudCAhPT0gbm9kZSAmJiBwYXJlbnQuY29udGFpbnMobm9kZSlcbiAgICB9IDpcbiAgICBmdW5jdGlvbihwYXJlbnQsIG5vZGUpIHtcbiAgICAgIHdoaWxlIChub2RlICYmIChub2RlID0gbm9kZS5wYXJlbnROb2RlKSlcbiAgICAgICAgaWYgKG5vZGUgPT09IHBhcmVudCkgcmV0dXJuIHRydWVcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICBmdW5jdGlvbiBmdW5jQXJnKGNvbnRleHQsIGFyZywgaWR4LCBwYXlsb2FkKSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24oYXJnKSA/IGFyZy5jYWxsKGNvbnRleHQsIGlkeCwgcGF5bG9hZCkgOiBhcmdcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldEF0dHJpYnV0ZShub2RlLCBuYW1lLCB2YWx1ZSkge1xuICAgIHZhbHVlID09IG51bGwgPyBub2RlLnJlbW92ZUF0dHJpYnV0ZShuYW1lKSA6IG5vZGUuc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKVxuICB9XG5cbiAgLy8gYWNjZXNzIGNsYXNzTmFtZSBwcm9wZXJ0eSB3aGlsZSByZXNwZWN0aW5nIFNWR0FuaW1hdGVkU3RyaW5nXG4gIGZ1bmN0aW9uIGNsYXNzTmFtZShub2RlLCB2YWx1ZSl7XG4gICAgdmFyIGtsYXNzID0gbm9kZS5jbGFzc05hbWUgfHwgJycsXG4gICAgICAgIHN2ZyAgID0ga2xhc3MgJiYga2xhc3MuYmFzZVZhbCAhPT0gdW5kZWZpbmVkXG5cbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHN2ZyA/IGtsYXNzLmJhc2VWYWwgOiBrbGFzc1xuICAgIHN2ZyA/IChrbGFzcy5iYXNlVmFsID0gdmFsdWUpIDogKG5vZGUuY2xhc3NOYW1lID0gdmFsdWUpXG4gIH1cblxuICAvLyBcInRydWVcIiAgPT4gdHJ1ZVxuICAvLyBcImZhbHNlXCIgPT4gZmFsc2VcbiAgLy8gXCJudWxsXCIgID0+IG51bGxcbiAgLy8gXCI0MlwiICAgID0+IDQyXG4gIC8vIFwiNDIuNVwiICA9PiA0Mi41XG4gIC8vIFwiMDhcIiAgICA9PiBcIjA4XCJcbiAgLy8gSlNPTiAgICA9PiBwYXJzZSBpZiB2YWxpZFxuICAvLyBTdHJpbmcgID0+IHNlbGZcbiAgZnVuY3Rpb24gZGVzZXJpYWxpemVWYWx1ZSh2YWx1ZSkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gdmFsdWUgP1xuICAgICAgICB2YWx1ZSA9PSBcInRydWVcIiB8fFxuICAgICAgICAoIHZhbHVlID09IFwiZmFsc2VcIiA/IGZhbHNlIDpcbiAgICAgICAgICB2YWx1ZSA9PSBcIm51bGxcIiA/IG51bGwgOlxuICAgICAgICAgICt2YWx1ZSArIFwiXCIgPT0gdmFsdWUgPyArdmFsdWUgOlxuICAgICAgICAgIC9eW1xcW1xce10vLnRlc3QodmFsdWUpID8gJC5wYXJzZUpTT04odmFsdWUpIDpcbiAgICAgICAgICB2YWx1ZSApXG4gICAgICAgIDogdmFsdWVcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIHJldHVybiB2YWx1ZVxuICAgIH1cbiAgfVxuXG4gICQudHlwZSA9IHR5cGVcbiAgJC5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvblxuICAkLmlzV2luZG93ID0gaXNXaW5kb3dcbiAgJC5pc0FycmF5ID0gaXNBcnJheVxuICAkLmlzUGxhaW5PYmplY3QgPSBpc1BsYWluT2JqZWN0XG5cbiAgJC5pc0VtcHR5T2JqZWN0ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIG5hbWVcbiAgICBmb3IgKG5hbWUgaW4gb2JqKSByZXR1cm4gZmFsc2VcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgJC5pc051bWVyaWMgPSBmdW5jdGlvbih2YWwpIHtcbiAgICB2YXIgbnVtID0gTnVtYmVyKHZhbCksIHR5cGUgPSB0eXBlb2YgdmFsXG4gICAgcmV0dXJuIHZhbCAhPSBudWxsICYmIHR5cGUgIT0gJ2Jvb2xlYW4nICYmXG4gICAgICAodHlwZSAhPSAnc3RyaW5nJyB8fCB2YWwubGVuZ3RoKSAmJlxuICAgICAgIWlzTmFOKG51bSkgJiYgaXNGaW5pdGUobnVtKSB8fCBmYWxzZVxuICB9XG5cbiAgJC5pbkFycmF5ID0gZnVuY3Rpb24oZWxlbSwgYXJyYXksIGkpe1xuICAgIHJldHVybiBlbXB0eUFycmF5LmluZGV4T2YuY2FsbChhcnJheSwgZWxlbSwgaSlcbiAgfVxuXG4gICQuY2FtZWxDYXNlID0gY2FtZWxpemVcbiAgJC50cmltID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgcmV0dXJuIHN0ciA9PSBudWxsID8gXCJcIiA6IFN0cmluZy5wcm90b3R5cGUudHJpbS5jYWxsKHN0cilcbiAgfVxuXG4gIC8vIHBsdWdpbiBjb21wYXRpYmlsaXR5XG4gICQudXVpZCA9IDBcbiAgJC5zdXBwb3J0ID0geyB9XG4gICQuZXhwciA9IHsgfVxuICAkLm5vb3AgPSBmdW5jdGlvbigpIHt9XG5cbiAgJC5tYXAgPSBmdW5jdGlvbihlbGVtZW50cywgY2FsbGJhY2spe1xuICAgIHZhciB2YWx1ZSwgdmFsdWVzID0gW10sIGksIGtleVxuICAgIGlmIChsaWtlQXJyYXkoZWxlbWVudHMpKVxuICAgICAgZm9yIChpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhbHVlID0gY2FsbGJhY2soZWxlbWVudHNbaV0sIGkpXG4gICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB2YWx1ZXMucHVzaCh2YWx1ZSlcbiAgICAgIH1cbiAgICBlbHNlXG4gICAgICBmb3IgKGtleSBpbiBlbGVtZW50cykge1xuICAgICAgICB2YWx1ZSA9IGNhbGxiYWNrKGVsZW1lbnRzW2tleV0sIGtleSlcbiAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHZhbHVlcy5wdXNoKHZhbHVlKVxuICAgICAgfVxuICAgIHJldHVybiBmbGF0dGVuKHZhbHVlcylcbiAgfVxuXG4gICQuZWFjaCA9IGZ1bmN0aW9uKGVsZW1lbnRzLCBjYWxsYmFjayl7XG4gICAgdmFyIGksIGtleVxuICAgIGlmIChsaWtlQXJyYXkoZWxlbWVudHMpKSB7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspXG4gICAgICAgIGlmIChjYWxsYmFjay5jYWxsKGVsZW1lbnRzW2ldLCBpLCBlbGVtZW50c1tpXSkgPT09IGZhbHNlKSByZXR1cm4gZWxlbWVudHNcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChrZXkgaW4gZWxlbWVudHMpXG4gICAgICAgIGlmIChjYWxsYmFjay5jYWxsKGVsZW1lbnRzW2tleV0sIGtleSwgZWxlbWVudHNba2V5XSkgPT09IGZhbHNlKSByZXR1cm4gZWxlbWVudHNcbiAgICB9XG5cbiAgICByZXR1cm4gZWxlbWVudHNcbiAgfVxuXG4gICQuZ3JlcCA9IGZ1bmN0aW9uKGVsZW1lbnRzLCBjYWxsYmFjayl7XG4gICAgcmV0dXJuIGZpbHRlci5jYWxsKGVsZW1lbnRzLCBjYWxsYmFjaylcbiAgfVxuXG4gIGlmICh3aW5kb3cuSlNPTikgJC5wYXJzZUpTT04gPSBKU09OLnBhcnNlXG5cbiAgLy8gUG9wdWxhdGUgdGhlIGNsYXNzMnR5cGUgbWFwXG4gICQuZWFjaChcIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3JcIi5zcGxpdChcIiBcIiksIGZ1bmN0aW9uKGksIG5hbWUpIHtcbiAgICBjbGFzczJ0eXBlWyBcIltvYmplY3QgXCIgKyBuYW1lICsgXCJdXCIgXSA9IG5hbWUudG9Mb3dlckNhc2UoKVxuICB9KVxuXG4gIC8vIERlZmluZSBtZXRob2RzIHRoYXQgd2lsbCBiZSBhdmFpbGFibGUgb24gYWxsXG4gIC8vIFplcHRvIGNvbGxlY3Rpb25zXG4gICQuZm4gPSB7XG4gICAgY29uc3RydWN0b3I6IHplcHRvLlosXG4gICAgbGVuZ3RoOiAwLFxuXG4gICAgLy8gQmVjYXVzZSBhIGNvbGxlY3Rpb24gYWN0cyBsaWtlIGFuIGFycmF5XG4gICAgLy8gY29weSBvdmVyIHRoZXNlIHVzZWZ1bCBhcnJheSBmdW5jdGlvbnMuXG4gICAgZm9yRWFjaDogZW1wdHlBcnJheS5mb3JFYWNoLFxuICAgIHJlZHVjZTogZW1wdHlBcnJheS5yZWR1Y2UsXG4gICAgcHVzaDogZW1wdHlBcnJheS5wdXNoLFxuICAgIHNvcnQ6IGVtcHR5QXJyYXkuc29ydCxcbiAgICBzcGxpY2U6IGVtcHR5QXJyYXkuc3BsaWNlLFxuICAgIGluZGV4T2Y6IGVtcHR5QXJyYXkuaW5kZXhPZixcbiAgICBjb25jYXQ6IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgaSwgdmFsdWUsIGFyZ3MgPSBbXVxuICAgICAgZm9yIChpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YWx1ZSA9IGFyZ3VtZW50c1tpXVxuICAgICAgICBhcmdzW2ldID0gemVwdG8uaXNaKHZhbHVlKSA/IHZhbHVlLnRvQXJyYXkoKSA6IHZhbHVlXG4gICAgICB9XG4gICAgICByZXR1cm4gY29uY2F0LmFwcGx5KHplcHRvLmlzWih0aGlzKSA/IHRoaXMudG9BcnJheSgpIDogdGhpcywgYXJncylcbiAgICB9LFxuXG4gICAgLy8gYG1hcGAgYW5kIGBzbGljZWAgaW4gdGhlIGpRdWVyeSBBUEkgd29yayBkaWZmZXJlbnRseVxuICAgIC8vIGZyb20gdGhlaXIgYXJyYXkgY291bnRlcnBhcnRzXG4gICAgbWFwOiBmdW5jdGlvbihmbil7XG4gICAgICByZXR1cm4gJCgkLm1hcCh0aGlzLCBmdW5jdGlvbihlbCwgaSl7IHJldHVybiBmbi5jYWxsKGVsLCBpLCBlbCkgfSkpXG4gICAgfSxcbiAgICBzbGljZTogZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiAkKHNsaWNlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpXG4gICAgfSxcblxuICAgIHJlYWR5OiBmdW5jdGlvbihjYWxsYmFjayl7XG4gICAgICAvLyBuZWVkIHRvIGNoZWNrIGlmIGRvY3VtZW50LmJvZHkgZXhpc3RzIGZvciBJRSBhcyB0aGF0IGJyb3dzZXIgcmVwb3J0c1xuICAgICAgLy8gZG9jdW1lbnQgcmVhZHkgd2hlbiBpdCBoYXNuJ3QgeWV0IGNyZWF0ZWQgdGhlIGJvZHkgZWxlbWVudFxuICAgICAgaWYgKHJlYWR5UkUudGVzdChkb2N1bWVudC5yZWFkeVN0YXRlKSAmJiBkb2N1bWVudC5ib2R5KSBjYWxsYmFjaygkKVxuICAgICAgZWxzZSBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24oKXsgY2FsbGJhY2soJCkgfSwgZmFsc2UpXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH0sXG4gICAgZ2V0OiBmdW5jdGlvbihpZHgpe1xuICAgICAgcmV0dXJuIGlkeCA9PT0gdW5kZWZpbmVkID8gc2xpY2UuY2FsbCh0aGlzKSA6IHRoaXNbaWR4ID49IDAgPyBpZHggOiBpZHggKyB0aGlzLmxlbmd0aF1cbiAgICB9LFxuICAgIHRvQXJyYXk6IGZ1bmN0aW9uKCl7IHJldHVybiB0aGlzLmdldCgpIH0sXG4gICAgc2l6ZTogZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiB0aGlzLmxlbmd0aFxuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbigpe1xuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICBpZiAodGhpcy5wYXJlbnROb2RlICE9IG51bGwpXG4gICAgICAgICAgdGhpcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMpXG4gICAgICB9KVxuICAgIH0sXG4gICAgZWFjaDogZnVuY3Rpb24oY2FsbGJhY2spe1xuICAgICAgZW1wdHlBcnJheS5ldmVyeS5jYWxsKHRoaXMsIGZ1bmN0aW9uKGVsLCBpZHgpe1xuICAgICAgICByZXR1cm4gY2FsbGJhY2suY2FsbChlbCwgaWR4LCBlbCkgIT09IGZhbHNlXG4gICAgICB9KVxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9LFxuICAgIGZpbHRlcjogZnVuY3Rpb24oc2VsZWN0b3Ipe1xuICAgICAgaWYgKGlzRnVuY3Rpb24oc2VsZWN0b3IpKSByZXR1cm4gdGhpcy5ub3QodGhpcy5ub3Qoc2VsZWN0b3IpKVxuICAgICAgcmV0dXJuICQoZmlsdGVyLmNhbGwodGhpcywgZnVuY3Rpb24oZWxlbWVudCl7XG4gICAgICAgIHJldHVybiB6ZXB0by5tYXRjaGVzKGVsZW1lbnQsIHNlbGVjdG9yKVxuICAgICAgfSkpXG4gICAgfSxcbiAgICBhZGQ6IGZ1bmN0aW9uKHNlbGVjdG9yLGNvbnRleHQpe1xuICAgICAgcmV0dXJuICQodW5pcSh0aGlzLmNvbmNhdCgkKHNlbGVjdG9yLGNvbnRleHQpKSkpXG4gICAgfSxcbiAgICBpczogZnVuY3Rpb24oc2VsZWN0b3Ipe1xuICAgICAgcmV0dXJuIHRoaXMubGVuZ3RoID4gMCAmJiB6ZXB0by5tYXRjaGVzKHRoaXNbMF0sIHNlbGVjdG9yKVxuICAgIH0sXG4gICAgbm90OiBmdW5jdGlvbihzZWxlY3Rvcil7XG4gICAgICB2YXIgbm9kZXM9W11cbiAgICAgIGlmIChpc0Z1bmN0aW9uKHNlbGVjdG9yKSAmJiBzZWxlY3Rvci5jYWxsICE9PSB1bmRlZmluZWQpXG4gICAgICAgIHRoaXMuZWFjaChmdW5jdGlvbihpZHgpe1xuICAgICAgICAgIGlmICghc2VsZWN0b3IuY2FsbCh0aGlzLGlkeCkpIG5vZGVzLnB1c2godGhpcylcbiAgICAgICAgfSlcbiAgICAgIGVsc2Uge1xuICAgICAgICB2YXIgZXhjbHVkZXMgPSB0eXBlb2Ygc2VsZWN0b3IgPT0gJ3N0cmluZycgPyB0aGlzLmZpbHRlcihzZWxlY3RvcikgOlxuICAgICAgICAgIChsaWtlQXJyYXkoc2VsZWN0b3IpICYmIGlzRnVuY3Rpb24oc2VsZWN0b3IuaXRlbSkpID8gc2xpY2UuY2FsbChzZWxlY3RvcikgOiAkKHNlbGVjdG9yKVxuICAgICAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24oZWwpe1xuICAgICAgICAgIGlmIChleGNsdWRlcy5pbmRleE9mKGVsKSA8IDApIG5vZGVzLnB1c2goZWwpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICByZXR1cm4gJChub2RlcylcbiAgICB9LFxuICAgIGhhczogZnVuY3Rpb24oc2VsZWN0b3Ipe1xuICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyKGZ1bmN0aW9uKCl7XG4gICAgICAgIHJldHVybiBpc09iamVjdChzZWxlY3RvcikgP1xuICAgICAgICAgICQuY29udGFpbnModGhpcywgc2VsZWN0b3IpIDpcbiAgICAgICAgICAkKHRoaXMpLmZpbmQoc2VsZWN0b3IpLnNpemUoKVxuICAgICAgfSlcbiAgICB9LFxuICAgIGVxOiBmdW5jdGlvbihpZHgpe1xuICAgICAgcmV0dXJuIGlkeCA9PT0gLTEgPyB0aGlzLnNsaWNlKGlkeCkgOiB0aGlzLnNsaWNlKGlkeCwgKyBpZHggKyAxKVxuICAgIH0sXG4gICAgZmlyc3Q6IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgZWwgPSB0aGlzWzBdXG4gICAgICByZXR1cm4gZWwgJiYgIWlzT2JqZWN0KGVsKSA/IGVsIDogJChlbClcbiAgICB9LFxuICAgIGxhc3Q6IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgZWwgPSB0aGlzW3RoaXMubGVuZ3RoIC0gMV1cbiAgICAgIHJldHVybiBlbCAmJiAhaXNPYmplY3QoZWwpID8gZWwgOiAkKGVsKVxuICAgIH0sXG4gICAgZmluZDogZnVuY3Rpb24oc2VsZWN0b3Ipe1xuICAgICAgdmFyIHJlc3VsdCwgJHRoaXMgPSB0aGlzXG4gICAgICBpZiAoIXNlbGVjdG9yKSByZXN1bHQgPSAkKClcbiAgICAgIGVsc2UgaWYgKHR5cGVvZiBzZWxlY3RvciA9PSAnb2JqZWN0JylcbiAgICAgICAgcmVzdWx0ID0gJChzZWxlY3RvcikuZmlsdGVyKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgdmFyIG5vZGUgPSB0aGlzXG4gICAgICAgICAgcmV0dXJuIGVtcHR5QXJyYXkuc29tZS5jYWxsKCR0aGlzLCBmdW5jdGlvbihwYXJlbnQpe1xuICAgICAgICAgICAgcmV0dXJuICQuY29udGFpbnMocGFyZW50LCBub2RlKVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICBlbHNlIGlmICh0aGlzLmxlbmd0aCA9PSAxKSByZXN1bHQgPSAkKHplcHRvLnFzYSh0aGlzWzBdLCBzZWxlY3RvcikpXG4gICAgICBlbHNlIHJlc3VsdCA9IHRoaXMubWFwKGZ1bmN0aW9uKCl7IHJldHVybiB6ZXB0by5xc2EodGhpcywgc2VsZWN0b3IpIH0pXG4gICAgICByZXR1cm4gcmVzdWx0XG4gICAgfSxcbiAgICBjbG9zZXN0OiBmdW5jdGlvbihzZWxlY3RvciwgY29udGV4dCl7XG4gICAgICB2YXIgbm9kZXMgPSBbXSwgY29sbGVjdGlvbiA9IHR5cGVvZiBzZWxlY3RvciA9PSAnb2JqZWN0JyAmJiAkKHNlbGVjdG9yKVxuICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uKF8sIG5vZGUpe1xuICAgICAgICB3aGlsZSAobm9kZSAmJiAhKGNvbGxlY3Rpb24gPyBjb2xsZWN0aW9uLmluZGV4T2Yobm9kZSkgPj0gMCA6IHplcHRvLm1hdGNoZXMobm9kZSwgc2VsZWN0b3IpKSlcbiAgICAgICAgICBub2RlID0gbm9kZSAhPT0gY29udGV4dCAmJiAhaXNEb2N1bWVudChub2RlKSAmJiBub2RlLnBhcmVudE5vZGVcbiAgICAgICAgaWYgKG5vZGUgJiYgbm9kZXMuaW5kZXhPZihub2RlKSA8IDApIG5vZGVzLnB1c2gobm9kZSlcbiAgICAgIH0pXG4gICAgICByZXR1cm4gJChub2RlcylcbiAgICB9LFxuICAgIHBhcmVudHM6IGZ1bmN0aW9uKHNlbGVjdG9yKXtcbiAgICAgIHZhciBhbmNlc3RvcnMgPSBbXSwgbm9kZXMgPSB0aGlzXG4gICAgICB3aGlsZSAobm9kZXMubGVuZ3RoID4gMClcbiAgICAgICAgbm9kZXMgPSAkLm1hcChub2RlcywgZnVuY3Rpb24obm9kZSl7XG4gICAgICAgICAgaWYgKChub2RlID0gbm9kZS5wYXJlbnROb2RlKSAmJiAhaXNEb2N1bWVudChub2RlKSAmJiBhbmNlc3RvcnMuaW5kZXhPZihub2RlKSA8IDApIHtcbiAgICAgICAgICAgIGFuY2VzdG9ycy5wdXNoKG5vZGUpXG4gICAgICAgICAgICByZXR1cm4gbm9kZVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIHJldHVybiBmaWx0ZXJlZChhbmNlc3RvcnMsIHNlbGVjdG9yKVxuICAgIH0sXG4gICAgcGFyZW50OiBmdW5jdGlvbihzZWxlY3Rvcil7XG4gICAgICByZXR1cm4gZmlsdGVyZWQodW5pcSh0aGlzLnBsdWNrKCdwYXJlbnROb2RlJykpLCBzZWxlY3RvcilcbiAgICB9LFxuICAgIGNoaWxkcmVuOiBmdW5jdGlvbihzZWxlY3Rvcil7XG4gICAgICByZXR1cm4gZmlsdGVyZWQodGhpcy5tYXAoZnVuY3Rpb24oKXsgcmV0dXJuIGNoaWxkcmVuKHRoaXMpIH0pLCBzZWxlY3RvcilcbiAgICB9LFxuICAgIGNvbnRlbnRzOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuY29udGVudERvY3VtZW50IHx8IHNsaWNlLmNhbGwodGhpcy5jaGlsZE5vZGVzKSB9KVxuICAgIH0sXG4gICAgc2libGluZ3M6IGZ1bmN0aW9uKHNlbGVjdG9yKXtcbiAgICAgIHJldHVybiBmaWx0ZXJlZCh0aGlzLm1hcChmdW5jdGlvbihpLCBlbCl7XG4gICAgICAgIHJldHVybiBmaWx0ZXIuY2FsbChjaGlsZHJlbihlbC5wYXJlbnROb2RlKSwgZnVuY3Rpb24oY2hpbGQpeyByZXR1cm4gY2hpbGQhPT1lbCB9KVxuICAgICAgfSksIHNlbGVjdG9yKVxuICAgIH0sXG4gICAgZW1wdHk6IGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7IHRoaXMuaW5uZXJIVE1MID0gJycgfSlcbiAgICB9LFxuICAgIC8vIGBwbHVja2AgaXMgYm9ycm93ZWQgZnJvbSBQcm90b3R5cGUuanNcbiAgICBwbHVjazogZnVuY3Rpb24ocHJvcGVydHkpe1xuICAgICAgcmV0dXJuICQubWFwKHRoaXMsIGZ1bmN0aW9uKGVsKXsgcmV0dXJuIGVsW3Byb3BlcnR5XSB9KVxuICAgIH0sXG4gICAgc2hvdzogZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgICAgdGhpcy5zdHlsZS5kaXNwbGF5ID09IFwibm9uZVwiICYmICh0aGlzLnN0eWxlLmRpc3BsYXkgPSAnJylcbiAgICAgICAgaWYgKGdldENvbXB1dGVkU3R5bGUodGhpcywgJycpLmdldFByb3BlcnR5VmFsdWUoXCJkaXNwbGF5XCIpID09IFwibm9uZVwiKVxuICAgICAgICAgIHRoaXMuc3R5bGUuZGlzcGxheSA9IGRlZmF1bHREaXNwbGF5KHRoaXMubm9kZU5hbWUpXG4gICAgICB9KVxuICAgIH0sXG4gICAgcmVwbGFjZVdpdGg6IGZ1bmN0aW9uKG5ld0NvbnRlbnQpe1xuICAgICAgcmV0dXJuIHRoaXMuYmVmb3JlKG5ld0NvbnRlbnQpLnJlbW92ZSgpXG4gICAgfSxcbiAgICB3cmFwOiBmdW5jdGlvbihzdHJ1Y3R1cmUpe1xuICAgICAgdmFyIGZ1bmMgPSBpc0Z1bmN0aW9uKHN0cnVjdHVyZSlcbiAgICAgIGlmICh0aGlzWzBdICYmICFmdW5jKVxuICAgICAgICB2YXIgZG9tICAgPSAkKHN0cnVjdHVyZSkuZ2V0KDApLFxuICAgICAgICAgICAgY2xvbmUgPSBkb20ucGFyZW50Tm9kZSB8fCB0aGlzLmxlbmd0aCA+IDFcblxuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihpbmRleCl7XG4gICAgICAgICQodGhpcykud3JhcEFsbChcbiAgICAgICAgICBmdW5jID8gc3RydWN0dXJlLmNhbGwodGhpcywgaW5kZXgpIDpcbiAgICAgICAgICAgIGNsb25lID8gZG9tLmNsb25lTm9kZSh0cnVlKSA6IGRvbVxuICAgICAgICApXG4gICAgICB9KVxuICAgIH0sXG4gICAgd3JhcEFsbDogZnVuY3Rpb24oc3RydWN0dXJlKXtcbiAgICAgIGlmICh0aGlzWzBdKSB7XG4gICAgICAgICQodGhpc1swXSkuYmVmb3JlKHN0cnVjdHVyZSA9ICQoc3RydWN0dXJlKSlcbiAgICAgICAgdmFyIGNoaWxkcmVuXG4gICAgICAgIC8vIGRyaWxsIGRvd24gdG8gdGhlIGlubW9zdCBlbGVtZW50XG4gICAgICAgIHdoaWxlICgoY2hpbGRyZW4gPSBzdHJ1Y3R1cmUuY2hpbGRyZW4oKSkubGVuZ3RoKSBzdHJ1Y3R1cmUgPSBjaGlsZHJlbi5maXJzdCgpXG4gICAgICAgICQoc3RydWN0dXJlKS5hcHBlbmQodGhpcylcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzXG4gICAgfSxcbiAgICB3cmFwSW5uZXI6IGZ1bmN0aW9uKHN0cnVjdHVyZSl7XG4gICAgICB2YXIgZnVuYyA9IGlzRnVuY3Rpb24oc3RydWN0dXJlKVxuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihpbmRleCl7XG4gICAgICAgIHZhciBzZWxmID0gJCh0aGlzKSwgY29udGVudHMgPSBzZWxmLmNvbnRlbnRzKCksXG4gICAgICAgICAgICBkb20gID0gZnVuYyA/IHN0cnVjdHVyZS5jYWxsKHRoaXMsIGluZGV4KSA6IHN0cnVjdHVyZVxuICAgICAgICBjb250ZW50cy5sZW5ndGggPyBjb250ZW50cy53cmFwQWxsKGRvbSkgOiBzZWxmLmFwcGVuZChkb20pXG4gICAgICB9KVxuICAgIH0sXG4gICAgdW53cmFwOiBmdW5jdGlvbigpe1xuICAgICAgdGhpcy5wYXJlbnQoKS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgICQodGhpcykucmVwbGFjZVdpdGgoJCh0aGlzKS5jaGlsZHJlbigpKVxuICAgICAgfSlcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfSxcbiAgICBjbG9uZTogZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbigpeyByZXR1cm4gdGhpcy5jbG9uZU5vZGUodHJ1ZSkgfSlcbiAgICB9LFxuICAgIGhpZGU6IGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gdGhpcy5jc3MoXCJkaXNwbGF5XCIsIFwibm9uZVwiKVxuICAgIH0sXG4gICAgdG9nZ2xlOiBmdW5jdGlvbihzZXR0aW5nKXtcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIGVsID0gJCh0aGlzKVxuICAgICAgICA7KHNldHRpbmcgPT09IHVuZGVmaW5lZCA/IGVsLmNzcyhcImRpc3BsYXlcIikgPT0gXCJub25lXCIgOiBzZXR0aW5nKSA/IGVsLnNob3coKSA6IGVsLmhpZGUoKVxuICAgICAgfSlcbiAgICB9LFxuICAgIHByZXY6IGZ1bmN0aW9uKHNlbGVjdG9yKXsgcmV0dXJuICQodGhpcy5wbHVjaygncHJldmlvdXNFbGVtZW50U2libGluZycpKS5maWx0ZXIoc2VsZWN0b3IgfHwgJyonKSB9LFxuICAgIG5leHQ6IGZ1bmN0aW9uKHNlbGVjdG9yKXsgcmV0dXJuICQodGhpcy5wbHVjaygnbmV4dEVsZW1lbnRTaWJsaW5nJykpLmZpbHRlcihzZWxlY3RvciB8fCAnKicpIH0sXG4gICAgaHRtbDogZnVuY3Rpb24oaHRtbCl7XG4gICAgICByZXR1cm4gMCBpbiBhcmd1bWVudHMgP1xuICAgICAgICB0aGlzLmVhY2goZnVuY3Rpb24oaWR4KXtcbiAgICAgICAgICB2YXIgb3JpZ2luSHRtbCA9IHRoaXMuaW5uZXJIVE1MXG4gICAgICAgICAgJCh0aGlzKS5lbXB0eSgpLmFwcGVuZCggZnVuY0FyZyh0aGlzLCBodG1sLCBpZHgsIG9yaWdpbkh0bWwpIClcbiAgICAgICAgfSkgOlxuICAgICAgICAoMCBpbiB0aGlzID8gdGhpc1swXS5pbm5lckhUTUwgOiBudWxsKVxuICAgIH0sXG4gICAgdGV4dDogZnVuY3Rpb24odGV4dCl7XG4gICAgICByZXR1cm4gMCBpbiBhcmd1bWVudHMgP1xuICAgICAgICB0aGlzLmVhY2goZnVuY3Rpb24oaWR4KXtcbiAgICAgICAgICB2YXIgbmV3VGV4dCA9IGZ1bmNBcmcodGhpcywgdGV4dCwgaWR4LCB0aGlzLnRleHRDb250ZW50KVxuICAgICAgICAgIHRoaXMudGV4dENvbnRlbnQgPSBuZXdUZXh0ID09IG51bGwgPyAnJyA6ICcnK25ld1RleHRcbiAgICAgICAgfSkgOlxuICAgICAgICAoMCBpbiB0aGlzID8gdGhpcy5wbHVjaygndGV4dENvbnRlbnQnKS5qb2luKFwiXCIpIDogbnVsbClcbiAgICB9LFxuICAgIGF0dHI6IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKXtcbiAgICAgIHZhciByZXN1bHRcbiAgICAgIHJldHVybiAodHlwZW9mIG5hbWUgPT0gJ3N0cmluZycgJiYgISgxIGluIGFyZ3VtZW50cykpID9cbiAgICAgICAgKDAgaW4gdGhpcyAmJiB0aGlzWzBdLm5vZGVUeXBlID09IDEgJiYgKHJlc3VsdCA9IHRoaXNbMF0uZ2V0QXR0cmlidXRlKG5hbWUpKSAhPSBudWxsID8gcmVzdWx0IDogdW5kZWZpbmVkKSA6XG4gICAgICAgIHRoaXMuZWFjaChmdW5jdGlvbihpZHgpe1xuICAgICAgICAgIGlmICh0aGlzLm5vZGVUeXBlICE9PSAxKSByZXR1cm5cbiAgICAgICAgICBpZiAoaXNPYmplY3QobmFtZSkpIGZvciAoa2V5IGluIG5hbWUpIHNldEF0dHJpYnV0ZSh0aGlzLCBrZXksIG5hbWVba2V5XSlcbiAgICAgICAgICBlbHNlIHNldEF0dHJpYnV0ZSh0aGlzLCBuYW1lLCBmdW5jQXJnKHRoaXMsIHZhbHVlLCBpZHgsIHRoaXMuZ2V0QXR0cmlidXRlKG5hbWUpKSlcbiAgICAgICAgfSlcbiAgICB9LFxuICAgIHJlbW92ZUF0dHI6IGZ1bmN0aW9uKG5hbWUpe1xuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpeyB0aGlzLm5vZGVUeXBlID09PSAxICYmIG5hbWUuc3BsaXQoJyAnKS5mb3JFYWNoKGZ1bmN0aW9uKGF0dHJpYnV0ZSl7XG4gICAgICAgIHNldEF0dHJpYnV0ZSh0aGlzLCBhdHRyaWJ1dGUpXG4gICAgICB9LCB0aGlzKX0pXG4gICAgfSxcbiAgICBwcm9wOiBmdW5jdGlvbihuYW1lLCB2YWx1ZSl7XG4gICAgICBuYW1lID0gcHJvcE1hcFtuYW1lXSB8fCBuYW1lXG4gICAgICByZXR1cm4gKDEgaW4gYXJndW1lbnRzKSA/XG4gICAgICAgIHRoaXMuZWFjaChmdW5jdGlvbihpZHgpe1xuICAgICAgICAgIHRoaXNbbmFtZV0gPSBmdW5jQXJnKHRoaXMsIHZhbHVlLCBpZHgsIHRoaXNbbmFtZV0pXG4gICAgICAgIH0pIDpcbiAgICAgICAgKHRoaXNbMF0gJiYgdGhpc1swXVtuYW1lXSlcbiAgICB9LFxuICAgIHJlbW92ZVByb3A6IGZ1bmN0aW9uKG5hbWUpe1xuICAgICAgbmFtZSA9IHByb3BNYXBbbmFtZV0gfHwgbmFtZVxuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpeyBkZWxldGUgdGhpc1tuYW1lXSB9KVxuICAgIH0sXG4gICAgZGF0YTogZnVuY3Rpb24obmFtZSwgdmFsdWUpe1xuICAgICAgdmFyIGF0dHJOYW1lID0gJ2RhdGEtJyArIG5hbWUucmVwbGFjZShjYXBpdGFsUkUsICctJDEnKS50b0xvd2VyQ2FzZSgpXG5cbiAgICAgIHZhciBkYXRhID0gKDEgaW4gYXJndW1lbnRzKSA/XG4gICAgICAgIHRoaXMuYXR0cihhdHRyTmFtZSwgdmFsdWUpIDpcbiAgICAgICAgdGhpcy5hdHRyKGF0dHJOYW1lKVxuXG4gICAgICByZXR1cm4gZGF0YSAhPT0gbnVsbCA/IGRlc2VyaWFsaXplVmFsdWUoZGF0YSkgOiB1bmRlZmluZWRcbiAgICB9LFxuICAgIHZhbDogZnVuY3Rpb24odmFsdWUpe1xuICAgICAgaWYgKDAgaW4gYXJndW1lbnRzKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB2YWx1ZSA9IFwiXCJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihpZHgpe1xuICAgICAgICAgIHRoaXMudmFsdWUgPSBmdW5jQXJnKHRoaXMsIHZhbHVlLCBpZHgsIHRoaXMudmFsdWUpXG4gICAgICAgIH0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpc1swXSAmJiAodGhpc1swXS5tdWx0aXBsZSA/XG4gICAgICAgICAgICQodGhpc1swXSkuZmluZCgnb3B0aW9uJykuZmlsdGVyKGZ1bmN0aW9uKCl7IHJldHVybiB0aGlzLnNlbGVjdGVkIH0pLnBsdWNrKCd2YWx1ZScpIDpcbiAgICAgICAgICAgdGhpc1swXS52YWx1ZSlcbiAgICAgIH1cbiAgICB9LFxuICAgIG9mZnNldDogZnVuY3Rpb24oY29vcmRpbmF0ZXMpe1xuICAgICAgaWYgKGNvb3JkaW5hdGVzKSByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGluZGV4KXtcbiAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSxcbiAgICAgICAgICAgIGNvb3JkcyA9IGZ1bmNBcmcodGhpcywgY29vcmRpbmF0ZXMsIGluZGV4LCAkdGhpcy5vZmZzZXQoKSksXG4gICAgICAgICAgICBwYXJlbnRPZmZzZXQgPSAkdGhpcy5vZmZzZXRQYXJlbnQoKS5vZmZzZXQoKSxcbiAgICAgICAgICAgIHByb3BzID0ge1xuICAgICAgICAgICAgICB0b3A6ICBjb29yZHMudG9wICAtIHBhcmVudE9mZnNldC50b3AsXG4gICAgICAgICAgICAgIGxlZnQ6IGNvb3Jkcy5sZWZ0IC0gcGFyZW50T2Zmc2V0LmxlZnRcbiAgICAgICAgICAgIH1cblxuICAgICAgICBpZiAoJHRoaXMuY3NzKCdwb3NpdGlvbicpID09ICdzdGF0aWMnKSBwcm9wc1sncG9zaXRpb24nXSA9ICdyZWxhdGl2ZSdcbiAgICAgICAgJHRoaXMuY3NzKHByb3BzKVxuICAgICAgfSlcbiAgICAgIGlmICghdGhpcy5sZW5ndGgpIHJldHVybiBudWxsXG4gICAgICBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICE9PSB0aGlzWzBdICYmICEkLmNvbnRhaW5zKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgdGhpc1swXSkpXG4gICAgICAgIHJldHVybiB7dG9wOiAwLCBsZWZ0OiAwfVxuICAgICAgdmFyIG9iaiA9IHRoaXNbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxlZnQ6IG9iai5sZWZ0ICsgd2luZG93LnBhZ2VYT2Zmc2V0LFxuICAgICAgICB0b3A6IG9iai50b3AgKyB3aW5kb3cucGFnZVlPZmZzZXQsXG4gICAgICAgIHdpZHRoOiBNYXRoLnJvdW5kKG9iai53aWR0aCksXG4gICAgICAgIGhlaWdodDogTWF0aC5yb3VuZChvYmouaGVpZ2h0KVxuICAgICAgfVxuICAgIH0sXG4gICAgY3NzOiBmdW5jdGlvbihwcm9wZXJ0eSwgdmFsdWUpe1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gdGhpc1swXVxuICAgICAgICBpZiAodHlwZW9mIHByb3BlcnR5ID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgaWYgKCFlbGVtZW50KSByZXR1cm5cbiAgICAgICAgICByZXR1cm4gZWxlbWVudC5zdHlsZVtjYW1lbGl6ZShwcm9wZXJ0eSldIHx8IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgJycpLmdldFByb3BlcnR5VmFsdWUocHJvcGVydHkpXG4gICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheShwcm9wZXJ0eSkpIHtcbiAgICAgICAgICBpZiAoIWVsZW1lbnQpIHJldHVyblxuICAgICAgICAgIHZhciBwcm9wcyA9IHt9XG4gICAgICAgICAgdmFyIGNvbXB1dGVkU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQsICcnKVxuICAgICAgICAgICQuZWFjaChwcm9wZXJ0eSwgZnVuY3Rpb24oXywgcHJvcCl7XG4gICAgICAgICAgICBwcm9wc1twcm9wXSA9IChlbGVtZW50LnN0eWxlW2NhbWVsaXplKHByb3ApXSB8fCBjb21wdXRlZFN0eWxlLmdldFByb3BlcnR5VmFsdWUocHJvcCkpXG4gICAgICAgICAgfSlcbiAgICAgICAgICByZXR1cm4gcHJvcHNcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgY3NzID0gJydcbiAgICAgIGlmICh0eXBlKHByb3BlcnR5KSA9PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAoIXZhbHVlICYmIHZhbHVlICE9PSAwKVxuICAgICAgICAgIHRoaXMuZWFjaChmdW5jdGlvbigpeyB0aGlzLnN0eWxlLnJlbW92ZVByb3BlcnR5KGRhc2hlcml6ZShwcm9wZXJ0eSkpIH0pXG4gICAgICAgIGVsc2VcbiAgICAgICAgICBjc3MgPSBkYXNoZXJpemUocHJvcGVydHkpICsgXCI6XCIgKyBtYXliZUFkZFB4KHByb3BlcnR5LCB2YWx1ZSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAoa2V5IGluIHByb3BlcnR5KVxuICAgICAgICAgIGlmICghcHJvcGVydHlba2V5XSAmJiBwcm9wZXJ0eVtrZXldICE9PSAwKVxuICAgICAgICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uKCl7IHRoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkoZGFzaGVyaXplKGtleSkpIH0pXG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgY3NzICs9IGRhc2hlcml6ZShrZXkpICsgJzonICsgbWF5YmVBZGRQeChrZXksIHByb3BlcnR5W2tleV0pICsgJzsnXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXsgdGhpcy5zdHlsZS5jc3NUZXh0ICs9ICc7JyArIGNzcyB9KVxuICAgIH0sXG4gICAgaW5kZXg6IGZ1bmN0aW9uKGVsZW1lbnQpe1xuICAgICAgcmV0dXJuIGVsZW1lbnQgPyB0aGlzLmluZGV4T2YoJChlbGVtZW50KVswXSkgOiB0aGlzLnBhcmVudCgpLmNoaWxkcmVuKCkuaW5kZXhPZih0aGlzWzBdKVxuICAgIH0sXG4gICAgaGFzQ2xhc3M6IGZ1bmN0aW9uKG5hbWUpe1xuICAgICAgaWYgKCFuYW1lKSByZXR1cm4gZmFsc2VcbiAgICAgIHJldHVybiBlbXB0eUFycmF5LnNvbWUuY2FsbCh0aGlzLCBmdW5jdGlvbihlbCl7XG4gICAgICAgIHJldHVybiB0aGlzLnRlc3QoY2xhc3NOYW1lKGVsKSlcbiAgICAgIH0sIGNsYXNzUkUobmFtZSkpXG4gICAgfSxcbiAgICBhZGRDbGFzczogZnVuY3Rpb24obmFtZSl7XG4gICAgICBpZiAoIW5hbWUpIHJldHVybiB0aGlzXG4gICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGlkeCl7XG4gICAgICAgIGlmICghKCdjbGFzc05hbWUnIGluIHRoaXMpKSByZXR1cm5cbiAgICAgICAgY2xhc3NMaXN0ID0gW11cbiAgICAgICAgdmFyIGNscyA9IGNsYXNzTmFtZSh0aGlzKSwgbmV3TmFtZSA9IGZ1bmNBcmcodGhpcywgbmFtZSwgaWR4LCBjbHMpXG4gICAgICAgIG5ld05hbWUuc3BsaXQoL1xccysvZykuZm9yRWFjaChmdW5jdGlvbihrbGFzcyl7XG4gICAgICAgICAgaWYgKCEkKHRoaXMpLmhhc0NsYXNzKGtsYXNzKSkgY2xhc3NMaXN0LnB1c2goa2xhc3MpXG4gICAgICAgIH0sIHRoaXMpXG4gICAgICAgIGNsYXNzTGlzdC5sZW5ndGggJiYgY2xhc3NOYW1lKHRoaXMsIGNscyArIChjbHMgPyBcIiBcIiA6IFwiXCIpICsgY2xhc3NMaXN0LmpvaW4oXCIgXCIpKVxuICAgICAgfSlcbiAgICB9LFxuICAgIHJlbW92ZUNsYXNzOiBmdW5jdGlvbihuYW1lKXtcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oaWR4KXtcbiAgICAgICAgaWYgKCEoJ2NsYXNzTmFtZScgaW4gdGhpcykpIHJldHVyblxuICAgICAgICBpZiAobmFtZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gY2xhc3NOYW1lKHRoaXMsICcnKVxuICAgICAgICBjbGFzc0xpc3QgPSBjbGFzc05hbWUodGhpcylcbiAgICAgICAgZnVuY0FyZyh0aGlzLCBuYW1lLCBpZHgsIGNsYXNzTGlzdCkuc3BsaXQoL1xccysvZykuZm9yRWFjaChmdW5jdGlvbihrbGFzcyl7XG4gICAgICAgICAgY2xhc3NMaXN0ID0gY2xhc3NMaXN0LnJlcGxhY2UoY2xhc3NSRShrbGFzcyksIFwiIFwiKVxuICAgICAgICB9KVxuICAgICAgICBjbGFzc05hbWUodGhpcywgY2xhc3NMaXN0LnRyaW0oKSlcbiAgICAgIH0pXG4gICAgfSxcbiAgICB0b2dnbGVDbGFzczogZnVuY3Rpb24obmFtZSwgd2hlbil7XG4gICAgICBpZiAoIW5hbWUpIHJldHVybiB0aGlzXG4gICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGlkeCl7XG4gICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyksIG5hbWVzID0gZnVuY0FyZyh0aGlzLCBuYW1lLCBpZHgsIGNsYXNzTmFtZSh0aGlzKSlcbiAgICAgICAgbmFtZXMuc3BsaXQoL1xccysvZykuZm9yRWFjaChmdW5jdGlvbihrbGFzcyl7XG4gICAgICAgICAgKHdoZW4gPT09IHVuZGVmaW5lZCA/ICEkdGhpcy5oYXNDbGFzcyhrbGFzcykgOiB3aGVuKSA/XG4gICAgICAgICAgICAkdGhpcy5hZGRDbGFzcyhrbGFzcykgOiAkdGhpcy5yZW1vdmVDbGFzcyhrbGFzcylcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfSxcbiAgICBzY3JvbGxUb3A6IGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgIGlmICghdGhpcy5sZW5ndGgpIHJldHVyblxuICAgICAgdmFyIGhhc1Njcm9sbFRvcCA9ICdzY3JvbGxUb3AnIGluIHRoaXNbMF1cbiAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gaGFzU2Nyb2xsVG9wID8gdGhpc1swXS5zY3JvbGxUb3AgOiB0aGlzWzBdLnBhZ2VZT2Zmc2V0XG4gICAgICByZXR1cm4gdGhpcy5lYWNoKGhhc1Njcm9sbFRvcCA/XG4gICAgICAgIGZ1bmN0aW9uKCl7IHRoaXMuc2Nyb2xsVG9wID0gdmFsdWUgfSA6XG4gICAgICAgIGZ1bmN0aW9uKCl7IHRoaXMuc2Nyb2xsVG8odGhpcy5zY3JvbGxYLCB2YWx1ZSkgfSlcbiAgICB9LFxuICAgIHNjcm9sbExlZnQ6IGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgIGlmICghdGhpcy5sZW5ndGgpIHJldHVyblxuICAgICAgdmFyIGhhc1Njcm9sbExlZnQgPSAnc2Nyb2xsTGVmdCcgaW4gdGhpc1swXVxuICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHJldHVybiBoYXNTY3JvbGxMZWZ0ID8gdGhpc1swXS5zY3JvbGxMZWZ0IDogdGhpc1swXS5wYWdlWE9mZnNldFxuICAgICAgcmV0dXJuIHRoaXMuZWFjaChoYXNTY3JvbGxMZWZ0ID9cbiAgICAgICAgZnVuY3Rpb24oKXsgdGhpcy5zY3JvbGxMZWZ0ID0gdmFsdWUgfSA6XG4gICAgICAgIGZ1bmN0aW9uKCl7IHRoaXMuc2Nyb2xsVG8odmFsdWUsIHRoaXMuc2Nyb2xsWSkgfSlcbiAgICB9LFxuICAgIHBvc2l0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICghdGhpcy5sZW5ndGgpIHJldHVyblxuXG4gICAgICB2YXIgZWxlbSA9IHRoaXNbMF0sXG4gICAgICAgIC8vIEdldCAqcmVhbCogb2Zmc2V0UGFyZW50XG4gICAgICAgIG9mZnNldFBhcmVudCA9IHRoaXMub2Zmc2V0UGFyZW50KCksXG4gICAgICAgIC8vIEdldCBjb3JyZWN0IG9mZnNldHNcbiAgICAgICAgb2Zmc2V0ICAgICAgID0gdGhpcy5vZmZzZXQoKSxcbiAgICAgICAgcGFyZW50T2Zmc2V0ID0gcm9vdE5vZGVSRS50ZXN0KG9mZnNldFBhcmVudFswXS5ub2RlTmFtZSkgPyB7IHRvcDogMCwgbGVmdDogMCB9IDogb2Zmc2V0UGFyZW50Lm9mZnNldCgpXG5cbiAgICAgIC8vIFN1YnRyYWN0IGVsZW1lbnQgbWFyZ2luc1xuICAgICAgLy8gbm90ZTogd2hlbiBhbiBlbGVtZW50IGhhcyBtYXJnaW46IGF1dG8gdGhlIG9mZnNldExlZnQgYW5kIG1hcmdpbkxlZnRcbiAgICAgIC8vIGFyZSB0aGUgc2FtZSBpbiBTYWZhcmkgY2F1c2luZyBvZmZzZXQubGVmdCB0byBpbmNvcnJlY3RseSBiZSAwXG4gICAgICBvZmZzZXQudG9wICAtPSBwYXJzZUZsb2F0KCAkKGVsZW0pLmNzcygnbWFyZ2luLXRvcCcpICkgfHwgMFxuICAgICAgb2Zmc2V0LmxlZnQgLT0gcGFyc2VGbG9hdCggJChlbGVtKS5jc3MoJ21hcmdpbi1sZWZ0JykgKSB8fCAwXG5cbiAgICAgIC8vIEFkZCBvZmZzZXRQYXJlbnQgYm9yZGVyc1xuICAgICAgcGFyZW50T2Zmc2V0LnRvcCAgKz0gcGFyc2VGbG9hdCggJChvZmZzZXRQYXJlbnRbMF0pLmNzcygnYm9yZGVyLXRvcC13aWR0aCcpICkgfHwgMFxuICAgICAgcGFyZW50T2Zmc2V0LmxlZnQgKz0gcGFyc2VGbG9hdCggJChvZmZzZXRQYXJlbnRbMF0pLmNzcygnYm9yZGVyLWxlZnQtd2lkdGgnKSApIHx8IDBcblxuICAgICAgLy8gU3VidHJhY3QgdGhlIHR3byBvZmZzZXRzXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b3A6ICBvZmZzZXQudG9wICAtIHBhcmVudE9mZnNldC50b3AsXG4gICAgICAgIGxlZnQ6IG9mZnNldC5sZWZ0IC0gcGFyZW50T2Zmc2V0LmxlZnRcbiAgICAgIH1cbiAgICB9LFxuICAgIG9mZnNldFBhcmVudDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIHBhcmVudCA9IHRoaXMub2Zmc2V0UGFyZW50IHx8IGRvY3VtZW50LmJvZHlcbiAgICAgICAgd2hpbGUgKHBhcmVudCAmJiAhcm9vdE5vZGVSRS50ZXN0KHBhcmVudC5ub2RlTmFtZSkgJiYgJChwYXJlbnQpLmNzcyhcInBvc2l0aW9uXCIpID09IFwic3RhdGljXCIpXG4gICAgICAgICAgcGFyZW50ID0gcGFyZW50Lm9mZnNldFBhcmVudFxuICAgICAgICByZXR1cm4gcGFyZW50XG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIC8vIGZvciBub3dcbiAgJC5mbi5kZXRhY2ggPSAkLmZuLnJlbW92ZVxuXG4gIC8vIEdlbmVyYXRlIHRoZSBgd2lkdGhgIGFuZCBgaGVpZ2h0YCBmdW5jdGlvbnNcbiAgO1snd2lkdGgnLCAnaGVpZ2h0J10uZm9yRWFjaChmdW5jdGlvbihkaW1lbnNpb24pe1xuICAgIHZhciBkaW1lbnNpb25Qcm9wZXJ0eSA9XG4gICAgICBkaW1lbnNpb24ucmVwbGFjZSgvLi8sIGZ1bmN0aW9uKG0peyByZXR1cm4gbVswXS50b1VwcGVyQ2FzZSgpIH0pXG5cbiAgICAkLmZuW2RpbWVuc2lvbl0gPSBmdW5jdGlvbih2YWx1ZSl7XG4gICAgICB2YXIgb2Zmc2V0LCBlbCA9IHRoaXNbMF1cbiAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gaXNXaW5kb3coZWwpID8gZWxbJ2lubmVyJyArIGRpbWVuc2lvblByb3BlcnR5XSA6XG4gICAgICAgIGlzRG9jdW1lbnQoZWwpID8gZWwuZG9jdW1lbnRFbGVtZW50WydzY3JvbGwnICsgZGltZW5zaW9uUHJvcGVydHldIDpcbiAgICAgICAgKG9mZnNldCA9IHRoaXMub2Zmc2V0KCkpICYmIG9mZnNldFtkaW1lbnNpb25dXG4gICAgICBlbHNlIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oaWR4KXtcbiAgICAgICAgZWwgPSAkKHRoaXMpXG4gICAgICAgIGVsLmNzcyhkaW1lbnNpb24sIGZ1bmNBcmcodGhpcywgdmFsdWUsIGlkeCwgZWxbZGltZW5zaW9uXSgpKSlcbiAgICAgIH0pXG4gICAgfVxuICB9KVxuXG4gIGZ1bmN0aW9uIHRyYXZlcnNlTm9kZShub2RlLCBmdW4pIHtcbiAgICBmdW4obm9kZSlcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gbm9kZS5jaGlsZE5vZGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKVxuICAgICAgdHJhdmVyc2VOb2RlKG5vZGUuY2hpbGROb2Rlc1tpXSwgZnVuKVxuICB9XG5cbiAgLy8gR2VuZXJhdGUgdGhlIGBhZnRlcmAsIGBwcmVwZW5kYCwgYGJlZm9yZWAsIGBhcHBlbmRgLFxuICAvLyBgaW5zZXJ0QWZ0ZXJgLCBgaW5zZXJ0QmVmb3JlYCwgYGFwcGVuZFRvYCwgYW5kIGBwcmVwZW5kVG9gIG1ldGhvZHMuXG4gIGFkamFjZW5jeU9wZXJhdG9ycy5mb3JFYWNoKGZ1bmN0aW9uKG9wZXJhdG9yLCBvcGVyYXRvckluZGV4KSB7XG4gICAgdmFyIGluc2lkZSA9IG9wZXJhdG9ySW5kZXggJSAyIC8vPT4gcHJlcGVuZCwgYXBwZW5kXG5cbiAgICAkLmZuW29wZXJhdG9yXSA9IGZ1bmN0aW9uKCl7XG4gICAgICAvLyBhcmd1bWVudHMgY2FuIGJlIG5vZGVzLCBhcnJheXMgb2Ygbm9kZXMsIFplcHRvIG9iamVjdHMgYW5kIEhUTUwgc3RyaW5nc1xuICAgICAgdmFyIGFyZ1R5cGUsIG5vZGVzID0gJC5tYXAoYXJndW1lbnRzLCBmdW5jdGlvbihhcmcpIHtcbiAgICAgICAgICAgIHZhciBhcnIgPSBbXVxuICAgICAgICAgICAgYXJnVHlwZSA9IHR5cGUoYXJnKVxuICAgICAgICAgICAgaWYgKGFyZ1R5cGUgPT0gXCJhcnJheVwiKSB7XG4gICAgICAgICAgICAgIGFyZy5mb3JFYWNoKGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVsLm5vZGVUeXBlICE9PSB1bmRlZmluZWQpIHJldHVybiBhcnIucHVzaChlbClcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgkLnplcHRvLmlzWihlbCkpIHJldHVybiBhcnIgPSBhcnIuY29uY2F0KGVsLmdldCgpKVxuICAgICAgICAgICAgICAgIGFyciA9IGFyci5jb25jYXQoemVwdG8uZnJhZ21lbnQoZWwpKVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICByZXR1cm4gYXJyXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYXJnVHlwZSA9PSBcIm9iamVjdFwiIHx8IGFyZyA9PSBudWxsID9cbiAgICAgICAgICAgICAgYXJnIDogemVwdG8uZnJhZ21lbnQoYXJnKVxuICAgICAgICAgIH0pLFxuICAgICAgICAgIHBhcmVudCwgY29weUJ5Q2xvbmUgPSB0aGlzLmxlbmd0aCA+IDFcbiAgICAgIGlmIChub2Rlcy5sZW5ndGggPCAxKSByZXR1cm4gdGhpc1xuXG4gICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKF8sIHRhcmdldCl7XG4gICAgICAgIHBhcmVudCA9IGluc2lkZSA/IHRhcmdldCA6IHRhcmdldC5wYXJlbnROb2RlXG5cbiAgICAgICAgLy8gY29udmVydCBhbGwgbWV0aG9kcyB0byBhIFwiYmVmb3JlXCIgb3BlcmF0aW9uXG4gICAgICAgIHRhcmdldCA9IG9wZXJhdG9ySW5kZXggPT0gMCA/IHRhcmdldC5uZXh0U2libGluZyA6XG4gICAgICAgICAgICAgICAgIG9wZXJhdG9ySW5kZXggPT0gMSA/IHRhcmdldC5maXJzdENoaWxkIDpcbiAgICAgICAgICAgICAgICAgb3BlcmF0b3JJbmRleCA9PSAyID8gdGFyZ2V0IDpcbiAgICAgICAgICAgICAgICAgbnVsbFxuXG4gICAgICAgIHZhciBwYXJlbnRJbkRvY3VtZW50ID0gJC5jb250YWlucyhkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIHBhcmVudClcblxuICAgICAgICBub2Rlcy5mb3JFYWNoKGZ1bmN0aW9uKG5vZGUpe1xuICAgICAgICAgIGlmIChjb3B5QnlDbG9uZSkgbm9kZSA9IG5vZGUuY2xvbmVOb2RlKHRydWUpXG4gICAgICAgICAgZWxzZSBpZiAoIXBhcmVudCkgcmV0dXJuICQobm9kZSkucmVtb3ZlKClcblxuICAgICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUobm9kZSwgdGFyZ2V0KVxuICAgICAgICAgIGlmIChwYXJlbnRJbkRvY3VtZW50KSB0cmF2ZXJzZU5vZGUobm9kZSwgZnVuY3Rpb24oZWwpe1xuICAgICAgICAgICAgaWYgKGVsLm5vZGVOYW1lICE9IG51bGwgJiYgZWwubm9kZU5hbWUudG9VcHBlckNhc2UoKSA9PT0gJ1NDUklQVCcgJiZcbiAgICAgICAgICAgICAgICghZWwudHlwZSB8fCBlbC50eXBlID09PSAndGV4dC9qYXZhc2NyaXB0JykgJiYgIWVsLnNyYyl7XG4gICAgICAgICAgICAgIHZhciB0YXJnZXQgPSBlbC5vd25lckRvY3VtZW50ID8gZWwub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldyA6IHdpbmRvd1xuICAgICAgICAgICAgICB0YXJnZXRbJ2V2YWwnXS5jYWxsKHRhcmdldCwgZWwuaW5uZXJIVE1MKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH1cblxuICAgIC8vIGFmdGVyICAgID0+IGluc2VydEFmdGVyXG4gICAgLy8gcHJlcGVuZCAgPT4gcHJlcGVuZFRvXG4gICAgLy8gYmVmb3JlICAgPT4gaW5zZXJ0QmVmb3JlXG4gICAgLy8gYXBwZW5kICAgPT4gYXBwZW5kVG9cbiAgICAkLmZuW2luc2lkZSA/IG9wZXJhdG9yKydUbycgOiAnaW5zZXJ0Jysob3BlcmF0b3JJbmRleCA/ICdCZWZvcmUnIDogJ0FmdGVyJyldID0gZnVuY3Rpb24oaHRtbCl7XG4gICAgICAkKGh0bWwpW29wZXJhdG9yXSh0aGlzKVxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gIH0pXG5cbiAgemVwdG8uWi5wcm90b3R5cGUgPSBaLnByb3RvdHlwZSA9ICQuZm5cblxuICAvLyBFeHBvcnQgaW50ZXJuYWwgQVBJIGZ1bmN0aW9ucyBpbiB0aGUgYCQuemVwdG9gIG5hbWVzcGFjZVxuICB6ZXB0by51bmlxID0gdW5pcVxuICB6ZXB0by5kZXNlcmlhbGl6ZVZhbHVlID0gZGVzZXJpYWxpemVWYWx1ZVxuICAkLnplcHRvID0gemVwdG9cblxuICByZXR1cm4gJFxufSkoKVxuXG53aW5kb3cuWmVwdG8gPSBaZXB0b1xud2luZG93LiQgPT09IHVuZGVmaW5lZCAmJiAod2luZG93LiQgPSBaZXB0bylcblxuOyhmdW5jdGlvbigkKXtcbiAgdmFyIF96aWQgPSAxLCB1bmRlZmluZWQsXG4gICAgICBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZSxcbiAgICAgIGlzRnVuY3Rpb24gPSAkLmlzRnVuY3Rpb24sXG4gICAgICBpc1N0cmluZyA9IGZ1bmN0aW9uKG9iail7IHJldHVybiB0eXBlb2Ygb2JqID09ICdzdHJpbmcnIH0sXG4gICAgICBoYW5kbGVycyA9IHt9LFxuICAgICAgc3BlY2lhbEV2ZW50cz17fSxcbiAgICAgIGZvY3VzaW5TdXBwb3J0ZWQgPSAnb25mb2N1c2luJyBpbiB3aW5kb3csXG4gICAgICBmb2N1cyA9IHsgZm9jdXM6ICdmb2N1c2luJywgYmx1cjogJ2ZvY3Vzb3V0JyB9LFxuICAgICAgaG92ZXIgPSB7IG1vdXNlZW50ZXI6ICdtb3VzZW92ZXInLCBtb3VzZWxlYXZlOiAnbW91c2VvdXQnIH1cblxuICBzcGVjaWFsRXZlbnRzLmNsaWNrID0gc3BlY2lhbEV2ZW50cy5tb3VzZWRvd24gPSBzcGVjaWFsRXZlbnRzLm1vdXNldXAgPSBzcGVjaWFsRXZlbnRzLm1vdXNlbW92ZSA9ICdNb3VzZUV2ZW50cydcblxuICBmdW5jdGlvbiB6aWQoZWxlbWVudCkge1xuICAgIHJldHVybiBlbGVtZW50Ll96aWQgfHwgKGVsZW1lbnQuX3ppZCA9IF96aWQrKylcbiAgfVxuICBmdW5jdGlvbiBmaW5kSGFuZGxlcnMoZWxlbWVudCwgZXZlbnQsIGZuLCBzZWxlY3Rvcikge1xuICAgIGV2ZW50ID0gcGFyc2UoZXZlbnQpXG4gICAgaWYgKGV2ZW50Lm5zKSB2YXIgbWF0Y2hlciA9IG1hdGNoZXJGb3IoZXZlbnQubnMpXG4gICAgcmV0dXJuIChoYW5kbGVyc1t6aWQoZWxlbWVudCldIHx8IFtdKS5maWx0ZXIoZnVuY3Rpb24oaGFuZGxlcikge1xuICAgICAgcmV0dXJuIGhhbmRsZXJcbiAgICAgICAgJiYgKCFldmVudC5lICB8fCBoYW5kbGVyLmUgPT0gZXZlbnQuZSlcbiAgICAgICAgJiYgKCFldmVudC5ucyB8fCBtYXRjaGVyLnRlc3QoaGFuZGxlci5ucykpXG4gICAgICAgICYmICghZm4gICAgICAgfHwgemlkKGhhbmRsZXIuZm4pID09PSB6aWQoZm4pKVxuICAgICAgICAmJiAoIXNlbGVjdG9yIHx8IGhhbmRsZXIuc2VsID09IHNlbGVjdG9yKVxuICAgIH0pXG4gIH1cbiAgZnVuY3Rpb24gcGFyc2UoZXZlbnQpIHtcbiAgICB2YXIgcGFydHMgPSAoJycgKyBldmVudCkuc3BsaXQoJy4nKVxuICAgIHJldHVybiB7ZTogcGFydHNbMF0sIG5zOiBwYXJ0cy5zbGljZSgxKS5zb3J0KCkuam9pbignICcpfVxuICB9XG4gIGZ1bmN0aW9uIG1hdGNoZXJGb3IobnMpIHtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cCgnKD86XnwgKScgKyBucy5yZXBsYWNlKCcgJywgJyAuKiA/JykgKyAnKD86IHwkKScpXG4gIH1cblxuICBmdW5jdGlvbiBldmVudENhcHR1cmUoaGFuZGxlciwgY2FwdHVyZVNldHRpbmcpIHtcbiAgICByZXR1cm4gaGFuZGxlci5kZWwgJiZcbiAgICAgICghZm9jdXNpblN1cHBvcnRlZCAmJiAoaGFuZGxlci5lIGluIGZvY3VzKSkgfHxcbiAgICAgICEhY2FwdHVyZVNldHRpbmdcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWxFdmVudCh0eXBlKSB7XG4gICAgcmV0dXJuIGhvdmVyW3R5cGVdIHx8IChmb2N1c2luU3VwcG9ydGVkICYmIGZvY3VzW3R5cGVdKSB8fCB0eXBlXG4gIH1cblxuICBmdW5jdGlvbiBhZGQoZWxlbWVudCwgZXZlbnRzLCBmbiwgZGF0YSwgc2VsZWN0b3IsIGRlbGVnYXRvciwgY2FwdHVyZSl7XG4gICAgdmFyIGlkID0gemlkKGVsZW1lbnQpLCBzZXQgPSAoaGFuZGxlcnNbaWRdIHx8IChoYW5kbGVyc1tpZF0gPSBbXSkpXG4gICAgZXZlbnRzLnNwbGl0KC9cXHMvKS5mb3JFYWNoKGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgIGlmIChldmVudCA9PSAncmVhZHknKSByZXR1cm4gJChkb2N1bWVudCkucmVhZHkoZm4pXG4gICAgICB2YXIgaGFuZGxlciAgID0gcGFyc2UoZXZlbnQpXG4gICAgICBoYW5kbGVyLmZuICAgID0gZm5cbiAgICAgIGhhbmRsZXIuc2VsICAgPSBzZWxlY3RvclxuICAgICAgLy8gZW11bGF0ZSBtb3VzZWVudGVyLCBtb3VzZWxlYXZlXG4gICAgICBpZiAoaGFuZGxlci5lIGluIGhvdmVyKSBmbiA9IGZ1bmN0aW9uKGUpe1xuICAgICAgICB2YXIgcmVsYXRlZCA9IGUucmVsYXRlZFRhcmdldFxuICAgICAgICBpZiAoIXJlbGF0ZWQgfHwgKHJlbGF0ZWQgIT09IHRoaXMgJiYgISQuY29udGFpbnModGhpcywgcmVsYXRlZCkpKVxuICAgICAgICAgIHJldHVybiBoYW5kbGVyLmZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICAgIH1cbiAgICAgIGhhbmRsZXIuZGVsICAgPSBkZWxlZ2F0b3JcbiAgICAgIHZhciBjYWxsYmFjayAgPSBkZWxlZ2F0b3IgfHwgZm5cbiAgICAgIGhhbmRsZXIucHJveHkgPSBmdW5jdGlvbihlKXtcbiAgICAgICAgZSA9IGNvbXBhdGlibGUoZSlcbiAgICAgICAgaWYgKGUuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSkgcmV0dXJuXG4gICAgICAgIGUuZGF0YSA9IGRhdGFcbiAgICAgICAgdmFyIHJlc3VsdCA9IGNhbGxiYWNrLmFwcGx5KGVsZW1lbnQsIGUuX2FyZ3MgPT0gdW5kZWZpbmVkID8gW2VdIDogW2VdLmNvbmNhdChlLl9hcmdzKSlcbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gZmFsc2UpIGUucHJldmVudERlZmF1bHQoKSwgZS5zdG9wUHJvcGFnYXRpb24oKVxuICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgICB9XG4gICAgICBoYW5kbGVyLmkgPSBzZXQubGVuZ3RoXG4gICAgICBzZXQucHVzaChoYW5kbGVyKVxuICAgICAgaWYgKCdhZGRFdmVudExpc3RlbmVyJyBpbiBlbGVtZW50KVxuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIocmVhbEV2ZW50KGhhbmRsZXIuZSksIGhhbmRsZXIucHJveHksIGV2ZW50Q2FwdHVyZShoYW5kbGVyLCBjYXB0dXJlKSlcbiAgICB9KVxuICB9XG4gIGZ1bmN0aW9uIHJlbW92ZShlbGVtZW50LCBldmVudHMsIGZuLCBzZWxlY3RvciwgY2FwdHVyZSl7XG4gICAgdmFyIGlkID0gemlkKGVsZW1lbnQpXG4gICAgOyhldmVudHMgfHwgJycpLnNwbGl0KC9cXHMvKS5mb3JFYWNoKGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgIGZpbmRIYW5kbGVycyhlbGVtZW50LCBldmVudCwgZm4sIHNlbGVjdG9yKS5mb3JFYWNoKGZ1bmN0aW9uKGhhbmRsZXIpe1xuICAgICAgICBkZWxldGUgaGFuZGxlcnNbaWRdW2hhbmRsZXIuaV1cbiAgICAgIGlmICgncmVtb3ZlRXZlbnRMaXN0ZW5lcicgaW4gZWxlbWVudClcbiAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHJlYWxFdmVudChoYW5kbGVyLmUpLCBoYW5kbGVyLnByb3h5LCBldmVudENhcHR1cmUoaGFuZGxlciwgY2FwdHVyZSkpXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICAkLmV2ZW50ID0geyBhZGQ6IGFkZCwgcmVtb3ZlOiByZW1vdmUgfVxuXG4gICQucHJveHkgPSBmdW5jdGlvbihmbiwgY29udGV4dCkge1xuICAgIHZhciBhcmdzID0gKDIgaW4gYXJndW1lbnRzKSAmJiBzbGljZS5jYWxsKGFyZ3VtZW50cywgMilcbiAgICBpZiAoaXNGdW5jdGlvbihmbikpIHtcbiAgICAgIHZhciBwcm94eUZuID0gZnVuY3Rpb24oKXsgcmV0dXJuIGZuLmFwcGx5KGNvbnRleHQsIGFyZ3MgPyBhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpIDogYXJndW1lbnRzKSB9XG4gICAgICBwcm94eUZuLl96aWQgPSB6aWQoZm4pXG4gICAgICByZXR1cm4gcHJveHlGblxuICAgIH0gZWxzZSBpZiAoaXNTdHJpbmcoY29udGV4dCkpIHtcbiAgICAgIGlmIChhcmdzKSB7XG4gICAgICAgIGFyZ3MudW5zaGlmdChmbltjb250ZXh0XSwgZm4pXG4gICAgICAgIHJldHVybiAkLnByb3h5LmFwcGx5KG51bGwsIGFyZ3MpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJC5wcm94eShmbltjb250ZXh0XSwgZm4pXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJleHBlY3RlZCBmdW5jdGlvblwiKVxuICAgIH1cbiAgfVxuXG4gICQuZm4uYmluZCA9IGZ1bmN0aW9uKGV2ZW50LCBkYXRhLCBjYWxsYmFjayl7XG4gICAgcmV0dXJuIHRoaXMub24oZXZlbnQsIGRhdGEsIGNhbGxiYWNrKVxuICB9XG4gICQuZm4udW5iaW5kID0gZnVuY3Rpb24oZXZlbnQsIGNhbGxiYWNrKXtcbiAgICByZXR1cm4gdGhpcy5vZmYoZXZlbnQsIGNhbGxiYWNrKVxuICB9XG4gICQuZm4ub25lID0gZnVuY3Rpb24oZXZlbnQsIHNlbGVjdG9yLCBkYXRhLCBjYWxsYmFjayl7XG4gICAgcmV0dXJuIHRoaXMub24oZXZlbnQsIHNlbGVjdG9yLCBkYXRhLCBjYWxsYmFjaywgMSlcbiAgfVxuXG4gIHZhciByZXR1cm5UcnVlID0gZnVuY3Rpb24oKXtyZXR1cm4gdHJ1ZX0sXG4gICAgICByZXR1cm5GYWxzZSA9IGZ1bmN0aW9uKCl7cmV0dXJuIGZhbHNlfSxcbiAgICAgIGlnbm9yZVByb3BlcnRpZXMgPSAvXihbQS1aXXxyZXR1cm5WYWx1ZSR8bGF5ZXJbWFldJHx3ZWJraXRNb3ZlbWVudFtYWV0kKS8sXG4gICAgICBldmVudE1ldGhvZHMgPSB7XG4gICAgICAgIHByZXZlbnREZWZhdWx0OiAnaXNEZWZhdWx0UHJldmVudGVkJyxcbiAgICAgICAgc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOiAnaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQnLFxuICAgICAgICBzdG9wUHJvcGFnYXRpb246ICdpc1Byb3BhZ2F0aW9uU3RvcHBlZCdcbiAgICAgIH1cblxuICBmdW5jdGlvbiBjb21wYXRpYmxlKGV2ZW50LCBzb3VyY2UpIHtcbiAgICBpZiAoc291cmNlIHx8ICFldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgIHNvdXJjZSB8fCAoc291cmNlID0gZXZlbnQpXG5cbiAgICAgICQuZWFjaChldmVudE1ldGhvZHMsIGZ1bmN0aW9uKG5hbWUsIHByZWRpY2F0ZSkge1xuICAgICAgICB2YXIgc291cmNlTWV0aG9kID0gc291cmNlW25hbWVdXG4gICAgICAgIGV2ZW50W25hbWVdID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICB0aGlzW3ByZWRpY2F0ZV0gPSByZXR1cm5UcnVlXG4gICAgICAgICAgcmV0dXJuIHNvdXJjZU1ldGhvZCAmJiBzb3VyY2VNZXRob2QuYXBwbHkoc291cmNlLCBhcmd1bWVudHMpXG4gICAgICAgIH1cbiAgICAgICAgZXZlbnRbcHJlZGljYXRlXSA9IHJldHVybkZhbHNlXG4gICAgICB9KVxuXG4gICAgICBldmVudC50aW1lU3RhbXAgfHwgKGV2ZW50LnRpbWVTdGFtcCA9IERhdGUubm93KCkpXG5cbiAgICAgIGlmIChzb3VyY2UuZGVmYXVsdFByZXZlbnRlZCAhPT0gdW5kZWZpbmVkID8gc291cmNlLmRlZmF1bHRQcmV2ZW50ZWQgOlxuICAgICAgICAgICdyZXR1cm5WYWx1ZScgaW4gc291cmNlID8gc291cmNlLnJldHVyblZhbHVlID09PSBmYWxzZSA6XG4gICAgICAgICAgc291cmNlLmdldFByZXZlbnREZWZhdWx0ICYmIHNvdXJjZS5nZXRQcmV2ZW50RGVmYXVsdCgpKVxuICAgICAgICBldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQgPSByZXR1cm5UcnVlXG4gICAgfVxuICAgIHJldHVybiBldmVudFxuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlUHJveHkoZXZlbnQpIHtcbiAgICB2YXIga2V5LCBwcm94eSA9IHsgb3JpZ2luYWxFdmVudDogZXZlbnQgfVxuICAgIGZvciAoa2V5IGluIGV2ZW50KVxuICAgICAgaWYgKCFpZ25vcmVQcm9wZXJ0aWVzLnRlc3Qoa2V5KSAmJiBldmVudFtrZXldICE9PSB1bmRlZmluZWQpIHByb3h5W2tleV0gPSBldmVudFtrZXldXG5cbiAgICByZXR1cm4gY29tcGF0aWJsZShwcm94eSwgZXZlbnQpXG4gIH1cblxuICAkLmZuLmRlbGVnYXRlID0gZnVuY3Rpb24oc2VsZWN0b3IsIGV2ZW50LCBjYWxsYmFjayl7XG4gICAgcmV0dXJuIHRoaXMub24oZXZlbnQsIHNlbGVjdG9yLCBjYWxsYmFjaylcbiAgfVxuICAkLmZuLnVuZGVsZWdhdGUgPSBmdW5jdGlvbihzZWxlY3RvciwgZXZlbnQsIGNhbGxiYWNrKXtcbiAgICByZXR1cm4gdGhpcy5vZmYoZXZlbnQsIHNlbGVjdG9yLCBjYWxsYmFjaylcbiAgfVxuXG4gICQuZm4ubGl2ZSA9IGZ1bmN0aW9uKGV2ZW50LCBjYWxsYmFjayl7XG4gICAgJChkb2N1bWVudC5ib2R5KS5kZWxlZ2F0ZSh0aGlzLnNlbGVjdG9yLCBldmVudCwgY2FsbGJhY2spXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuICAkLmZuLmRpZSA9IGZ1bmN0aW9uKGV2ZW50LCBjYWxsYmFjayl7XG4gICAgJChkb2N1bWVudC5ib2R5KS51bmRlbGVnYXRlKHRoaXMuc2VsZWN0b3IsIGV2ZW50LCBjYWxsYmFjaylcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgJC5mbi5vbiA9IGZ1bmN0aW9uKGV2ZW50LCBzZWxlY3RvciwgZGF0YSwgY2FsbGJhY2ssIG9uZSl7XG4gICAgdmFyIGF1dG9SZW1vdmUsIGRlbGVnYXRvciwgJHRoaXMgPSB0aGlzXG4gICAgaWYgKGV2ZW50ICYmICFpc1N0cmluZyhldmVudCkpIHtcbiAgICAgICQuZWFjaChldmVudCwgZnVuY3Rpb24odHlwZSwgZm4pe1xuICAgICAgICAkdGhpcy5vbih0eXBlLCBzZWxlY3RvciwgZGF0YSwgZm4sIG9uZSlcbiAgICAgIH0pXG4gICAgICByZXR1cm4gJHRoaXNcbiAgICB9XG5cbiAgICBpZiAoIWlzU3RyaW5nKHNlbGVjdG9yKSAmJiAhaXNGdW5jdGlvbihjYWxsYmFjaykgJiYgY2FsbGJhY2sgIT09IGZhbHNlKVxuICAgICAgY2FsbGJhY2sgPSBkYXRhLCBkYXRhID0gc2VsZWN0b3IsIHNlbGVjdG9yID0gdW5kZWZpbmVkXG4gICAgaWYgKGNhbGxiYWNrID09PSB1bmRlZmluZWQgfHwgZGF0YSA9PT0gZmFsc2UpXG4gICAgICBjYWxsYmFjayA9IGRhdGEsIGRhdGEgPSB1bmRlZmluZWRcblxuICAgIGlmIChjYWxsYmFjayA9PT0gZmFsc2UpIGNhbGxiYWNrID0gcmV0dXJuRmFsc2VcblxuICAgIHJldHVybiAkdGhpcy5lYWNoKGZ1bmN0aW9uKF8sIGVsZW1lbnQpe1xuICAgICAgaWYgKG9uZSkgYXV0b1JlbW92ZSA9IGZ1bmN0aW9uKGUpe1xuICAgICAgICByZW1vdmUoZWxlbWVudCwgZS50eXBlLCBjYWxsYmFjaylcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICAgIH1cblxuICAgICAgaWYgKHNlbGVjdG9yKSBkZWxlZ2F0b3IgPSBmdW5jdGlvbihlKXtcbiAgICAgICAgdmFyIGV2dCwgbWF0Y2ggPSAkKGUudGFyZ2V0KS5jbG9zZXN0KHNlbGVjdG9yLCBlbGVtZW50KS5nZXQoMClcbiAgICAgICAgaWYgKG1hdGNoICYmIG1hdGNoICE9PSBlbGVtZW50KSB7XG4gICAgICAgICAgZXZ0ID0gJC5leHRlbmQoY3JlYXRlUHJveHkoZSksIHtjdXJyZW50VGFyZ2V0OiBtYXRjaCwgbGl2ZUZpcmVkOiBlbGVtZW50fSlcbiAgICAgICAgICByZXR1cm4gKGF1dG9SZW1vdmUgfHwgY2FsbGJhY2spLmFwcGx5KG1hdGNoLCBbZXZ0XS5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKSlcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBhZGQoZWxlbWVudCwgZXZlbnQsIGNhbGxiYWNrLCBkYXRhLCBzZWxlY3RvciwgZGVsZWdhdG9yIHx8IGF1dG9SZW1vdmUpXG4gICAgfSlcbiAgfVxuICAkLmZuLm9mZiA9IGZ1bmN0aW9uKGV2ZW50LCBzZWxlY3RvciwgY2FsbGJhY2spe1xuICAgIHZhciAkdGhpcyA9IHRoaXNcbiAgICBpZiAoZXZlbnQgJiYgIWlzU3RyaW5nKGV2ZW50KSkge1xuICAgICAgJC5lYWNoKGV2ZW50LCBmdW5jdGlvbih0eXBlLCBmbil7XG4gICAgICAgICR0aGlzLm9mZih0eXBlLCBzZWxlY3RvciwgZm4pXG4gICAgICB9KVxuICAgICAgcmV0dXJuICR0aGlzXG4gICAgfVxuXG4gICAgaWYgKCFpc1N0cmluZyhzZWxlY3RvcikgJiYgIWlzRnVuY3Rpb24oY2FsbGJhY2spICYmIGNhbGxiYWNrICE9PSBmYWxzZSlcbiAgICAgIGNhbGxiYWNrID0gc2VsZWN0b3IsIHNlbGVjdG9yID0gdW5kZWZpbmVkXG5cbiAgICBpZiAoY2FsbGJhY2sgPT09IGZhbHNlKSBjYWxsYmFjayA9IHJldHVybkZhbHNlXG5cbiAgICByZXR1cm4gJHRoaXMuZWFjaChmdW5jdGlvbigpe1xuICAgICAgcmVtb3ZlKHRoaXMsIGV2ZW50LCBjYWxsYmFjaywgc2VsZWN0b3IpXG4gICAgfSlcbiAgfVxuXG4gICQuZm4udHJpZ2dlciA9IGZ1bmN0aW9uKGV2ZW50LCBhcmdzKXtcbiAgICBldmVudCA9IChpc1N0cmluZyhldmVudCkgfHwgJC5pc1BsYWluT2JqZWN0KGV2ZW50KSkgPyAkLkV2ZW50KGV2ZW50KSA6IGNvbXBhdGlibGUoZXZlbnQpXG4gICAgZXZlbnQuX2FyZ3MgPSBhcmdzXG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe1xuICAgICAgLy8gaGFuZGxlIGZvY3VzKCksIGJsdXIoKSBieSBjYWxsaW5nIHRoZW0gZGlyZWN0bHlcbiAgICAgIGlmIChldmVudC50eXBlIGluIGZvY3VzICYmIHR5cGVvZiB0aGlzW2V2ZW50LnR5cGVdID09IFwiZnVuY3Rpb25cIikgdGhpc1tldmVudC50eXBlXSgpXG4gICAgICAvLyBpdGVtcyBpbiB0aGUgY29sbGVjdGlvbiBtaWdodCBub3QgYmUgRE9NIGVsZW1lbnRzXG4gICAgICBlbHNlIGlmICgnZGlzcGF0Y2hFdmVudCcgaW4gdGhpcykgdGhpcy5kaXNwYXRjaEV2ZW50KGV2ZW50KVxuICAgICAgZWxzZSAkKHRoaXMpLnRyaWdnZXJIYW5kbGVyKGV2ZW50LCBhcmdzKVxuICAgIH0pXG4gIH1cblxuICAvLyB0cmlnZ2VycyBldmVudCBoYW5kbGVycyBvbiBjdXJyZW50IGVsZW1lbnQganVzdCBhcyBpZiBhbiBldmVudCBvY2N1cnJlZCxcbiAgLy8gZG9lc24ndCB0cmlnZ2VyIGFuIGFjdHVhbCBldmVudCwgZG9lc24ndCBidWJibGVcbiAgJC5mbi50cmlnZ2VySGFuZGxlciA9IGZ1bmN0aW9uKGV2ZW50LCBhcmdzKXtcbiAgICB2YXIgZSwgcmVzdWx0XG4gICAgdGhpcy5lYWNoKGZ1bmN0aW9uKGksIGVsZW1lbnQpe1xuICAgICAgZSA9IGNyZWF0ZVByb3h5KGlzU3RyaW5nKGV2ZW50KSA/ICQuRXZlbnQoZXZlbnQpIDogZXZlbnQpXG4gICAgICBlLl9hcmdzID0gYXJnc1xuICAgICAgZS50YXJnZXQgPSBlbGVtZW50XG4gICAgICAkLmVhY2goZmluZEhhbmRsZXJzKGVsZW1lbnQsIGV2ZW50LnR5cGUgfHwgZXZlbnQpLCBmdW5jdGlvbihpLCBoYW5kbGVyKXtcbiAgICAgICAgcmVzdWx0ID0gaGFuZGxlci5wcm94eShlKVxuICAgICAgICBpZiAoZS5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKSByZXR1cm4gZmFsc2VcbiAgICAgIH0pXG4gICAgfSlcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICAvLyBzaG9ydGN1dCBtZXRob2RzIGZvciBgLmJpbmQoZXZlbnQsIGZuKWAgZm9yIGVhY2ggZXZlbnQgdHlwZVxuICA7KCdmb2N1c2luIGZvY3Vzb3V0IGZvY3VzIGJsdXIgbG9hZCByZXNpemUgc2Nyb2xsIHVubG9hZCBjbGljayBkYmxjbGljayAnK1xuICAnbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgJytcbiAgJ2NoYW5nZSBzZWxlY3Qga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBlcnJvcicpLnNwbGl0KCcgJykuZm9yRWFjaChmdW5jdGlvbihldmVudCkge1xuICAgICQuZm5bZXZlbnRdID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiAoMCBpbiBhcmd1bWVudHMpID9cbiAgICAgICAgdGhpcy5iaW5kKGV2ZW50LCBjYWxsYmFjaykgOlxuICAgICAgICB0aGlzLnRyaWdnZXIoZXZlbnQpXG4gICAgfVxuICB9KVxuXG4gICQuRXZlbnQgPSBmdW5jdGlvbih0eXBlLCBwcm9wcykge1xuICAgIGlmICghaXNTdHJpbmcodHlwZSkpIHByb3BzID0gdHlwZSwgdHlwZSA9IHByb3BzLnR5cGVcbiAgICB2YXIgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudChzcGVjaWFsRXZlbnRzW3R5cGVdIHx8ICdFdmVudHMnKSwgYnViYmxlcyA9IHRydWVcbiAgICBpZiAocHJvcHMpIGZvciAodmFyIG5hbWUgaW4gcHJvcHMpIChuYW1lID09ICdidWJibGVzJykgPyAoYnViYmxlcyA9ICEhcHJvcHNbbmFtZV0pIDogKGV2ZW50W25hbWVdID0gcHJvcHNbbmFtZV0pXG4gICAgZXZlbnQuaW5pdEV2ZW50KHR5cGUsIGJ1YmJsZXMsIHRydWUpXG4gICAgcmV0dXJuIGNvbXBhdGlibGUoZXZlbnQpXG4gIH1cblxufSkoWmVwdG8pXG5cbjsoZnVuY3Rpb24oJCl7XG4gIHZhciBqc29ucElEID0gK25ldyBEYXRlKCksXG4gICAgICBkb2N1bWVudCA9IHdpbmRvdy5kb2N1bWVudCxcbiAgICAgIGtleSxcbiAgICAgIG5hbWUsXG4gICAgICByc2NyaXB0ID0gLzxzY3JpcHRcXGJbXjxdKig/Oig/ITxcXC9zY3JpcHQ+KTxbXjxdKikqPFxcL3NjcmlwdD4vZ2ksXG4gICAgICBzY3JpcHRUeXBlUkUgPSAvXig/OnRleHR8YXBwbGljYXRpb24pXFwvamF2YXNjcmlwdC9pLFxuICAgICAgeG1sVHlwZVJFID0gL14oPzp0ZXh0fGFwcGxpY2F0aW9uKVxcL3htbC9pLFxuICAgICAganNvblR5cGUgPSAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICBodG1sVHlwZSA9ICd0ZXh0L2h0bWwnLFxuICAgICAgYmxhbmtSRSA9IC9eXFxzKiQvLFxuICAgICAgb3JpZ2luQW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpXG5cbiAgb3JpZ2luQW5jaG9yLmhyZWYgPSB3aW5kb3cubG9jYXRpb24uaHJlZlxuXG4gIC8vIHRyaWdnZXIgYSBjdXN0b20gZXZlbnQgYW5kIHJldHVybiBmYWxzZSBpZiBpdCB3YXMgY2FuY2VsbGVkXG4gIGZ1bmN0aW9uIHRyaWdnZXJBbmRSZXR1cm4oY29udGV4dCwgZXZlbnROYW1lLCBkYXRhKSB7XG4gICAgdmFyIGV2ZW50ID0gJC5FdmVudChldmVudE5hbWUpXG4gICAgJChjb250ZXh0KS50cmlnZ2VyKGV2ZW50LCBkYXRhKVxuICAgIHJldHVybiAhZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKClcbiAgfVxuXG4gIC8vIHRyaWdnZXIgYW4gQWpheCBcImdsb2JhbFwiIGV2ZW50XG4gIGZ1bmN0aW9uIHRyaWdnZXJHbG9iYWwoc2V0dGluZ3MsIGNvbnRleHQsIGV2ZW50TmFtZSwgZGF0YSkge1xuICAgIGlmIChzZXR0aW5ncy5nbG9iYWwpIHJldHVybiB0cmlnZ2VyQW5kUmV0dXJuKGNvbnRleHQgfHwgZG9jdW1lbnQsIGV2ZW50TmFtZSwgZGF0YSlcbiAgfVxuXG4gIC8vIE51bWJlciBvZiBhY3RpdmUgQWpheCByZXF1ZXN0c1xuICAkLmFjdGl2ZSA9IDBcblxuICBmdW5jdGlvbiBhamF4U3RhcnQoc2V0dGluZ3MpIHtcbiAgICBpZiAoc2V0dGluZ3MuZ2xvYmFsICYmICQuYWN0aXZlKysgPT09IDApIHRyaWdnZXJHbG9iYWwoc2V0dGluZ3MsIG51bGwsICdhamF4U3RhcnQnKVxuICB9XG4gIGZ1bmN0aW9uIGFqYXhTdG9wKHNldHRpbmdzKSB7XG4gICAgaWYgKHNldHRpbmdzLmdsb2JhbCAmJiAhKC0tJC5hY3RpdmUpKSB0cmlnZ2VyR2xvYmFsKHNldHRpbmdzLCBudWxsLCAnYWpheFN0b3AnKVxuICB9XG5cbiAgLy8gdHJpZ2dlcnMgYW4gZXh0cmEgZ2xvYmFsIGV2ZW50IFwiYWpheEJlZm9yZVNlbmRcIiB0aGF0J3MgbGlrZSBcImFqYXhTZW5kXCIgYnV0IGNhbmNlbGFibGVcbiAgZnVuY3Rpb24gYWpheEJlZm9yZVNlbmQoeGhyLCBzZXR0aW5ncykge1xuICAgIHZhciBjb250ZXh0ID0gc2V0dGluZ3MuY29udGV4dFxuICAgIGlmIChzZXR0aW5ncy5iZWZvcmVTZW5kLmNhbGwoY29udGV4dCwgeGhyLCBzZXR0aW5ncykgPT09IGZhbHNlIHx8XG4gICAgICAgIHRyaWdnZXJHbG9iYWwoc2V0dGluZ3MsIGNvbnRleHQsICdhamF4QmVmb3JlU2VuZCcsIFt4aHIsIHNldHRpbmdzXSkgPT09IGZhbHNlKVxuICAgICAgcmV0dXJuIGZhbHNlXG5cbiAgICB0cmlnZ2VyR2xvYmFsKHNldHRpbmdzLCBjb250ZXh0LCAnYWpheFNlbmQnLCBbeGhyLCBzZXR0aW5nc10pXG4gIH1cbiAgZnVuY3Rpb24gYWpheFN1Y2Nlc3MoZGF0YSwgeGhyLCBzZXR0aW5ncywgZGVmZXJyZWQpIHtcbiAgICB2YXIgY29udGV4dCA9IHNldHRpbmdzLmNvbnRleHQsIHN0YXR1cyA9ICdzdWNjZXNzJ1xuICAgIHNldHRpbmdzLnN1Y2Nlc3MuY2FsbChjb250ZXh0LCBkYXRhLCBzdGF0dXMsIHhocilcbiAgICBpZiAoZGVmZXJyZWQpIGRlZmVycmVkLnJlc29sdmVXaXRoKGNvbnRleHQsIFtkYXRhLCBzdGF0dXMsIHhocl0pXG4gICAgdHJpZ2dlckdsb2JhbChzZXR0aW5ncywgY29udGV4dCwgJ2FqYXhTdWNjZXNzJywgW3hociwgc2V0dGluZ3MsIGRhdGFdKVxuICAgIGFqYXhDb21wbGV0ZShzdGF0dXMsIHhociwgc2V0dGluZ3MpXG4gIH1cbiAgLy8gdHlwZTogXCJ0aW1lb3V0XCIsIFwiZXJyb3JcIiwgXCJhYm9ydFwiLCBcInBhcnNlcmVycm9yXCJcbiAgZnVuY3Rpb24gYWpheEVycm9yKGVycm9yLCB0eXBlLCB4aHIsIHNldHRpbmdzLCBkZWZlcnJlZCkge1xuICAgIHZhciBjb250ZXh0ID0gc2V0dGluZ3MuY29udGV4dFxuICAgIHNldHRpbmdzLmVycm9yLmNhbGwoY29udGV4dCwgeGhyLCB0eXBlLCBlcnJvcilcbiAgICBpZiAoZGVmZXJyZWQpIGRlZmVycmVkLnJlamVjdFdpdGgoY29udGV4dCwgW3hociwgdHlwZSwgZXJyb3JdKVxuICAgIHRyaWdnZXJHbG9iYWwoc2V0dGluZ3MsIGNvbnRleHQsICdhamF4RXJyb3InLCBbeGhyLCBzZXR0aW5ncywgZXJyb3IgfHwgdHlwZV0pXG4gICAgYWpheENvbXBsZXRlKHR5cGUsIHhociwgc2V0dGluZ3MpXG4gIH1cbiAgLy8gc3RhdHVzOiBcInN1Y2Nlc3NcIiwgXCJub3Rtb2RpZmllZFwiLCBcImVycm9yXCIsIFwidGltZW91dFwiLCBcImFib3J0XCIsIFwicGFyc2VyZXJyb3JcIlxuICBmdW5jdGlvbiBhamF4Q29tcGxldGUoc3RhdHVzLCB4aHIsIHNldHRpbmdzKSB7XG4gICAgdmFyIGNvbnRleHQgPSBzZXR0aW5ncy5jb250ZXh0XG4gICAgc2V0dGluZ3MuY29tcGxldGUuY2FsbChjb250ZXh0LCB4aHIsIHN0YXR1cylcbiAgICB0cmlnZ2VyR2xvYmFsKHNldHRpbmdzLCBjb250ZXh0LCAnYWpheENvbXBsZXRlJywgW3hociwgc2V0dGluZ3NdKVxuICAgIGFqYXhTdG9wKHNldHRpbmdzKVxuICB9XG5cbiAgZnVuY3Rpb24gYWpheERhdGFGaWx0ZXIoZGF0YSwgdHlwZSwgc2V0dGluZ3MpIHtcbiAgICBpZiAoc2V0dGluZ3MuZGF0YUZpbHRlciA9PSBlbXB0eSkgcmV0dXJuIGRhdGFcbiAgICB2YXIgY29udGV4dCA9IHNldHRpbmdzLmNvbnRleHRcbiAgICByZXR1cm4gc2V0dGluZ3MuZGF0YUZpbHRlci5jYWxsKGNvbnRleHQsIGRhdGEsIHR5cGUpXG4gIH1cblxuICAvLyBFbXB0eSBmdW5jdGlvbiwgdXNlZCBhcyBkZWZhdWx0IGNhbGxiYWNrXG4gIGZ1bmN0aW9uIGVtcHR5KCkge31cblxuICAkLmFqYXhKU09OUCA9IGZ1bmN0aW9uKG9wdGlvbnMsIGRlZmVycmVkKXtcbiAgICBpZiAoISgndHlwZScgaW4gb3B0aW9ucykpIHJldHVybiAkLmFqYXgob3B0aW9ucylcblxuICAgIHZhciBfY2FsbGJhY2tOYW1lID0gb3B0aW9ucy5qc29ucENhbGxiYWNrLFxuICAgICAgY2FsbGJhY2tOYW1lID0gKCQuaXNGdW5jdGlvbihfY2FsbGJhY2tOYW1lKSA/XG4gICAgICAgIF9jYWxsYmFja05hbWUoKSA6IF9jYWxsYmFja05hbWUpIHx8ICgnWmVwdG8nICsgKGpzb25wSUQrKykpLFxuICAgICAgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0JyksXG4gICAgICBvcmlnaW5hbENhbGxiYWNrID0gd2luZG93W2NhbGxiYWNrTmFtZV0sXG4gICAgICByZXNwb25zZURhdGEsXG4gICAgICBhYm9ydCA9IGZ1bmN0aW9uKGVycm9yVHlwZSkge1xuICAgICAgICAkKHNjcmlwdCkudHJpZ2dlckhhbmRsZXIoJ2Vycm9yJywgZXJyb3JUeXBlIHx8ICdhYm9ydCcpXG4gICAgICB9LFxuICAgICAgeGhyID0geyBhYm9ydDogYWJvcnQgfSwgYWJvcnRUaW1lb3V0XG5cbiAgICBpZiAoZGVmZXJyZWQpIGRlZmVycmVkLnByb21pc2UoeGhyKVxuXG4gICAgJChzY3JpcHQpLm9uKCdsb2FkIGVycm9yJywgZnVuY3Rpb24oZSwgZXJyb3JUeXBlKXtcbiAgICAgIGNsZWFyVGltZW91dChhYm9ydFRpbWVvdXQpXG4gICAgICAkKHNjcmlwdCkub2ZmKCkucmVtb3ZlKClcblxuICAgICAgaWYgKGUudHlwZSA9PSAnZXJyb3InIHx8ICFyZXNwb25zZURhdGEpIHtcbiAgICAgICAgYWpheEVycm9yKG51bGwsIGVycm9yVHlwZSB8fCAnZXJyb3InLCB4aHIsIG9wdGlvbnMsIGRlZmVycmVkKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWpheFN1Y2Nlc3MocmVzcG9uc2VEYXRhWzBdLCB4aHIsIG9wdGlvbnMsIGRlZmVycmVkKVxuICAgICAgfVxuXG4gICAgICB3aW5kb3dbY2FsbGJhY2tOYW1lXSA9IG9yaWdpbmFsQ2FsbGJhY2tcbiAgICAgIGlmIChyZXNwb25zZURhdGEgJiYgJC5pc0Z1bmN0aW9uKG9yaWdpbmFsQ2FsbGJhY2spKVxuICAgICAgICBvcmlnaW5hbENhbGxiYWNrKHJlc3BvbnNlRGF0YVswXSlcblxuICAgICAgb3JpZ2luYWxDYWxsYmFjayA9IHJlc3BvbnNlRGF0YSA9IHVuZGVmaW5lZFxuICAgIH0pXG5cbiAgICBpZiAoYWpheEJlZm9yZVNlbmQoeGhyLCBvcHRpb25zKSA9PT0gZmFsc2UpIHtcbiAgICAgIGFib3J0KCdhYm9ydCcpXG4gICAgICByZXR1cm4geGhyXG4gICAgfVxuXG4gICAgd2luZG93W2NhbGxiYWNrTmFtZV0gPSBmdW5jdGlvbigpe1xuICAgICAgcmVzcG9uc2VEYXRhID0gYXJndW1lbnRzXG4gICAgfVxuXG4gICAgc2NyaXB0LnNyYyA9IG9wdGlvbnMudXJsLnJlcGxhY2UoL1xcPyguKyk9XFw/LywgJz8kMT0nICsgY2FsbGJhY2tOYW1lKVxuICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KVxuXG4gICAgaWYgKG9wdGlvbnMudGltZW91dCA+IDApIGFib3J0VGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgIGFib3J0KCd0aW1lb3V0JylcbiAgICB9LCBvcHRpb25zLnRpbWVvdXQpXG5cbiAgICByZXR1cm4geGhyXG4gIH1cblxuICAkLmFqYXhTZXR0aW5ncyA9IHtcbiAgICAvLyBEZWZhdWx0IHR5cGUgb2YgcmVxdWVzdFxuICAgIHR5cGU6ICdHRVQnLFxuICAgIC8vIENhbGxiYWNrIHRoYXQgaXMgZXhlY3V0ZWQgYmVmb3JlIHJlcXVlc3RcbiAgICBiZWZvcmVTZW5kOiBlbXB0eSxcbiAgICAvLyBDYWxsYmFjayB0aGF0IGlzIGV4ZWN1dGVkIGlmIHRoZSByZXF1ZXN0IHN1Y2NlZWRzXG4gICAgc3VjY2VzczogZW1wdHksXG4gICAgLy8gQ2FsbGJhY2sgdGhhdCBpcyBleGVjdXRlZCB0aGUgdGhlIHNlcnZlciBkcm9wcyBlcnJvclxuICAgIGVycm9yOiBlbXB0eSxcbiAgICAvLyBDYWxsYmFjayB0aGF0IGlzIGV4ZWN1dGVkIG9uIHJlcXVlc3QgY29tcGxldGUgKGJvdGg6IGVycm9yIGFuZCBzdWNjZXNzKVxuICAgIGNvbXBsZXRlOiBlbXB0eSxcbiAgICAvLyBUaGUgY29udGV4dCBmb3IgdGhlIGNhbGxiYWNrc1xuICAgIGNvbnRleHQ6IG51bGwsXG4gICAgLy8gV2hldGhlciB0byB0cmlnZ2VyIFwiZ2xvYmFsXCIgQWpheCBldmVudHNcbiAgICBnbG9iYWw6IHRydWUsXG4gICAgLy8gVHJhbnNwb3J0XG4gICAgeGhyOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCgpXG4gICAgfSxcbiAgICAvLyBNSU1FIHR5cGVzIG1hcHBpbmdcbiAgICAvLyBJSVMgcmV0dXJucyBKYXZhc2NyaXB0IGFzIFwiYXBwbGljYXRpb24veC1qYXZhc2NyaXB0XCJcbiAgICBhY2NlcHRzOiB7XG4gICAgICBzY3JpcHQ6ICd0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtamF2YXNjcmlwdCcsXG4gICAgICBqc29uOiAgIGpzb25UeXBlLFxuICAgICAgeG1sOiAgICAnYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbCcsXG4gICAgICBodG1sOiAgIGh0bWxUeXBlLFxuICAgICAgdGV4dDogICAndGV4dC9wbGFpbidcbiAgICB9LFxuICAgIC8vIFdoZXRoZXIgdGhlIHJlcXVlc3QgaXMgdG8gYW5vdGhlciBkb21haW5cbiAgICBjcm9zc0RvbWFpbjogZmFsc2UsXG4gICAgLy8gRGVmYXVsdCB0aW1lb3V0XG4gICAgdGltZW91dDogMCxcbiAgICAvLyBXaGV0aGVyIGRhdGEgc2hvdWxkIGJlIHNlcmlhbGl6ZWQgdG8gc3RyaW5nXG4gICAgcHJvY2Vzc0RhdGE6IHRydWUsXG4gICAgLy8gV2hldGhlciB0aGUgYnJvd3NlciBzaG91bGQgYmUgYWxsb3dlZCB0byBjYWNoZSBHRVQgcmVzcG9uc2VzXG4gICAgY2FjaGU6IHRydWUsXG4gICAgLy9Vc2VkIHRvIGhhbmRsZSB0aGUgcmF3IHJlc3BvbnNlIGRhdGEgb2YgWE1MSHR0cFJlcXVlc3QuXG4gICAgLy9UaGlzIGlzIGEgcHJlLWZpbHRlcmluZyBmdW5jdGlvbiB0byBzYW5pdGl6ZSB0aGUgcmVzcG9uc2UuXG4gICAgLy9UaGUgc2FuaXRpemVkIHJlc3BvbnNlIHNob3VsZCBiZSByZXR1cm5lZFxuICAgIGRhdGFGaWx0ZXI6IGVtcHR5XG4gIH1cblxuICBmdW5jdGlvbiBtaW1lVG9EYXRhVHlwZShtaW1lKSB7XG4gICAgaWYgKG1pbWUpIG1pbWUgPSBtaW1lLnNwbGl0KCc7JywgMilbMF1cbiAgICByZXR1cm4gbWltZSAmJiAoIG1pbWUgPT0gaHRtbFR5cGUgPyAnaHRtbCcgOlxuICAgICAgbWltZSA9PSBqc29uVHlwZSA/ICdqc29uJyA6XG4gICAgICBzY3JpcHRUeXBlUkUudGVzdChtaW1lKSA/ICdzY3JpcHQnIDpcbiAgICAgIHhtbFR5cGVSRS50ZXN0KG1pbWUpICYmICd4bWwnICkgfHwgJ3RleHQnXG4gIH1cblxuICBmdW5jdGlvbiBhcHBlbmRRdWVyeSh1cmwsIHF1ZXJ5KSB7XG4gICAgaWYgKHF1ZXJ5ID09ICcnKSByZXR1cm4gdXJsXG4gICAgcmV0dXJuICh1cmwgKyAnJicgKyBxdWVyeSkucmVwbGFjZSgvWyY/XXsxLDJ9LywgJz8nKVxuICB9XG5cbiAgLy8gc2VyaWFsaXplIHBheWxvYWQgYW5kIGFwcGVuZCBpdCB0byB0aGUgVVJMIGZvciBHRVQgcmVxdWVzdHNcbiAgZnVuY3Rpb24gc2VyaWFsaXplRGF0YShvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMucHJvY2Vzc0RhdGEgJiYgb3B0aW9ucy5kYXRhICYmICQudHlwZShvcHRpb25zLmRhdGEpICE9IFwic3RyaW5nXCIpXG4gICAgICBvcHRpb25zLmRhdGEgPSAkLnBhcmFtKG9wdGlvbnMuZGF0YSwgb3B0aW9ucy50cmFkaXRpb25hbClcbiAgICBpZiAob3B0aW9ucy5kYXRhICYmICghb3B0aW9ucy50eXBlIHx8IG9wdGlvbnMudHlwZS50b1VwcGVyQ2FzZSgpID09ICdHRVQnIHx8ICdqc29ucCcgPT0gb3B0aW9ucy5kYXRhVHlwZSkpXG4gICAgICBvcHRpb25zLnVybCA9IGFwcGVuZFF1ZXJ5KG9wdGlvbnMudXJsLCBvcHRpb25zLmRhdGEpLCBvcHRpb25zLmRhdGEgPSB1bmRlZmluZWRcbiAgfVxuXG4gICQuYWpheCA9IGZ1bmN0aW9uKG9wdGlvbnMpe1xuICAgIHZhciBzZXR0aW5ncyA9ICQuZXh0ZW5kKHt9LCBvcHRpb25zIHx8IHt9KSxcbiAgICAgICAgZGVmZXJyZWQgPSAkLkRlZmVycmVkICYmICQuRGVmZXJyZWQoKSxcbiAgICAgICAgdXJsQW5jaG9yLCBoYXNoSW5kZXhcbiAgICBmb3IgKGtleSBpbiAkLmFqYXhTZXR0aW5ncykgaWYgKHNldHRpbmdzW2tleV0gPT09IHVuZGVmaW5lZCkgc2V0dGluZ3Nba2V5XSA9ICQuYWpheFNldHRpbmdzW2tleV1cblxuICAgIGFqYXhTdGFydChzZXR0aW5ncylcblxuICAgIGlmICghc2V0dGluZ3MuY3Jvc3NEb21haW4pIHtcbiAgICAgIHVybEFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKVxuICAgICAgdXJsQW5jaG9yLmhyZWYgPSBzZXR0aW5ncy51cmxcbiAgICAgIC8vIGNsZWFucyB1cCBVUkwgZm9yIC5ocmVmIChJRSBvbmx5KSwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tYWRyb2JieS96ZXB0by9wdWxsLzEwNDlcbiAgICAgIHVybEFuY2hvci5ocmVmID0gdXJsQW5jaG9yLmhyZWZcbiAgICAgIHNldHRpbmdzLmNyb3NzRG9tYWluID0gKG9yaWdpbkFuY2hvci5wcm90b2NvbCArICcvLycgKyBvcmlnaW5BbmNob3IuaG9zdCkgIT09ICh1cmxBbmNob3IucHJvdG9jb2wgKyAnLy8nICsgdXJsQW5jaG9yLmhvc3QpXG4gICAgfVxuXG4gICAgaWYgKCFzZXR0aW5ncy51cmwpIHNldHRpbmdzLnVybCA9IHdpbmRvdy5sb2NhdGlvbi50b1N0cmluZygpXG4gICAgaWYgKChoYXNoSW5kZXggPSBzZXR0aW5ncy51cmwuaW5kZXhPZignIycpKSA+IC0xKSBzZXR0aW5ncy51cmwgPSBzZXR0aW5ncy51cmwuc2xpY2UoMCwgaGFzaEluZGV4KVxuICAgIHNlcmlhbGl6ZURhdGEoc2V0dGluZ3MpXG5cbiAgICB2YXIgZGF0YVR5cGUgPSBzZXR0aW5ncy5kYXRhVHlwZSwgaGFzUGxhY2Vob2xkZXIgPSAvXFw/Lis9XFw/Ly50ZXN0KHNldHRpbmdzLnVybClcbiAgICBpZiAoaGFzUGxhY2Vob2xkZXIpIGRhdGFUeXBlID0gJ2pzb25wJ1xuXG4gICAgaWYgKHNldHRpbmdzLmNhY2hlID09PSBmYWxzZSB8fCAoXG4gICAgICAgICAoIW9wdGlvbnMgfHwgb3B0aW9ucy5jYWNoZSAhPT0gdHJ1ZSkgJiZcbiAgICAgICAgICgnc2NyaXB0JyA9PSBkYXRhVHlwZSB8fCAnanNvbnAnID09IGRhdGFUeXBlKVxuICAgICAgICApKVxuICAgICAgc2V0dGluZ3MudXJsID0gYXBwZW5kUXVlcnkoc2V0dGluZ3MudXJsLCAnXz0nICsgRGF0ZS5ub3coKSlcblxuICAgIGlmICgnanNvbnAnID09IGRhdGFUeXBlKSB7XG4gICAgICBpZiAoIWhhc1BsYWNlaG9sZGVyKVxuICAgICAgICBzZXR0aW5ncy51cmwgPSBhcHBlbmRRdWVyeShzZXR0aW5ncy51cmwsXG4gICAgICAgICAgc2V0dGluZ3MuanNvbnAgPyAoc2V0dGluZ3MuanNvbnAgKyAnPT8nKSA6IHNldHRpbmdzLmpzb25wID09PSBmYWxzZSA/ICcnIDogJ2NhbGxiYWNrPT8nKVxuICAgICAgcmV0dXJuICQuYWpheEpTT05QKHNldHRpbmdzLCBkZWZlcnJlZClcbiAgICB9XG5cbiAgICB2YXIgbWltZSA9IHNldHRpbmdzLmFjY2VwdHNbZGF0YVR5cGVdLFxuICAgICAgICBoZWFkZXJzID0geyB9LFxuICAgICAgICBzZXRIZWFkZXIgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkgeyBoZWFkZXJzW25hbWUudG9Mb3dlckNhc2UoKV0gPSBbbmFtZSwgdmFsdWVdIH0sXG4gICAgICAgIHByb3RvY29sID0gL14oW1xcdy1dKzopXFwvXFwvLy50ZXN0KHNldHRpbmdzLnVybCkgPyBSZWdFeHAuJDEgOiB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wsXG4gICAgICAgIHhociA9IHNldHRpbmdzLnhocigpLFxuICAgICAgICBuYXRpdmVTZXRIZWFkZXIgPSB4aHIuc2V0UmVxdWVzdEhlYWRlcixcbiAgICAgICAgYWJvcnRUaW1lb3V0XG5cbiAgICBpZiAoZGVmZXJyZWQpIGRlZmVycmVkLnByb21pc2UoeGhyKVxuXG4gICAgaWYgKCFzZXR0aW5ncy5jcm9zc0RvbWFpbikgc2V0SGVhZGVyKCdYLVJlcXVlc3RlZC1XaXRoJywgJ1hNTEh0dHBSZXF1ZXN0JylcbiAgICBzZXRIZWFkZXIoJ0FjY2VwdCcsIG1pbWUgfHwgJyovKicpXG4gICAgaWYgKG1pbWUgPSBzZXR0aW5ncy5taW1lVHlwZSB8fCBtaW1lKSB7XG4gICAgICBpZiAobWltZS5pbmRleE9mKCcsJykgPiAtMSkgbWltZSA9IG1pbWUuc3BsaXQoJywnLCAyKVswXVxuICAgICAgeGhyLm92ZXJyaWRlTWltZVR5cGUgJiYgeGhyLm92ZXJyaWRlTWltZVR5cGUobWltZSlcbiAgICB9XG4gICAgaWYgKHNldHRpbmdzLmNvbnRlbnRUeXBlIHx8IChzZXR0aW5ncy5jb250ZW50VHlwZSAhPT0gZmFsc2UgJiYgc2V0dGluZ3MuZGF0YSAmJiBzZXR0aW5ncy50eXBlLnRvVXBwZXJDYXNlKCkgIT0gJ0dFVCcpKVxuICAgICAgc2V0SGVhZGVyKCdDb250ZW50LVR5cGUnLCBzZXR0aW5ncy5jb250ZW50VHlwZSB8fCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJylcblxuICAgIGlmIChzZXR0aW5ncy5oZWFkZXJzKSBmb3IgKG5hbWUgaW4gc2V0dGluZ3MuaGVhZGVycykgc2V0SGVhZGVyKG5hbWUsIHNldHRpbmdzLmhlYWRlcnNbbmFtZV0pXG4gICAgeGhyLnNldFJlcXVlc3RIZWFkZXIgPSBzZXRIZWFkZXJcblxuICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpe1xuICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09IDQpIHtcbiAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGVtcHR5XG4gICAgICAgIGNsZWFyVGltZW91dChhYm9ydFRpbWVvdXQpXG4gICAgICAgIHZhciByZXN1bHQsIGVycm9yID0gZmFsc2VcbiAgICAgICAgaWYgKCh4aHIuc3RhdHVzID49IDIwMCAmJiB4aHIuc3RhdHVzIDwgMzAwKSB8fCB4aHIuc3RhdHVzID09IDMwNCB8fCAoeGhyLnN0YXR1cyA9PSAwICYmIHByb3RvY29sID09ICdmaWxlOicpKSB7XG4gICAgICAgICAgZGF0YVR5cGUgPSBkYXRhVHlwZSB8fCBtaW1lVG9EYXRhVHlwZShzZXR0aW5ncy5taW1lVHlwZSB8fCB4aHIuZ2V0UmVzcG9uc2VIZWFkZXIoJ2NvbnRlbnQtdHlwZScpKVxuXG4gICAgICAgICAgaWYgKHhoci5yZXNwb25zZVR5cGUgPT0gJ2FycmF5YnVmZmVyJyB8fCB4aHIucmVzcG9uc2VUeXBlID09ICdibG9iJylcbiAgICAgICAgICAgIHJlc3VsdCA9IHhoci5yZXNwb25zZVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0geGhyLnJlc3BvbnNlVGV4dFxuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAvLyBodHRwOi8vcGVyZmVjdGlvbmtpbGxzLmNvbS9nbG9iYWwtZXZhbC13aGF0LWFyZS10aGUtb3B0aW9ucy9cbiAgICAgICAgICAgICAgLy8gc2FuaXRpemUgcmVzcG9uc2UgYWNjb3JkaW5nbHkgaWYgZGF0YSBmaWx0ZXIgY2FsbGJhY2sgcHJvdmlkZWRcbiAgICAgICAgICAgICAgcmVzdWx0ID0gYWpheERhdGFGaWx0ZXIocmVzdWx0LCBkYXRhVHlwZSwgc2V0dGluZ3MpXG4gICAgICAgICAgICAgIGlmIChkYXRhVHlwZSA9PSAnc2NyaXB0JykgICAgKDEsZXZhbCkocmVzdWx0KVxuICAgICAgICAgICAgICBlbHNlIGlmIChkYXRhVHlwZSA9PSAneG1sJykgIHJlc3VsdCA9IHhoci5yZXNwb25zZVhNTFxuICAgICAgICAgICAgICBlbHNlIGlmIChkYXRhVHlwZSA9PSAnanNvbicpIHJlc3VsdCA9IGJsYW5rUkUudGVzdChyZXN1bHQpID8gbnVsbCA6ICQucGFyc2VKU09OKHJlc3VsdClcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsgZXJyb3IgPSBlIH1cblxuICAgICAgICAgICAgaWYgKGVycm9yKSByZXR1cm4gYWpheEVycm9yKGVycm9yLCAncGFyc2VyZXJyb3InLCB4aHIsIHNldHRpbmdzLCBkZWZlcnJlZClcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBhamF4U3VjY2VzcyhyZXN1bHQsIHhociwgc2V0dGluZ3MsIGRlZmVycmVkKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFqYXhFcnJvcih4aHIuc3RhdHVzVGV4dCB8fCBudWxsLCB4aHIuc3RhdHVzID8gJ2Vycm9yJyA6ICdhYm9ydCcsIHhociwgc2V0dGluZ3MsIGRlZmVycmVkKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGFqYXhCZWZvcmVTZW5kKHhociwgc2V0dGluZ3MpID09PSBmYWxzZSkge1xuICAgICAgeGhyLmFib3J0KClcbiAgICAgIGFqYXhFcnJvcihudWxsLCAnYWJvcnQnLCB4aHIsIHNldHRpbmdzLCBkZWZlcnJlZClcbiAgICAgIHJldHVybiB4aHJcbiAgICB9XG5cbiAgICB2YXIgYXN5bmMgPSAnYXN5bmMnIGluIHNldHRpbmdzID8gc2V0dGluZ3MuYXN5bmMgOiB0cnVlXG4gICAgeGhyLm9wZW4oc2V0dGluZ3MudHlwZSwgc2V0dGluZ3MudXJsLCBhc3luYywgc2V0dGluZ3MudXNlcm5hbWUsIHNldHRpbmdzLnBhc3N3b3JkKVxuXG4gICAgaWYgKHNldHRpbmdzLnhockZpZWxkcykgZm9yIChuYW1lIGluIHNldHRpbmdzLnhockZpZWxkcykgeGhyW25hbWVdID0gc2V0dGluZ3MueGhyRmllbGRzW25hbWVdXG5cbiAgICBmb3IgKG5hbWUgaW4gaGVhZGVycykgbmF0aXZlU2V0SGVhZGVyLmFwcGx5KHhociwgaGVhZGVyc1tuYW1lXSlcblxuICAgIGlmIChzZXR0aW5ncy50aW1lb3V0ID4gMCkgYWJvcnRUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZW1wdHlcbiAgICAgICAgeGhyLmFib3J0KClcbiAgICAgICAgYWpheEVycm9yKG51bGwsICd0aW1lb3V0JywgeGhyLCBzZXR0aW5ncywgZGVmZXJyZWQpXG4gICAgICB9LCBzZXR0aW5ncy50aW1lb3V0KVxuXG4gICAgLy8gYXZvaWQgc2VuZGluZyBlbXB0eSBzdHJpbmcgKCMzMTkpXG4gICAgeGhyLnNlbmQoc2V0dGluZ3MuZGF0YSA/IHNldHRpbmdzLmRhdGEgOiBudWxsKVxuICAgIHJldHVybiB4aHJcbiAgfVxuXG4gIC8vIGhhbmRsZSBvcHRpb25hbCBkYXRhL3N1Y2Nlc3MgYXJndW1lbnRzXG4gIGZ1bmN0aW9uIHBhcnNlQXJndW1lbnRzKHVybCwgZGF0YSwgc3VjY2VzcywgZGF0YVR5cGUpIHtcbiAgICBpZiAoJC5pc0Z1bmN0aW9uKGRhdGEpKSBkYXRhVHlwZSA9IHN1Y2Nlc3MsIHN1Y2Nlc3MgPSBkYXRhLCBkYXRhID0gdW5kZWZpbmVkXG4gICAgaWYgKCEkLmlzRnVuY3Rpb24oc3VjY2VzcykpIGRhdGFUeXBlID0gc3VjY2Vzcywgc3VjY2VzcyA9IHVuZGVmaW5lZFxuICAgIHJldHVybiB7XG4gICAgICB1cmw6IHVybFxuICAgICwgZGF0YTogZGF0YVxuICAgICwgc3VjY2Vzczogc3VjY2Vzc1xuICAgICwgZGF0YVR5cGU6IGRhdGFUeXBlXG4gICAgfVxuICB9XG5cbiAgJC5nZXQgPSBmdW5jdGlvbigvKiB1cmwsIGRhdGEsIHN1Y2Nlc3MsIGRhdGFUeXBlICovKXtcbiAgICByZXR1cm4gJC5hamF4KHBhcnNlQXJndW1lbnRzLmFwcGx5KG51bGwsIGFyZ3VtZW50cykpXG4gIH1cblxuICAkLnBvc3QgPSBmdW5jdGlvbigvKiB1cmwsIGRhdGEsIHN1Y2Nlc3MsIGRhdGFUeXBlICovKXtcbiAgICB2YXIgb3B0aW9ucyA9IHBhcnNlQXJndW1lbnRzLmFwcGx5KG51bGwsIGFyZ3VtZW50cylcbiAgICBvcHRpb25zLnR5cGUgPSAnUE9TVCdcbiAgICByZXR1cm4gJC5hamF4KG9wdGlvbnMpXG4gIH1cblxuICAkLmdldEpTT04gPSBmdW5jdGlvbigvKiB1cmwsIGRhdGEsIHN1Y2Nlc3MgKi8pe1xuICAgIHZhciBvcHRpb25zID0gcGFyc2VBcmd1bWVudHMuYXBwbHkobnVsbCwgYXJndW1lbnRzKVxuICAgIG9wdGlvbnMuZGF0YVR5cGUgPSAnanNvbidcbiAgICByZXR1cm4gJC5hamF4KG9wdGlvbnMpXG4gIH1cblxuICAkLmZuLmxvYWQgPSBmdW5jdGlvbih1cmwsIGRhdGEsIHN1Y2Nlc3Mpe1xuICAgIGlmICghdGhpcy5sZW5ndGgpIHJldHVybiB0aGlzXG4gICAgdmFyIHNlbGYgPSB0aGlzLCBwYXJ0cyA9IHVybC5zcGxpdCgvXFxzLyksIHNlbGVjdG9yLFxuICAgICAgICBvcHRpb25zID0gcGFyc2VBcmd1bWVudHModXJsLCBkYXRhLCBzdWNjZXNzKSxcbiAgICAgICAgY2FsbGJhY2sgPSBvcHRpb25zLnN1Y2Nlc3NcbiAgICBpZiAocGFydHMubGVuZ3RoID4gMSkgb3B0aW9ucy51cmwgPSBwYXJ0c1swXSwgc2VsZWN0b3IgPSBwYXJ0c1sxXVxuICAgIG9wdGlvbnMuc3VjY2VzcyA9IGZ1bmN0aW9uKHJlc3BvbnNlKXtcbiAgICAgIHNlbGYuaHRtbChzZWxlY3RvciA/XG4gICAgICAgICQoJzxkaXY+JykuaHRtbChyZXNwb25zZS5yZXBsYWNlKHJzY3JpcHQsIFwiXCIpKS5maW5kKHNlbGVjdG9yKVxuICAgICAgICA6IHJlc3BvbnNlKVxuICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2suYXBwbHkoc2VsZiwgYXJndW1lbnRzKVxuICAgIH1cbiAgICAkLmFqYXgob3B0aW9ucylcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgdmFyIGVzY2FwZSA9IGVuY29kZVVSSUNvbXBvbmVudFxuXG4gIGZ1bmN0aW9uIHNlcmlhbGl6ZShwYXJhbXMsIG9iaiwgdHJhZGl0aW9uYWwsIHNjb3BlKXtcbiAgICB2YXIgdHlwZSwgYXJyYXkgPSAkLmlzQXJyYXkob2JqKSwgaGFzaCA9ICQuaXNQbGFpbk9iamVjdChvYmopXG4gICAgJC5lYWNoKG9iaiwgZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgdHlwZSA9ICQudHlwZSh2YWx1ZSlcbiAgICAgIGlmIChzY29wZSkga2V5ID0gdHJhZGl0aW9uYWwgPyBzY29wZSA6XG4gICAgICAgIHNjb3BlICsgJ1snICsgKGhhc2ggfHwgdHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdhcnJheScgPyBrZXkgOiAnJykgKyAnXSdcbiAgICAgIC8vIGhhbmRsZSBkYXRhIGluIHNlcmlhbGl6ZUFycmF5KCkgZm9ybWF0XG4gICAgICBpZiAoIXNjb3BlICYmIGFycmF5KSBwYXJhbXMuYWRkKHZhbHVlLm5hbWUsIHZhbHVlLnZhbHVlKVxuICAgICAgLy8gcmVjdXJzZSBpbnRvIG5lc3RlZCBvYmplY3RzXG4gICAgICBlbHNlIGlmICh0eXBlID09IFwiYXJyYXlcIiB8fCAoIXRyYWRpdGlvbmFsICYmIHR5cGUgPT0gXCJvYmplY3RcIikpXG4gICAgICAgIHNlcmlhbGl6ZShwYXJhbXMsIHZhbHVlLCB0cmFkaXRpb25hbCwga2V5KVxuICAgICAgZWxzZSBwYXJhbXMuYWRkKGtleSwgdmFsdWUpXG4gICAgfSlcbiAgfVxuXG4gICQucGFyYW0gPSBmdW5jdGlvbihvYmosIHRyYWRpdGlvbmFsKXtcbiAgICB2YXIgcGFyYW1zID0gW11cbiAgICBwYXJhbXMuYWRkID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKCQuaXNGdW5jdGlvbih2YWx1ZSkpIHZhbHVlID0gdmFsdWUoKVxuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHZhbHVlID0gXCJcIlxuICAgICAgdGhpcy5wdXNoKGVzY2FwZShrZXkpICsgJz0nICsgZXNjYXBlKHZhbHVlKSlcbiAgICB9XG4gICAgc2VyaWFsaXplKHBhcmFtcywgb2JqLCB0cmFkaXRpb25hbClcbiAgICByZXR1cm4gcGFyYW1zLmpvaW4oJyYnKS5yZXBsYWNlKC8lMjAvZywgJysnKVxuICB9XG59KShaZXB0bylcblxuOyhmdW5jdGlvbigkKXtcbiAgJC5mbi5zZXJpYWxpemVBcnJheSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBuYW1lLCB0eXBlLCByZXN1bHQgPSBbXSxcbiAgICAgIGFkZCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZS5mb3JFYWNoKSByZXR1cm4gdmFsdWUuZm9yRWFjaChhZGQpXG4gICAgICAgIHJlc3VsdC5wdXNoKHsgbmFtZTogbmFtZSwgdmFsdWU6IHZhbHVlIH0pXG4gICAgICB9XG4gICAgaWYgKHRoaXNbMF0pICQuZWFjaCh0aGlzWzBdLmVsZW1lbnRzLCBmdW5jdGlvbihfLCBmaWVsZCl7XG4gICAgICB0eXBlID0gZmllbGQudHlwZSwgbmFtZSA9IGZpZWxkLm5hbWVcbiAgICAgIGlmIChuYW1lICYmIGZpZWxkLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgIT0gJ2ZpZWxkc2V0JyAmJlxuICAgICAgICAhZmllbGQuZGlzYWJsZWQgJiYgdHlwZSAhPSAnc3VibWl0JyAmJiB0eXBlICE9ICdyZXNldCcgJiYgdHlwZSAhPSAnYnV0dG9uJyAmJiB0eXBlICE9ICdmaWxlJyAmJlxuICAgICAgICAoKHR5cGUgIT0gJ3JhZGlvJyAmJiB0eXBlICE9ICdjaGVja2JveCcpIHx8IGZpZWxkLmNoZWNrZWQpKVxuICAgICAgICAgIGFkZCgkKGZpZWxkKS52YWwoKSlcbiAgICB9KVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gICQuZm4uc2VyaWFsaXplID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgcmVzdWx0ID0gW11cbiAgICB0aGlzLnNlcmlhbGl6ZUFycmF5KCkuZm9yRWFjaChmdW5jdGlvbihlbG0pe1xuICAgICAgcmVzdWx0LnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGVsbS5uYW1lKSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChlbG0udmFsdWUpKVxuICAgIH0pXG4gICAgcmV0dXJuIHJlc3VsdC5qb2luKCcmJylcbiAgfVxuXG4gICQuZm4uc3VibWl0ID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICBpZiAoMCBpbiBhcmd1bWVudHMpIHRoaXMuYmluZCgnc3VibWl0JywgY2FsbGJhY2spXG4gICAgZWxzZSBpZiAodGhpcy5sZW5ndGgpIHtcbiAgICAgIHZhciBldmVudCA9ICQuRXZlbnQoJ3N1Ym1pdCcpXG4gICAgICB0aGlzLmVxKDApLnRyaWdnZXIoZXZlbnQpXG4gICAgICBpZiAoIWV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSB0aGlzLmdldCgwKS5zdWJtaXQoKVxuICAgIH1cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbn0pKFplcHRvKVxuXG47KGZ1bmN0aW9uKCl7XG4gIC8vIGdldENvbXB1dGVkU3R5bGUgc2hvdWxkbid0IGZyZWFrIG91dCB3aGVuIGNhbGxlZFxuICAvLyB3aXRob3V0IGEgdmFsaWQgZWxlbWVudCBhcyBhcmd1bWVudFxuICB0cnkge1xuICAgIGdldENvbXB1dGVkU3R5bGUodW5kZWZpbmVkKVxuICB9IGNhdGNoKGUpIHtcbiAgICB2YXIgbmF0aXZlR2V0Q29tcHV0ZWRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGVcbiAgICB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSA9IGZ1bmN0aW9uKGVsZW1lbnQsIHBzZXVkb0VsZW1lbnQpe1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZUdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgcHNldWRvRWxlbWVudClcbiAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgfVxuICAgIH1cbiAgfVxufSkoKVxuICByZXR1cm4gWmVwdG9cbn0pKVxuXG47IGJyb3dzZXJpZnlfc2hpbV9fZGVmaW5lX19tb2R1bGVfX2V4cG9ydF9fKHR5cGVvZiAkICE9IFwidW5kZWZpbmVkXCIgPyAkIDogd2luZG93LiQpO1xuXG59KS5jYWxsKGdsb2JhbCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBmdW5jdGlvbiBkZWZpbmVFeHBvcnQoZXgpIHsgbW9kdWxlLmV4cG9ydHMgPSBleDsgfSk7XG4iXX0="}